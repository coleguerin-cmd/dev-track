{
  "scanned_at": "2026-02-07T17:17:18.979Z",
  "project_root": "C:\\Users\\realk\\Projects\\pillar",
  "stats": {
    "total_files": 664,
    "total_lines": 138973,
    "total_functions": 718,
    "total_components": 462,
    "total_api_routes": 127,
    "total_pages": 87,
    "total_external_services": 6,
    "file_types": {
      "page": 87,
      "component": 173,
      "other": 5,
      "api_route": 127,
      "hook": 13,
      "utility": 227,
      "test": 17,
      "schema": 15
    }
  },
  "files": [
    {
      "path": "apps/web/src/app/admin/ai-logs/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 322,
      "size": 14283,
      "type": "page",
      "exports": [
        {
          "name": "AdminAILogsPage",
          "kind": "component",
          "line": 27,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/database/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 134,
      "size": 6767,
      "type": "page",
      "exports": [
        {
          "name": "AdminDatabasePage",
          "kind": "component",
          "line": 5,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities",
            "artifacts",
            "observations",
            "aggregatedObservations",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/health/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 149,
      "size": 5981,
      "type": "page",
      "exports": [
        {
          "name": "AdminHealthPage",
          "kind": "component",
          "line": 5,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "observations",
            "aggregatedObservations"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/layout.tsx",
      "name": "layout.tsx",
      "extension": ".tsx",
      "lines": 49,
      "size": 1683,
      "type": "component",
      "exports": [
        {
          "name": "AdminLayout",
          "kind": "component",
          "line": 18,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "usePathname"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/admin/models/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 175,
      "size": 7989,
      "type": "page",
      "exports": [
        {
          "name": "ModelsPage",
          "kind": "component",
          "line": 23,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/model-catalog",
          "names": [
            "listAvailableModels"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/monitoring/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 437,
      "size": 19963,
      "type": "page",
      "exports": [
        {
          "name": "AdminMonitoringPage",
          "kind": "component",
          "line": 27,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/monitoring/sentry-api",
          "names": [
            "getSentryStats",
            "getSentryIssues",
            "isSentryConfigured"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/monitoring/helicone-api",
          "names": [
            "getHeliconeCostStats",
            "isHeliconeConfigured"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/cost-tracking",
          "names": [
            "getUsageSummary"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "AlertCircle",
            "DollarSign",
            "Activity",
            "Zap",
            "TrendingUp",
            "Clock",
            "Layers",
            "Server"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 7
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 8
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 9
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 30
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 33
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 38
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 38
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 300
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 301
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 303
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 312
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 322
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 332
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 342
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 414
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 419
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 419
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 387
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 387
        }
      ],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 308,
      "size": 14651,
      "type": "page",
      "exports": [
        {
          "name": "AdminPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "getActiveWorkspaceMeta"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities",
            "artifacts",
            "observations",
            "aggregatedObservations"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/performance/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 246,
      "size": 12392,
      "type": "page",
      "exports": [
        {
          "name": "PerformancePage",
          "kind": "component",
          "line": 4,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/stt-metrics/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 22,
      "size": 643,
      "type": "page",
      "exports": [
        {
          "name": "STTMetricsPage",
          "kind": "component",
          "line": 4,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/STTMetricsClient",
          "names": [
            "STTMetricsClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/admin/traces/actions.ts",
      "name": "actions.ts",
      "extension": ".ts",
      "lines": 31,
      "size": 904,
      "type": "other",
      "exports": [
        {
          "name": "getTraceCalls",
          "kind": "function",
          "line": 6,
          "isDefault": false,
          "params": "(requestId: string)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/traces/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 95,
      "size": 4023,
      "type": "page",
      "exports": [
        {
          "name": "TracesPage",
          "kind": "component",
          "line": 5,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./trace-list",
          "names": [
            "TraceList"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/traces/trace-list.tsx",
      "name": "trace-list.tsx",
      "extension": ".tsx",
      "lines": 199,
      "size": 8013,
      "type": "component",
      "exports": [
        {
          "name": "TraceList",
          "kind": "component",
          "line": 30,
          "isDefault": false,
          "params": "({ traces }: { traces: Trace[] })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./actions",
          "names": [
            "getTraceCalls"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/app/admin/vectors/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 190,
      "size": 7999,
      "type": "page",
      "exports": [
        {
          "name": "AdminVectorsPage",
          "kind": "component",
          "line": 5,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities",
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/work-architecture/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 191,
      "size": 8620,
      "type": "page",
      "exports": [
        {
          "name": "WorkArchitectureAdminPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry",
            "savedViews",
            "workScaffolds"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "asc",
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin/workouts/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 322,
      "size": 13384,
      "type": "page",
      "exports": [
        {
          "name": "AdminWorkoutsPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql",
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils/1rm",
          "names": [
            "calculate1RM"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/admin-login/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 11,
      "size": 397,
      "type": "page",
      "exports": [
        {
          "name": "AdminLoginPage",
          "kind": "component",
          "line": 5,
          "isDefault": true
        },
        {
          "name": "dynamic",
          "kind": "constant",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/app/login/login-client",
          "names": [
            "LoginClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/approval/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 502,
      "size": 21276,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "pendingApprovals",
            "messages",
            "userProfiles"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/tools/capture",
          "names": [
            "applyCaptureExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/entity-merge",
          "names": [
            "mergeEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/context-cache",
          "names": [
            "contextCache"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/collections",
          "names": [
            "addCollectionItem",
            "deleteCollectionItem",
            "ensureCollection",
            "updateCollection",
            "updateCollectionItem"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config",
          "names": [
            "upsertSavedView",
            "upsertWorkField",
            "upsertWorkScaffold"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/self-entity",
          "names": [
            "ensureSelfEntity"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafts",
          "names": [
            "clearActiveDraftSnapshot"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/artifacts/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 36,
      "size": 1108,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "isUnauthenticatedError",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/auth/bootstrap/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 286,
      "size": 10886,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 20,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "DEFAULT_ORG_ID",
            "PERSONAL_WORKSPACE_ID",
            "WORK_WORKSPACE_ID"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "userProfiles",
            "workspaceMemberships",
            "orgs",
            "workspaces"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceContextFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/supabase/server",
          "names": [
            "getSupabaseUserId"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@supabase/supabase-js",
          "names": [
            "createClient"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/auth/logout/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 13,
      "size": 488,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 4,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/supabase/server",
          "names": [
            "createSupabaseServerClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/auth/microsoft/callback/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 34,
      "size": 1279,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/integrations/microsoft/auth",
          "names": [
            "exchangeCodeForTokens",
            "storeConnection"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/supabase/server",
          "names": [
            "createSupabaseServerClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/auth/microsoft/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 11,
      "size": 351,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 4,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/integrations/microsoft/auth",
          "names": [
            "buildAuthUrl",
            "isConfigured"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/capture/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 75,
      "size": 2410,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/extract",
          "names": [
            "extractFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/capture",
          "names": [
            "applyCaptureExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/audit",
          "names": [
            "writeAudit"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/chat/draft/clear/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 29,
      "size": 993,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafts",
          "names": [
            "clearActiveDraftSnapshot"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/chat/messages/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 208,
      "size": 7869,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 10,
          "isDefault": false,
          "params": "(request: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "messages",
            "threads",
            "pendingApprovals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafts",
          "names": [
            "getActiveDraftSnapshot"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "and",
            "sql",
            "lt",
            "or",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/chat/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 1046,
      "size": 43426,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 57,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts",
            "threads",
            "messages",
            "threadRollingSummaries",
            "pendingApprovals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/extract",
          "names": [
            "extractFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/extract-work",
          "names": [
            "extractWorkFromText",
            "normalizeWorkExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/smart-extraction",
          "names": [
            "smartExtract"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/alias-dictionary",
          "names": [
            "type AliasDictionary"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/proposal-shaping",
          "names": [
            "shapeWorkExtractionForProposals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/schema-sanitizer",
          "names": [
            "getAllowedWorkFieldMap",
            "sanitizeWorkExtractionToFieldMap"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/capture",
          "names": [
            "applyCaptureExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/audit",
          "names": [
            "writeAudit"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/user-settings",
          "names": [
            "getUserProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/context",
          "names": [
            "getContextualMemory",
            "formatContextualMemory"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/insights",
          "names": [
            "shouldExtractInsights",
            "generateInsightPrompts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/goals-extraction",
          "names": [
            "extractGoalsFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/emotion-extraction",
          "names": [
            "extractEmotionsFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/enterprise-context",
          "names": [
            "generateEnterpriseContext",
            "formatEnterpriseContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/initialization-completion",
          "names": [
            "checkInitializationCompletion"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/thread-router",
          "names": [
            "routeToThread"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/entity-resolver",
          "names": [
            "extractEntityMentions",
            "resolveEntityCandidates"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/clarification",
          "names": [
            "needsClarification",
            "generateClarificationPrompt"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/memory",
          "names": [
            "retrieveRelevantMemory",
            "formatMemoryForContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/thread-context",
          "names": [
            "assembleThreadContext",
            "formatThreadContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "routeMessage",
            "executeWithFallback"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/embeddings",
          "names": [
            "generateEventEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/thread-markers",
          "names": [
            "updateRollingSummary",
            "createThreadMarker"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/agent/runtime",
          "names": [
            "runAgentTurnToText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/prepare-agent-input",
          "names": [
            "prepareAgentInputText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/experience/selector",
          "names": [
            "getExperiencePack"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/shared-context",
          "names": [
            "buildChatContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/threading",
          "names": [
            "resolveChatThread"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/approvals",
          "names": [
            "setPendingApprovalMessageId",
            "upsertPendingApproval"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/persistence",
          "names": [
            "bumpThreadCounts",
            "insertAssistantChatMessage",
            "insertUserChatMessage",
            "storeChatArtifact"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/self-entity",
          "names": [
            "getSelfEntityResolutions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafting",
          "names": [
            "runPostTurnDrafting"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/preflight",
          "names": [
            "preflightChatTurn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/merge-intent",
          "names": [
            "detectMergeIntents"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/merge-resolution",
          "names": [
            "resolveMergeIntents"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/merge-changes",
          "names": [
            "applyPendingMergesToProposedChanges"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafts",
          "names": [
            "upsertDraftSnapshot"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafts",
          "names": [
            "getActiveDraftSnapshot"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/draft-merge",
          "names": [
            "mergeDraftChangeSet"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/approval",
          "names": [
            "needsApproval",
            "generateProposedChanges",
            "categorizeChanges",
            "formatProposedChanges"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/risk-classifier",
          "names": [
            "classifyChangeRisk",
            "summarizeAutoApplyChanges"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/fitness-plan-intent",
          "names": [
            "isFitnessPlanApproval",
            "isFitnessPlanRequest"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planGenerationJobs",
            "planVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/schedule",
          "names": [
            "runScheduleJobChunk"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "inferPlanEndDate",
            "trainingPlanSchema"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/chat/stream/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 965,
      "size": 44536,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 112,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "runtime",
          "kind": "constant",
          "line": 62,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/agent-events",
          "names": [
            "sseEncode",
            "type AgentEvent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/agent/runtime",
          "names": [
            "runAgentTurn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "getActiveWorkspaceDbSessionClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/embeddings",
          "names": [
            "generateEventEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/agent/intent",
          "names": [
            "detectIntent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/agent/significance",
          "names": [
            "scoreSignificance"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/agent/mode",
          "names": [
            "decideMode"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/agent/checkpoints",
          "names": [
            "detectCheckpoint"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/shared-context",
          "names": [
            "buildChatContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/threading",
          "names": [
            "resolveChatThread"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/approvals",
          "names": [
            "upsertPendingApproval"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/preflight",
          "names": [
            "preflightChatTurn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/self-entity",
          "names": [
            "getSelfEntityResolutions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafting",
          "names": [
            "runPostTurnDrafting"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/prepare-agent-input",
          "names": [
            "prepareAgentInputText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/experience/selector",
          "names": [
            "getExperiencePack"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/merge-intent",
          "names": [
            "detectMergeIntents"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/merge-resolution",
          "names": [
            "resolveMergeIntents"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/merge-changes",
          "names": [
            "applyPendingMergesToProposedChanges"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafts",
          "names": [
            "upsertDraftSnapshot"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafts",
          "names": [
            "getActiveDraftSnapshot"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/draft-merge",
          "names": [
            "mergeDraftChangeSet"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/digest-attachments",
          "names": [
            "digestAttachments",
            "type Attachment"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/extract",
          "names": [
            "extractFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/extract-work",
          "names": [
            "extractWorkFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/smart-extraction",
          "names": [
            "smartExtract"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/extraction-context",
          "names": [
            "buildExtractionContext",
            "getSessionEntities",
            "getSessionEvents"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/vip-entities",
          "names": [
            "getVipEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/post-extraction",
          "names": [
            "inferRelationshipsFromExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/thread-intent-memory",
          "names": [
            "recordThreadIntent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/disambiguation-memory",
          "names": [
            "matchDisambiguationReply",
            "getPendingDisambiguations",
            "storePendingDisambiguations",
            "clearPendingDisambiguations",
            "recordDisambiguationChoice"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/extraction/integration",
          "names": [
            "enhancedWorkExtraction",
            "shouldUseMultiTarget"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/alias-dictionary",
          "names": [
            "type AliasDictionary"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/query-intelligence",
          "names": [
            "answerWorkQuestion"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/insights",
          "names": [
            "executeInsightQuery",
            "isLikelyInsightQuestion",
            "formatInsightForChat"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/user-settings",
          "names": [
            "getUserProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/proposal-shaping",
          "names": [
            "shapeWorkExtractionForProposals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/entity-synthesis",
          "names": [
            "synthesizeEntityUpdates"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/schema-sanitizer",
          "names": [
            "getAllowedWorkFieldMap",
            "sanitizeWorkExtractionToFieldMap"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/approval",
          "names": [
            "categorizeChanges",
            "generateProposedChanges"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/risk-classifier",
          "names": [
            "classifyChangeRisk",
            "summarizeAutoApplyChanges"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/enterprise-context",
          "names": [
            "getDatabaseSchema"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/fitness-plan-intent",
          "names": [
            "isFitnessPlanApproval",
            "isFitnessPlanRequest"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planGenerationJobs",
            "planVersions",
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "inferPlanEndDate",
            "trainingPlanSchema"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/schedule",
          "names": [
            "runScheduleJobChunk"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/persistence",
          "names": [
            "bumpThreadCounts",
            "insertAssistantChatMessage",
            "insertUserChatMessage"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/chat/threads/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 43,
      "size": 1302,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "threads",
            "messages"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/collections/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 36,
      "size": 1602,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 13,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "collections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/collections/[slug]/items/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 58,
      "size": 2080,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ slug: string }> })"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 26,
          "isDefault": false,
          "params": "(req: Request, ctx: { params: Promise<{ slug: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "collectionItems",
            "collections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/collections/[slug]/items/[itemId]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 87,
      "size": 3540,
      "type": "api_route",
      "exports": [
        {
          "name": "PATCH",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: Request, ctx: { params: Promise<{ slug: string; itemId: string }> })"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 68,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ slug: string; itemId: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "collectionItems",
            "collections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/collections/[slug]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 43,
      "size": 1930,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ slug: string }> })"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 15,
          "isDefault": false,
          "params": "(req: Request, ctx: { params: Promise<{ slug: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "collections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/cron/intelligence/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 110,
      "size": 3022,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 38,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "GET",
          "kind": "component",
          "line": 102,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/cron/intelligence-maintenance",
          "names": [
            "runIntelligenceMaintenance",
            "runQuickIntelligenceMaintenance",
            "generateProactiveSuggestions",
            "cleanupExpiredSuggestions",
            "refreshEntityScores"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/cron/knowledge/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 130,
      "size": 4010,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 42,
          "isDefault": false,
          "params": "(request: NextRequest)"
        },
        {
          "name": "GET",
          "kind": "component",
          "line": 116,
          "isDefault": false,
          "params": "(request: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/cron/knowledge-maintenance",
          "names": [
            "runKnowledgeMaintenance",
            "runQuickMaintenance",
            "updateRelevanceScores",
            "refreshPatterns",
            "resolveRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/cron/start/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 24,
      "size": 570,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/cron/scheduler",
          "names": [
            "startCronJobs"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/cron/trends/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 64,
      "size": 1913,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 25,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/cron/trends",
          "names": [
            "updateTrends"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/daily-brief/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 24,
      "size": 661,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 5,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/daily-brief",
          "names": [
            "buildDailyBrief"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/entities/bulk/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 106,
      "size": 3179,
      "type": "api_route",
      "exports": [
        {
          "name": "DELETE",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 53,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "eventEntities",
            "entityRelationships",
            "auditLog"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "inArray",
            "or",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/entities/duplicates/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 242,
      "size": 7453,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 27,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql",
            "eq",
            "and",
            "ne",
            "or",
            "ilike"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/entities/merge/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 89,
      "size": 2915,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/entity-merge",
          "names": [
            "mergeEntities",
            "findEntitiesByName"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/entities/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 102,
      "size": 3612,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 43,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/seed",
          "names": [
            "ensureDefaultPillars"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/entities/[id]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 74,
      "size": 2934,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ id: string }> })"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 23,
          "isDefault": false,
          "params": "(req: Request, ctx: { params: Promise<{ id: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/optimistic",
          "names": [
            "parseExpectedUpdatedAt",
            "sameInstant"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/events/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 91,
      "size": 2928,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 37,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "eventEntities",
            "events",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/seed",
          "names": [
            "ensureDefaultPillars"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/events/[id]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 90,
      "size": 3638,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ id: string }> })"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 28,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ id: string }> })"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 39,
          "isDefault": false,
          "params": "(req: Request, ctx: { params: Promise<{ id: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/optimistic",
          "names": [
            "parseExpectedUpdatedAt",
            "sameInstant"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/events/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 54,
      "size": 1822,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/seed",
          "names": [
            "ensureDefaultPillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/exercises/[name]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 54,
      "size": 1756,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ name: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "isUnauthenticatedError",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils/1rm",
          "names": [
            "calculate1RM"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/generate-plan/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 102,
      "size": 3206,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "(request: NextRequest)"
        },
        {
          "name": "runtime",
          "kind": "constant",
          "line": 13,
          "isDefault": false
        },
        {
          "name": "maxDuration",
          "kind": "constant",
          "line": 14,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/fitness/plan-generator",
          "names": [
            "generatePlan",
            "generateQuickPlan",
            "type GenerationRequest",
            "type GenerationProgress"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/fitness/insights/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 35,
      "size": 1059,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/activate/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 151,
      "size": 5626,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 19,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planGenerationJobs",
            "planVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/schedule",
          "names": [
            "runScheduleJobChunk"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "inferPlanEndDate",
            "trainingPlanSchema"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/clear/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 149,
      "size": 5873,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "fitnessPlanArtifacts",
            "fitnessPlanDays",
            "planGenerationJobs",
            "planVersions",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "EMPTY_TRAINING_PLAN",
            "trainingPlanSchema"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/generation/restart/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 91,
      "size": 3611,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 24,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "fitnessPlanArtifacts",
            "fitnessPlanDays",
            "planGenerationJobs"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/schedule",
          "names": [
            "runScheduleJobChunk"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/generation/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 63,
      "size": 2311,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planGenerationJobs"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/materialized/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 64,
      "size": 2383,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fitnessPlanDays"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/propose/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 57,
      "size": 1980,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "trainingPlanSchema"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/range/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 26,
      "size": 1012,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "materializeRange"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/review/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 187,
      "size": 7298,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 33,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "planVersions",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveDay",
            "trainingPlanSchema",
            "withBulkDayOverrides",
            "type TrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 79,
      "size": 2650,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 28,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "trainingPlanSchema"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/schedule/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 117,
      "size": 4184,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 12,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 47,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planGenerationJobs"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/schedule",
          "names": [
            "runScheduleJobChunk"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/schedule/run/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 23,
      "size": 800,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/schedule",
          "names": [
            "runScheduleJobChunk"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/today/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 28,
      "size": 902,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveDay"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/fitness/plan/week/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 27,
      "size": 877,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveWeek"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/fitness/save-plan/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 79,
      "size": 2343,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 12,
          "isDefault": false,
          "params": "(request: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/plan-storage",
          "names": [
            "createDraftPlan",
            "activatePlan",
            "type GenerationCost",
            "type PlanMetadata"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/plan-parser",
          "names": [
            "parseFitnessPlan",
            "getPlanStats"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/fitness/save-workout/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 101,
      "size": 2592,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "(request: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/plan-storage",
          "names": [
            "recordExecutedWorkout",
            "type ExecutedExercise"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/fitness/stats/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 36,
      "size": 1026,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/goals/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 118,
      "size": 3467,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 58,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "goals",
            "goalVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/goals/[id]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 118,
      "size": 3391,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(\r\n  req: Request,\r\n  { params }: { params: Promise<{ id: string }> }\r\n)"
        },
        {
          "name": "PUT",
          "kind": "component",
          "line": 54,
          "isDefault": false,
          "params": "(\r\n  req: Request,\r\n  { params }: { params: Promise<{ id: string }> }\r\n)"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 98,
          "isDefault": false,
          "params": "(\r\n  req: Request,\r\n  { params }: { params: Promise<{ id: string }> }\r\n)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "goals",
            "goalVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/goals/[id]/versions/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 77,
      "size": 2504,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(\r\n  req: Request,\r\n  { params }: { params: Promise<{ id: string }> }\r\n)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "goals",
            "goalVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/goals/[id]/versions/[versionId]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 53,
      "size": 1838,
      "type": "api_route",
      "exports": [
        {
          "name": "PUT",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(\r\n  req: Request,\r\n  { params }: { params: Promise<{ id: string; versionId: string }> }\r\n)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "goals",
            "goalVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/graph/health/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 67,
      "size": 1773,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 12,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/graph",
          "names": [
            "checkHealth",
            "isNeo4jConfigured",
            "initializeSchema"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/habits/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 175,
      "size": 5573,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 116,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "goals",
            "goalVersions",
            "habitCompletions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "desc",
            "gte",
            "lte"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/habits/[id]/complete/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 114,
      "size": 3580,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(\r\n  req: Request,\r\n  { params }: { params: Promise<{ id: string }> }\r\n)"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 89,
          "isDefault": false,
          "params": "(\r\n  req: Request,\r\n  { params }: { params: Promise<{ id: string }> }\r\n)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "goals",
            "habitCompletions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/health/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 116,
      "size": 4096,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 50,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "RAW_QUERY",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/inbox/apply/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 85,
      "size": 2428,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 12,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/tools/capture",
          "names": [
            "applyCaptureExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/audit",
          "names": [
            "writeAudit"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/inbox/edit/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 77,
      "size": 2091,
      "type": "api_route",
      "exports": [
        {
          "name": "PUT",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/tools/audit",
          "names": [
            "writeAudit"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/inbox/reject/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 54,
      "size": 1394,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 10,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/tools/audit",
          "names": [
            "writeAudit"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/inbox/rerun/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 81,
      "size": 2263,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/extract",
          "names": [
            "extractFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/audit",
          "names": [
            "writeAudit"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/inbox/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 47,
      "size": 1459,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "isUnauthenticatedError",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/integrations/whoop/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 50,
      "size": 1389,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "(request: NextRequest)"
        },
        {
          "name": "GET",
          "kind": "component",
          "line": 41,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/integrations/whoop",
          "names": [
            "ingestWhoopData",
            "hasWhoopConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/intelligence/introductions/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 154,
      "size": 4290,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 25,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 68,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 114,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/intelligence",
          "names": [
            "recordIntroduction",
            "getIntroductionChain",
            "getIntroductionsByIntroducer"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "introductions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/intelligence/network/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 55,
      "size": 1748,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 24,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/intelligence",
          "names": [
            "getNetworkData",
            "getFullNetworkData"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/intelligence/referrals/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 245,
      "size": 7362,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 29,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 98,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 200,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/intelligence",
          "names": [
            "createReferralObligation",
            "getReferrerObligations",
            "getReferrerSummary",
            "recordReferralPayment",
            "getReferrerPayments"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "referralObligations",
            "referralPayments"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/intelligence/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 292,
      "size": 9451,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 46,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 158,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/intelligence",
          "names": [
            "getEntityIntelligence",
            "getTopPriorityEntities",
            "getEntitiesNeedingAttention",
            "updateEntityIntelligence",
            "refreshAllEntityScores",
            "setEntityTarget",
            "removeEntityTarget",
            "getActiveSuggestions",
            "getSuggestionsWithEntities",
            "generateSuggestions",
            "dismissSuggestion",
            "snoozeSuggestion",
            "convertSuggestionToTask",
            "expireOldSuggestions",
            "getNetworkData",
            "getFullNetworkData",
            "getIntroductionChain",
            "getReferrerSummary"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/intelligence/suggestions/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 249,
      "size": 7495,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 36,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 92,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 209,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/intelligence",
          "names": [
            "generateSuggestions",
            "getActiveSuggestions",
            "getSuggestionsWithEntities",
            "dismissSuggestion",
            "snoozeSuggestion",
            "convertSuggestionToTask",
            "expireOldSuggestions",
            "getLocationSuggestions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "smartSuggestions",
            "suggestionFeedback"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/intelligence/targets/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 184,
      "size": 4887,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 28,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 64,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 107,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 160,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/intelligence",
          "names": [
            "setEntityTarget",
            "removeEntityTarget",
            "getTopPriorityEntities",
            "getEntityIntelligence"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entityIntelligence",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/knowledge/clarification/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 129,
      "size": 4245,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 24,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 89,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/knowledge",
          "names": [
            "getKnowledgeProfile",
            "generateClarificationPrompts",
            "processClarificationResponse",
            "getEntitiesWithKnowledgeGaps",
            "getChatClarificationSuggestions",
            "type ClarificationResponse"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/knowledge/context-brief/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 76,
      "size": 2464,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 23,
          "isDefault": false,
          "params": "(request: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/knowledge",
          "names": [
            "generateContextBrief",
            "generatePreCallBrief",
            "generateDealBrief"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/knowledge/maintenance/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 76,
      "size": 2501,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 21,
          "isDefault": false,
          "params": "(request: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/cron/knowledge-maintenance",
          "names": [
            "runKnowledgeMaintenance",
            "runQuickMaintenance",
            "updateRelevanceScores",
            "refreshPatterns",
            "resolveRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/knowledge/memories/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 155,
      "size": 4710,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 24,
          "isDefault": false,
          "params": "(request: NextRequest)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 76,
          "isDefault": false,
          "params": "(request: NextRequest)"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 121,
          "isDefault": false,
          "params": "(request: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/knowledge",
          "names": [
            "getMemoriesForEntity",
            "searchMemories",
            "createMemory",
            "updateMemoryFeedback"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/knowledge/notifications/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 129,
      "size": 4135,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 24,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 70,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/knowledge",
          "names": [
            "getNotifications",
            "getNotificationSummary",
            "markNotificationsRead",
            "dismissNotifications",
            "getNotificationPreferences",
            "updateNotificationPreferences",
            "processPatternNotifications"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/knowledge/opinions/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 127,
      "size": 4492,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 26,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/knowledge",
          "names": [
            "getEntityOpinions",
            "getEntityOpinionSummary",
            "findOpinionDivergences",
            "getTeamSentiment",
            "compareUserOpinions"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/knowledge/relationships/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 149,
      "size": 4691,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 25,
          "isDefault": false,
          "params": "(request: NextRequest)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 68,
          "isDefault": false,
          "params": "(request: NextRequest)"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 118,
          "isDefault": false,
          "params": "(request: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/knowledge",
          "names": [
            "getRelationshipsForEntity",
            "getKeyRelationships",
            "createOrUpdateSoftRelationship",
            "resolveRelationship",
            "getUnresolvedRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/notifications/subscribe/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 28,
      "size": 969,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/notifications/subscription-manager",
          "names": [
            "upsertSubscription"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/supabase/server",
          "names": [
            "createSupabaseServerClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/notifications/test/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 27,
      "size": 860,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/notifications/subscription-manager",
          "names": [
            "getWorkspaceSubscriptions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/notifications/push-sender",
          "names": [
            "sendPushToAll"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/notifications/unsubscribe/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 21,
      "size": 655,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 5,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/notifications/subscription-manager",
          "names": [
            "removeSubscription"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/notifications/vapid-public-key/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 11,
      "size": 299,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 4,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/profile/ensure-onboarded/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 40,
      "size": 1266,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 15,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "userProfiles"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT"
      ]
    },
    {
      "path": "apps/web/src/app/api/profile/init-turn/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 538,
      "size": 19433,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 172,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "messages",
            "pendingApprovals",
            "threads",
            "userProfiles"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/self-entity",
          "names": [
            "ensureSelfEntity"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 74
        }
      ],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/profile/initialize/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 142,
      "size": 5211,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 13,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "threads",
            "messages",
            "userProfiles"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/embeddings",
          "names": [
            "generateEventEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/profile/process-initialization/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 201,
      "size": 7098,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "userProfiles",
            "threads",
            "messages"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 58
        }
      ],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/profile/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 136,
      "size": 4196,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 54,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "userProfiles"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/self-entity",
          "names": [
            "ensureSelfEntity"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE"
      ]
    },
    {
      "path": "apps/web/src/app/api/reflections/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 132,
      "size": 3926,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 43,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "reflections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "and",
            "gte",
            "lte"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/search/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 231,
      "size": 8311,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "ilike",
            "or",
            "sql",
            "eq",
            "and",
            "gte",
            "lte"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "isUnauthenticatedError",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "artifacts",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/vector-search",
          "names": [
            "searchEventsBySimilarity",
            "searchEntitiesBySimilarity"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/settings/language/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 25,
      "size": 722,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/user-settings",
          "names": [
            "getSTTLanguage"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/settings/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 90,
      "size": 3316,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 31,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/user-settings",
          "names": [
            "updateApprovalLevel",
            "updateTrackingPreferences",
            "updateSTTStreaming",
            "updateSTTLanguage",
            "updateChatStreaming",
            "getUserProfile"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 18
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 61
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/stt/deepgram-key/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 12,
      "size": 339,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 3,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 4
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 4
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 7
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/stt/keywords/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 54,
      "size": 1792,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 13,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "inArray",
            "desc",
            "isNotNull"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 4
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 45
        }
      ],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/stt/metrics/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 52,
      "size": 1437,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "(request: Request)"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 36,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/stt-performance",
          "names": [
            "sttPerformanceMonitor"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/stt/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 384,
      "size": 14279,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 23,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "runtime",
          "kind": "constant",
          "line": 14,
          "isDefault": false
        },
        {
          "name": "maxDuration",
          "kind": "constant",
          "line": 15,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/extract",
          "names": [
            "extractFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/capture",
          "names": [
            "applyCaptureExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/audit",
          "names": [
            "writeAudit"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/user-settings",
          "names": [
            "getSTTProvider"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.audio",
          "line": 88
        },
        {
          "service": "openai",
          "detail": "openai.audio",
          "line": 99
        },
        {
          "service": "openai",
          "detail": "openai.audio",
          "line": 113
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 110
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 111
        }
      ],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/timeline/events/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 100,
      "size": 3413,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(request: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "isUnauthenticatedError",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "gte",
            "lte",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/ask/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 134,
      "size": 4084,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "(req: NextRequest)"
        },
        {
          "name": "GET",
          "kind": "component",
          "line": 107,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/query-intelligence",
          "names": [
            "answerWorkQuestion",
            "classifyIntent",
            "COMMON_QUERIES",
            "executeQueryPlan"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/work/buyer-history/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 113,
      "size": 4029,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "or",
            "sql",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/config/fields/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 102,
      "size": 4098,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 32,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "getActiveWorkspaceMeta",
            "isWorkLikeWorkspaceKind",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tenancy/roles",
          "names": [
            "getActiveWorkspaceRole",
            "hasMinRole"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/config/scaffolds/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 72,
      "size": 3216,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 15,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 33,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "getActiveWorkspaceMeta",
            "isWorkLikeWorkspaceKind",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tenancy/roles",
          "names": [
            "getActiveWorkspaceRole",
            "hasMinRole"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "workScaffolds"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/config/scaffolds/[id]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 80,
      "size": 3413,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ id: string }> })"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 34,
          "isDefault": false,
          "params": "(req: Request, ctx: { params: Promise<{ id: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "getActiveWorkspaceMeta",
            "isWorkLikeWorkspaceKind",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "workScaffolds"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/optimistic",
          "names": [
            "parseExpectedUpdatedAt",
            "sameInstant"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/config/views/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 107,
      "size": 4338,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 32,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "getActiveWorkspaceMeta",
            "isWorkLikeWorkspaceKind",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tenancy/roles",
          "names": [
            "getActiveWorkspaceRole",
            "hasMinRole"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "savedViews"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/config/views/[id]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 110,
      "size": 4690,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ id: string }> })"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 40,
          "isDefault": false,
          "params": "(req: Request, ctx: { params: Promise<{ id: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "getActiveWorkspaceMeta",
            "isWorkLikeWorkspaceKind",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "savedViews"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/optimistic",
          "names": [
            "parseExpectedUpdatedAt",
            "sameInstant"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/debug-log/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 77,
      "size": 2920,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 18,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/production-debug-log",
          "names": [
            "getDebugLogs",
            "exportDebugLogs"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/work/entities/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 119,
      "size": 3740,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 18,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "ilike",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "savedViews",
            "fieldRegistry"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/view-query",
          "names": [
            "queryWorkEntitiesPage",
            "getDefaultSavedView",
            "getWorkFieldTypeMap"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/entities/[id]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 186,
      "size": 5430,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 10,
          "isDefault": false,
          "params": "(\n  req: Request,\n  { params }: { params: Promise<{ id: string }> }\n)"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "line": 109,
          "isDefault": false,
          "params": "(\n  req: Request,\n  { params }: { params: Promise<{ id: string }> }\n)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "entityRelationships",
            "eventEntities",
            "events",
            "auditLog"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/export/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 357,
      "size": 10423,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 34,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "desc",
            "gt"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatCurrency",
            "formatDate"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/feedback/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 157,
      "size": 4670,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 47,
          "isDefault": false,
          "params": "(req: NextRequest)"
        },
        {
          "name": "GET",
          "kind": "component",
          "line": 111,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/import/execute/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 38,
      "size": 1212,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 5,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/csv-import",
          "names": [
            "parseCSV",
            "executeBatchImport",
            "type ImportEntityType",
            "type ImportOptions"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/work/import/preview/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 34,
      "size": 1038,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 5,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/csv-import",
          "names": [
            "parseCSV",
            "detectColumnMapping",
            "previewImport",
            "type ImportEntityType"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/work/ingest-email/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 102,
      "size": 3378,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/integrations/microsoft/email-classification",
          "names": [
            "classifyEmail"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "ilike"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/quick-edit/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 261,
      "size": 8512,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 12,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "auditLog"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/relationships/entity/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 102,
      "size": 4131,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 58,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "getActiveWorkspaceMeta",
            "isWorkLikeWorkspaceKind",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "entityRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/relationships/event-entities/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 73,
      "size": 2933,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "line": 46,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "getActiveWorkspaceMeta",
            "isWorkLikeWorkspaceKind",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "eventEntities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/search/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 121,
      "size": 4265,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 10,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "or",
            "ilike",
            "sql",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/settings/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 108,
      "size": 3654,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 15,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "GET",
          "kind": "component",
          "line": 74,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "userProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/suggestions/accept/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 20,
      "size": 680,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 5,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/suggestion-executor",
          "names": [
            "executeSuggestion"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/work/suggestions/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 15,
      "size": 482,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 5,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/action-suggestions",
          "names": [
            "generateSuggestions"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/work/tasks/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 200,
      "size": 7487,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "sql",
            "desc",
            "or",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "eventEntities",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/telemetry/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 42,
      "size": 1177,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 20,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextRequest",
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/production-telemetry",
          "names": [
            "getTelemetryStats"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/api/work/undo/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 134,
      "size": 4496,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 10,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "auditLog",
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/work/undo-multi-target/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 95,
      "size": 3199,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 12,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/workouts/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 95,
      "size": 3214,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(req: Request)"
        },
        {
          "name": "POST",
          "kind": "component",
          "line": 37,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "isUnauthenticatedError",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/seed",
          "names": [
            "ensureDefaultPillars"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/workouts/start/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 83,
      "size": 2755,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/workouts/[id]/finish/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 58,
      "size": 1895,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: Request, ctx: { params: Promise<{ id: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "isUnauthenticatedError",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/workouts/[id]/log/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 70,
      "size": 2469,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(req: Request, ctx: { params: Promise<{ id: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "isUnauthenticatedError",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/workouts/[id]/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 57,
      "size": 1881,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "(_: Request, ctx: { params: Promise<{ id: string }> })"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "asc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "isUnauthenticatedError",
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/workspace/debug/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 104,
      "size": 3977,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "workspaceMemberships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/supabase/server",
          "names": [
            "getSupabaseUserId"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "RAW_QUERY",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/workspace/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 80,
      "size": 3344,
      "type": "api_route",
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "(req: Request)"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "parseWorkspace",
            "workspaceCookie",
            "workspaceIdCookie",
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "workspaceIdForKey",
            "PERSONAL_WORKSPACE_ID",
            "WORK_WORKSPACE_ID"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "workspaceMemberships",
            "workspaces"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/api/workspaces/route.ts",
      "name": "route.ts",
      "extension": ".ts",
      "lines": 51,
      "size": 1697,
      "type": "api_route",
      "exports": [
        {
          "name": "GET",
          "kind": "component",
          "line": 13,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "workspaces",
            "workspaceMemberships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/calendar/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 10,
      "size": 288,
      "type": "page",
      "exports": [
        {
          "name": "CalendarPage",
          "kind": "component",
          "line": 4,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/CalendarClient",
          "names": [
            "CalendarClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/chat/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 22,
      "size": 522,
      "type": "page",
      "exports": [
        {
          "name": "ChatPage",
          "kind": "component",
          "line": 7,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/ChatCapture",
          "names": [
            "ChatCapture"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/collections/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 63,
      "size": 2523,
      "type": "page",
      "exports": [
        {
          "name": "CollectionsPage",
          "kind": "component",
          "line": 8,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "collections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/collections/[slug]/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 76,
      "size": 2878,
      "type": "page",
      "exports": [
        {
          "name": "CollectionDetailPage",
          "kind": "component",
          "line": 9,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "collectionItems",
            "collections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/collections/CollectionItemsClient",
          "names": [
            "CollectionItemsClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/context/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 280,
      "size": 11785,
      "type": "page",
      "exports": [
        {
          "name": "ContextPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "eventEntities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/context/[id]/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 308,
      "size": 13051,
      "type": "page",
      "exports": [
        {
          "name": "EntityDetailPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "eventEntities",
            "events",
            "entityRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/entities/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 59,
      "size": 1821,
      "type": "page",
      "exports": [
        {
          "name": "EntitiesPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/fitness/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 8,
      "size": 135,
      "type": "page",
      "exports": [
        {
          "name": "FitnessPageRedirect",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/fitness/plan/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 8,
      "size": 140,
      "type": "page",
      "exports": [
        {
          "name": "FitnessPlanRedirect",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/fitness/workouts/new/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 8,
      "size": 140,
      "type": "page",
      "exports": [
        {
          "name": "NewWorkoutRedirect",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/global-error.tsx",
      "name": "global-error.tsx",
      "extension": ".tsx",
      "lines": 22,
      "size": 527,
      "type": "component",
      "exports": [
        {
          "name": "GlobalError",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [
        {
          "service": "sentry",
          "detail": "Sentry.",
          "line": 8
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/goals/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 39,
      "size": 1331,
      "type": "page",
      "exports": [
        {
          "name": "GoalsPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/GoalsClient",
          "names": [
            "GoalsClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "goals",
            "goalVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/habits/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 91,
      "size": 3313,
      "type": "page",
      "exports": [
        {
          "name": "HabitsPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/HabitsClient",
          "names": [
            "HabitsClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "goals",
            "goalVersions",
            "habitCompletions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "gte",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/journal/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 44,
      "size": 1527,
      "type": "page",
      "exports": [
        {
          "name": "JournalPage",
          "kind": "component",
          "line": 7,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/InboxClient",
          "names": [
            "InboxClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/layout.tsx",
      "name": "layout.tsx",
      "extension": ".tsx",
      "lines": 131,
      "size": 4738,
      "type": "other",
      "exports": [
        {
          "name": "RootLayout",
          "kind": "component",
          "line": 80,
          "isDefault": true
        },
        {
          "name": "metadata",
          "kind": "constant",
          "line": 49,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/font/google",
          "names": [
            "Geist",
            "Geist_Mono"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./globals.css",
          "names": [],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "highlight.js/styles/github-dark.css",
          "names": [],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/Sidebar",
          "names": [
            "Sidebar"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/hooks/useSidebarChat",
          "names": [
            "SidebarChatProvider"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/SidebarChatContainer",
          "names": [
            "SidebarChatContainer"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/LayoutContent",
          "names": [
            "LayoutContent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ThemeProvider",
          "names": [
            "ThemeProvider"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/QueryProvider",
          "names": [
            "QueryProvider"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/headers",
          "names": [
            "headers"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "sonner",
          "names": [
            "Toaster"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/KeyboardShortcuts",
          "names": [
            "KeyboardShortcutsProvider"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/login/login-client.tsx",
      "name": "login-client.tsx",
      "extension": ".tsx",
      "lines": 178,
      "size": 6789,
      "type": "component",
      "exports": [
        {
          "name": "LoginClient",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "(props: { nextPath: string })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/supabase/client",
          "names": [
            "createSupabaseBrowserClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/login/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 14,
      "size": 574,
      "type": "page",
      "exports": [
        {
          "name": "LoginPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        },
        {
          "name": "dynamic",
          "kind": "constant",
          "line": 4,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "notFound"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./login-client",
          "names": [
            "LoginClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/onboarding/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 17,
      "size": 408,
      "type": "page",
      "exports": [
        {
          "name": "OnboardingPage",
          "kind": "component",
          "line": 7,
          "isDefault": true
        },
        {
          "name": "dynamic",
          "kind": "constant",
          "line": 5,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/headers",
          "names": [
            "cookies"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./ui",
          "names": [
            "OnboardingClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/onboarding/ui.tsx",
      "name": "ui.tsx",
      "extension": ".tsx",
      "lines": 102,
      "size": 3487,
      "type": "component",
      "exports": [
        {
          "name": "OnboardingClient",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useMemo",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ChatCapture",
          "names": [
            "ChatCapture"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 54,
      "size": 2468,
      "type": "page",
      "exports": [
        {
          "name": "Home",
          "kind": "component",
          "line": 7,
          "isDefault": true
        },
        {
          "name": "dynamic",
          "kind": "constant",
          "line": 5,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/supabase/server",
          "names": [
            "createSupabaseServerClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/auth/admin",
          "names": [
            "isAdminUserId"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/people/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 349,
      "size": 15438,
      "type": "page",
      "exports": [
        {
          "name": "PeoplePage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "entityRelationships",
            "eventEntities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/brief/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 271,
      "size": 9718,
      "type": "page",
      "exports": [
        {
          "name": "DailyBriefPage",
          "kind": "component",
          "line": 139,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/skeleton",
          "names": [
            "Skeleton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/fitness/execute/[id]/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 97,
      "size": 3930,
      "type": "page",
      "exports": [
        {
          "name": "FitnessExecutePage",
          "kind": "component",
          "line": 11,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "notFound"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveTemplates",
            "sessionToTemplateLike"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fitnessPlanDays"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/WorkoutExecuteClient",
          "names": [
            "WorkoutExecuteClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/fitness/get-started/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 12,
      "size": 248,
      "type": "page",
      "exports": [
        {
          "name": "FitnessGetStartedPage",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/fitness/FitnessGetStartedClient",
          "names": [
            "FitnessGetStartedClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/fitness/history/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 73,
      "size": 2848,
      "type": "page",
      "exports": [
        {
          "name": "FitnessHistoryPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/fitness/history/[id]/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 181,
      "size": 7451,
      "type": "page",
      "exports": [
        {
          "name": "WorkoutDetailPage",
          "kind": "component",
          "line": 10,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "notFound"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "asc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planVersions",
            "events",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils/1rm",
          "names": [
            "calculate1RM"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveDay",
            "resolveTemplates"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/MarkdownCard",
          "names": [
            "MarkdownCard"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/fitness/layout.tsx",
      "name": "layout.tsx",
      "extension": ".tsx",
      "lines": 37,
      "size": 1252,
      "type": "component",
      "exports": [
        {
          "name": "FitnessLayout",
          "kind": "component",
          "line": 14,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/fitness/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 195,
      "size": 8792,
      "type": "page",
      "exports": [
        {
          "name": "FitnessPage",
          "kind": "component",
          "line": 11,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/PlanSummaryCard",
          "names": [
            "PlanSummaryCard"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/TodayPreviewCard",
          "names": [
            "TodayPreviewCard"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessProgressCard",
          "names": [
            "FitnessProgressCard"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "materializeRange"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/fitness/plan/archive/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 78,
      "size": 3372,
      "type": "page",
      "exports": [
        {
          "name": "FitnessPlanArchivePage",
          "kind": "component",
          "line": 8,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/MarkdownCard",
          "names": [
            "MarkdownCard"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/fitness/plan/day/[date]/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 214,
      "size": 8809,
      "type": "page",
      "exports": [
        {
          "name": "FitnessPlanDayPage",
          "kind": "component",
          "line": 18,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "fitnessPlanArtifacts",
            "fitnessPlanDays"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/rendering",
          "names": [
            "getFitnessIconKey",
            "getSessionHint"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessSessionIcon",
          "names": [
            "FitnessSessionIcon"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessBadges",
          "names": [
            "FitnessStatusBadge",
            "FitnessTypeBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/MarkdownCard",
          "names": [
            "MarkdownCard"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "sessionToTemplateLike"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/fitness/plan/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 521,
      "size": 24243,
      "type": "page",
      "exports": [
        {
          "name": "FitnessPlanPage",
          "kind": "component",
          "line": 58,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveTemplates",
            "sessionToTemplateLike"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "materializeRange"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/rendering",
          "names": [
            "getFitnessIconKey",
            "getSessionHint"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessSessionIcon",
          "names": [
            "FitnessSessionIcon"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessBadges",
          "names": [
            "FitnessStatusBadge",
            "FitnessTypeBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessLegend",
          "names": [
            "FitnessLegend"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "fitnessPlanArtifacts",
            "fitnessPlanDays",
            "pillars",
            "planGenerationJobs",
            "planVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/MarkdownCard",
          "names": [
            "MarkdownCard"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/WeeklyReviewClient",
          "names": [
            "WeeklyReviewClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/ClearPlanButton",
          "names": [
            "ClearPlanButton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/PlanGenerationStatusClient",
          "names": [
            "PlanGenerationStatusClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/fitness/plan/session/[id]/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 412,
      "size": 19306,
      "type": "page",
      "exports": [
        {
          "name": "FitnessPlannedSessionPage",
          "kind": "component",
          "line": 32,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveTemplates",
            "type CalendarSession",
            "sessionToTemplateLike"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "fitnessPlanDays",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/PlannedSessionEditorClient",
          "names": [
            "PlannedSessionEditorClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/PlannedSessionActionsClient",
          "names": [
            "PlannedSessionActionsClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils/1rm",
          "names": [
            "calculate1RM"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/WorkoutRenderer",
          "names": [
            "WorkoutRenderer"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/fitness/plan-v2/execute/[date]/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 108,
      "size": 3543,
      "type": "page",
      "exports": [
        {
          "name": "ExecuteWorkoutPage",
          "kind": "component",
          "line": 20,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "notFound"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "ArrowLeft"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/plan-storage",
          "names": [
            "getActivePlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/plan-parser",
          "names": [
            "parseFitnessPlan",
            "findDayByDate"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/workout-parser",
          "names": [
            "parseWorkout",
            "toExecutionPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/WorkoutExecutionClient",
          "names": [
            "WorkoutExecutionClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/fitness/plan-v2/generate/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 35,
      "size": 974,
      "type": "page",
      "exports": [
        {
          "name": "GeneratePlanPage",
          "kind": "component",
          "line": 11,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/fitness/PlanGeneratorClient",
          "names": [
            "PlanGeneratorClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "ArrowLeft"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/fitness/plan-v2/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 153,
      "size": 6560,
      "type": "page",
      "exports": [
        {
          "name": "PlanV2Page",
          "kind": "component",
          "line": 14,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/plan-storage",
          "names": [
            "getActivePlan",
            "getExecutedWorkouts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/plan-parser",
          "names": [
            "parseFitnessPlan",
            "getPlanStats"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/PlanViewerClient",
          "names": [
            "PlanViewerClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Sparkles",
            "Calendar",
            "Target",
            "TrendingUp"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/fitness/today/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 175,
      "size": 7590,
      "type": "page",
      "exports": [
        {
          "name": "FitnessTodayPage",
          "kind": "component",
          "line": 10,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveDay"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/TodayExecutionClient",
          "names": [
            "TodayExecutionClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessBadges",
          "names": [
            "FitnessStatusBadge",
            "FitnessTypeBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/growth/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 388,
      "size": 14905,
      "type": "page",
      "exports": [
        {
          "name": "GrowthPage",
          "kind": "component",
          "line": 78,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/progress",
          "names": [
            "Progress"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "BookOpen",
            "GraduationCap",
            "Brain",
            "Lightbulb",
            "Target",
            "TrendingUp",
            "Plus",
            "ChevronRight",
            "Clock",
            "Star",
            "Sparkles",
            "Podcast",
            "Film",
            "Code",
            "Music",
            "Palette",
            "Dumbbell",
            "Languages"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/health/HealthDashboardClient.tsx",
      "name": "HealthDashboardClient.tsx",
      "extension": ".tsx",
      "lines": 455,
      "size": 18284,
      "type": "component",
      "exports": [
        {
          "name": "HealthDashboardClient",
          "kind": "component",
          "line": 37,
          "isDefault": false,
          "params": "({\n  recentEvents,\n  workoutsThisWeek,\n  totalWorkouts,\n  sleepEvents,\n  medicalEvents,\n}: HealthDashboardClientProps)"
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/progress",
          "names": [
            "Progress"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Activity",
            "Heart",
            "Moon",
            "Brain",
            "Utensils",
            "Pill",
            "TrendingUp",
            "ChevronRight",
            "Calendar",
            "Clock",
            "Dumbbell",
            "Flame",
            "Zap",
            "BarChart3",
            "Stethoscope",
            "Scale",
            "Plus"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/health/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 78,
      "size": 2361,
      "type": "page",
      "exports": [
        {
          "name": "HealthPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "and",
            "gte"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./HealthDashboardClient",
          "names": [
            "HealthDashboardClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/life/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 416,
      "size": 16039,
      "type": "page",
      "exports": [
        {
          "name": "LifePage",
          "kind": "component",
          "line": 91,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/progress",
          "names": [
            "Progress"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Home",
            "Plane",
            "FolderKanban",
            "MapPin",
            "Calendar",
            "CheckSquare",
            "Plus",
            "ChevronRight",
            "Clock",
            "Wrench",
            "ShoppingBag",
            "Camera",
            "Utensils",
            "Star",
            "Mountain",
            "Building"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/people/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 347,
      "size": 12857,
      "type": "page",
      "exports": [
        {
          "name": "PeoplePage",
          "kind": "component",
          "line": 68,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Users",
            "Heart",
            "MessageCircle",
            "Calendar",
            "Gift",
            "Phone",
            "Mail",
            "MapPin",
            "Clock",
            "UserPlus",
            "Search",
            "Filter",
            "ChevronRight",
            "Cake",
            "Star"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/pillar/wealth/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 37,
      "size": 1086,
      "type": "page",
      "exports": [
        {
          "name": "WealthPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./WealthDashboardClient",
          "names": [
            "WealthDashboardClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/pillar/wealth/WealthDashboardClient.tsx",
      "name": "WealthDashboardClient.tsx",
      "extension": ".tsx",
      "lines": 443,
      "size": 17856,
      "type": "component",
      "exports": [
        {
          "name": "WealthDashboardClient",
          "kind": "component",
          "line": 39,
          "isDefault": false,
          "params": "({ recentEvents }: WealthDashboardClientProps)"
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/progress",
          "names": [
            "Progress"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "DollarSign",
            "TrendingUp",
            "TrendingDown",
            "Wallet",
            "PiggyBank",
            "CreditCard",
            "BarChart3",
            "PieChart",
            "ArrowUpRight",
            "ArrowDownRight",
            "Plus",
            "ChevronRight",
            "Building",
            "Target",
            "ShoppingCart",
            "Utensils",
            "Car",
            "Home",
            "Briefcase",
            "FileText",
            "Calendar",
            "AlertCircle",
            "Zap"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/profile/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 29,
      "size": 829,
      "type": "page",
      "exports": [
        {
          "name": "ProfilePage",
          "kind": "component",
          "line": 5,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ProfileClient",
          "names": [
            "ProfileClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "userProfiles"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT"
      ]
    },
    {
      "path": "apps/web/src/app/reflections/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 13,
      "size": 549,
      "type": "page",
      "exports": [
        {
          "name": "ReflectionsPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ReflectionsClient",
          "names": [
            "ReflectionsClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "reflections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/robots.ts",
      "name": "robots.ts",
      "extension": ".ts",
      "lines": 15,
      "size": 259,
      "type": "other",
      "exports": [
        {
          "name": "robots",
          "kind": "function",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/search/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 58,
      "size": 2545,
      "type": "page",
      "exports": [
        {
          "name": "SearchPage",
          "kind": "component",
          "line": 7,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "pillars",
            "events",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/SearchClient",
          "names": [
            "SearchClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/SearchFilters",
          "names": [
            "SearchFilters"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/settings/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 34,
      "size": 1205,
      "type": "page",
      "exports": [
        {
          "name": "SettingsPage",
          "kind": "component",
          "line": 5,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/tools/user-settings",
          "names": [
            "getUserProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/SettingsClient",
          "names": [
            "SettingsClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/timeline/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 181,
      "size": 7774,
      "type": "page",
      "exports": [
        {
          "name": "TimelinePage",
          "kind": "component",
          "line": 8,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/TimelineClient",
          "names": [
            "TimelineClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/TimelineFilters",
          "names": [
            "TimelineFilters"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/activity/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 116,
      "size": 4647,
      "type": "page",
      "exports": [
        {
          "name": "WorkActivityPage",
          "kind": "component",
          "line": 9,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/WorkActivityClient",
          "names": [
            "WorkActivityClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/calendar/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 178,
      "size": 5693,
      "type": "page",
      "exports": [
        {
          "name": "WorkCalendarPage",
          "kind": "component",
          "line": 17,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "sql",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkCalendarClient",
          "names": [
            "WorkCalendarClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/chat/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 15,
      "size": 338,
      "type": "page",
      "exports": [
        {
          "name": "WorkChatPage",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/ChatCapture",
          "names": [
            "ChatCapture"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/companies/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 14,
      "size": 641,
      "type": "page",
      "exports": [
        {
          "name": "WorkCompaniesPage",
          "kind": "component",
          "line": 4,
          "isDefault": true
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 2,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/contacts/loading.tsx",
      "name": "loading.tsx",
      "extension": ".tsx",
      "lines": 43,
      "size": 1547,
      "type": "component",
      "exports": [
        {
          "name": "ContactsLoading",
          "kind": "component",
          "line": 4,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/ui/skeleton",
          "names": [
            "Skeleton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/contacts/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 15,
      "size": 762,
      "type": "page",
      "exports": [
        {
          "name": "WorkContactsPage",
          "kind": "component",
          "line": 4,
          "isDefault": true
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 2,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/dashboard/loading.tsx",
      "name": "loading.tsx",
      "extension": ".tsx",
      "lines": 55,
      "size": 1765,
      "type": "component",
      "exports": [
        {
          "name": "Loading",
          "kind": "component",
          "line": 4,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/ui/skeleton",
          "names": [
            "Skeleton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/dashboard/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 38,
      "size": 1320,
      "type": "page",
      "exports": [
        {
          "name": "PriorityDashboardPage",
          "kind": "component",
          "line": 13,
          "isDefault": true
        },
        {
          "name": "metadata",
          "kind": "constant",
          "line": 5,
          "isDefault": false
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 11,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next",
          "names": [
            "Metadata"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDbReadOnly"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./PriorityDashboardClient",
          "names": [
            "PriorityDashboardClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/dashboard/PriorityDashboardClient.tsx",
      "name": "PriorityDashboardClient.tsx",
      "extension": ".tsx",
      "lines": 566,
      "size": 18505,
      "type": "component",
      "exports": [
        {
          "name": "PriorityDashboardClient",
          "kind": "component",
          "line": 56,
          "isDefault": false,
          "params": "({\n  initialTab = \"overview\",\n}: PriorityDashboardClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter",
            "useSearchParams"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/tabs",
          "names": [
            "Tabs",
            "TabsContent",
            "TabsList",
            "TabsTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/intelligence",
          "names": [
            "PriorityEntitiesList",
            "SuggestionsList",
            "EntityIntelligenceCard",
            "PriorityBadge",
            "HealthBadge",
            "TargetBadge",
            "AttentionBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Sparkles",
            "Target",
            "AlertTriangle",
            "TrendingUp",
            "Users",
            "Building",
            "Briefcase",
            "RefreshCw",
            "Plus",
            "Settings",
            "ChevronRight"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "sonner",
          "names": [
            "toast"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/dashboards/fees/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 327,
      "size": 15397,
      "type": "page",
      "exports": [
        {
          "name": "FeeDashboardPage",
          "kind": "component",
          "line": 21,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "and",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "ArrowLeft",
            "DollarSign",
            "TrendingUp",
            "TrendingDown",
            "Minus"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatCurrency"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/dashboards/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 158,
      "size": 5873,
      "type": "page",
      "exports": [
        {
          "name": "WorkDashboardsPage",
          "kind": "component",
          "line": 19,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/deals/loading.tsx",
      "name": "loading.tsx",
      "extension": ".tsx",
      "lines": 60,
      "size": 2264,
      "type": "component",
      "exports": [
        {
          "name": "DealsLoading",
          "kind": "component",
          "line": 4,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/ui/skeleton",
          "names": [
            "Skeleton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/deals/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 15,
      "size": 619,
      "type": "page",
      "exports": [
        {
          "name": "WorkDealsPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 4,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "../_components/WorkEntityPillarPage",
          "names": [
            "WorkEntityPillarPage"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/duplicates/DuplicatesClient.tsx",
      "name": "DuplicatesClient.tsx",
      "extension": ".tsx",
      "lines": 274,
      "size": 9818,
      "type": "component",
      "exports": [
        {
          "name": "DuplicatesClient",
          "kind": "component",
          "line": 34,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Users",
            "Building",
            "Briefcase",
            "Merge",
            "X",
            "Check",
            "ChevronRight",
            "AlertCircle",
            "Loader2",
            "Phone",
            "Mail"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/duplicates/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 20,
      "size": 594,
      "type": "page",
      "exports": [
        {
          "name": "DuplicatesPage",
          "kind": "component",
          "line": 4,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "Suspense"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./DuplicatesClient",
          "names": [
            "DuplicatesClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/error.tsx",
      "name": "error.tsx",
      "extension": ".tsx",
      "lines": 83,
      "size": 2920,
      "type": "component",
      "exports": [
        {
          "name": "WorkError",
          "kind": "component",
          "line": 9,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "AlertTriangle",
            "RefreshCw",
            "Home"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/events/[eventId]/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 229,
      "size": 9061,
      "type": "page",
      "exports": [
        {
          "name": "WorkEventPage",
          "kind": "component",
          "line": 14,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "eventEntities",
            "events",
            "fieldRegistry",
            "workScaffolds"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkEventDetailsEditorClient",
          "names": [
            "WorkEventDetailsEditorClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkEventLinkedEntitiesClient",
          "names": [
            "WorkEventLinkedEntitiesClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/TaskActionsPanel",
          "names": [
            "TaskActionsPanel"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/LocationMapPreview",
          "names": [
            "LocationMapPreview"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/PhotoAttachment",
          "names": [
            "PhotoAttachment"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/expenses/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 9,
      "size": 480,
      "type": "page",
      "exports": [
        {
          "name": "WorkExpensesPage",
          "kind": "component",
          "line": 1,
          "isDefault": true
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/fees/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 9,
      "size": 468,
      "type": "page",
      "exports": [
        {
          "name": "WorkFeesPage",
          "kind": "component",
          "line": 1,
          "isDefault": true
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/history/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 216,
      "size": 9545,
      "type": "page",
      "exports": [
        {
          "name": "WorkHistoryPage",
          "kind": "component",
          "line": 20,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "and",
            "gte",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "auditLog"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "CheckCircle2",
            "AlertCircle",
            "Clock",
            "ArrowRight"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/import/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 354,
      "size": 14994,
      "type": "page",
      "exports": [
        {
          "name": "ImportPage",
          "kind": "component",
          "line": 30,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "ArrowLeft",
            "Upload",
            "FileSpreadsheet",
            "CheckCircle2",
            "AlertTriangle"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/insights/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 515,
      "size": 19847,
      "type": "page",
      "exports": [
        {
          "name": "InsightsPage",
          "kind": "component",
          "line": 49,
          "isDefault": true
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 22,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "isNull",
            "and",
            "sql",
            "gte",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "memories",
            "memoryPatterns",
            "softRelationships",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle",
            "CardDescription"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDbReadOnly"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Brain",
            "TrendingUp",
            "Users",
            "AlertTriangle",
            "Lightbulb",
            "Heart",
            "Briefcase",
            "Clock",
            "ChevronRight",
            "Sparkles",
            "Link2"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/layout.tsx",
      "name": "layout.tsx",
      "extension": ".tsx",
      "lines": 40,
      "size": 1172,
      "type": "component",
      "exports": [
        {
          "name": "WorkLayout",
          "kind": "component",
          "line": 8,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/work/MobileBottomNav",
          "names": [
            "MobileBottomNav"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/QuickTaskFAB",
          "names": [
            "QuickTaskFAB"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/PWARegistration",
          "names": [
            "PWARegistration"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/NotificationPrompt",
          "names": [
            "NotificationPrompt"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/OfflineIndicator",
          "names": [
            "OfflineIndicator"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/PatternNotifications",
          "names": [
            "PatternNotifications"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/listing-logs/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 11,
      "size": 618,
      "type": "page",
      "exports": [
        {
          "name": "WorkListingLogsPage",
          "kind": "component",
          "line": 1,
          "isDefault": true
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/listings/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 14,
      "size": 639,
      "type": "page",
      "exports": [
        {
          "name": "WorkListingsPage",
          "kind": "component",
          "line": 4,
          "isDefault": true
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 2,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/loading.tsx",
      "name": "loading.tsx",
      "extension": ".tsx",
      "lines": 13,
      "size": 382,
      "type": "component",
      "exports": [
        {
          "name": "WorkLoading",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "Loader2"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/network/loading.tsx",
      "name": "loading.tsx",
      "extension": ".tsx",
      "lines": 33,
      "size": 1167,
      "type": "component",
      "exports": [
        {
          "name": "Loading",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/ui/skeleton",
          "names": [
            "Skeleton"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/network/NetworkClient.tsx",
      "name": "NetworkClient.tsx",
      "extension": ".tsx",
      "lines": 422,
      "size": 14718,
      "type": "component",
      "exports": [
        {
          "name": "NetworkClient",
          "kind": "component",
          "line": 53,
          "isDefault": false,
          "params": "({\r\n  initialCenterId,\r\n  initialEntityType,\r\n}: NetworkClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter",
            "useSearchParams"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/select",
          "names": [
            "Select",
            "SelectContent",
            "SelectItem",
            "SelectTrigger",
            "SelectValue"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/intelligence/NetworkGraph",
          "names": [
            "NetworkGraph"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/intelligence",
          "names": [
            "EntityIntelligenceCard",
            "PriorityBadge",
            "HealthBadge",
            "TargetBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Search",
            "X",
            "ChevronLeft",
            "Users",
            "Building",
            "Briefcase",
            "RefreshCw",
            "Maximize2",
            "Settings",
            "Share2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "sonner",
          "names": [
            "toast"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/network/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 31,
      "size": 936,
      "type": "page",
      "exports": [
        {
          "name": "NetworkPage",
          "kind": "component",
          "line": 13,
          "isDefault": true
        },
        {
          "name": "metadata",
          "kind": "constant",
          "line": 5,
          "isDefault": false
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 11,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next",
          "names": [
            "Metadata"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDbReadOnly"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./NetworkClient",
          "names": [
            "NetworkClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/not-found.tsx",
      "name": "not-found.tsx",
      "extension": ".tsx",
      "lines": 40,
      "size": 1485,
      "type": "component",
      "exports": [
        {
          "name": "WorkNotFound",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "FileQuestion",
            "Home",
            "Search"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 22,
      "size": 806,
      "type": "page",
      "exports": [
        {
          "name": "WorkHomePage",
          "kind": "component",
          "line": 5,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceContextFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/pipeline/loading.tsx",
      "name": "loading.tsx",
      "extension": ".tsx",
      "lines": 28,
      "size": 885,
      "type": "component",
      "exports": [
        {
          "name": "PipelineLoading",
          "kind": "component",
          "line": 4,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/ui/skeleton",
          "names": [
            "Skeleton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkSkeletons",
          "names": [
            "PipelineBoardSkeleton"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/pipeline/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 321,
      "size": 13838,
      "type": "page",
      "exports": [
        {
          "name": "WorkPipelinePage",
          "kind": "component",
          "line": 21,
          "isDefault": true
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 2,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql",
            "or",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDbReadOnly"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "fieldRegistry",
            "entityRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/work/PipelineBoard",
          "names": [
            "PipelineBoard"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/records/[entityId]/loading.tsx",
      "name": "loading.tsx",
      "extension": ".tsx",
      "lines": 6,
      "size": 152,
      "type": "component",
      "exports": [
        {
          "name": "RecordLoading",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/work/WorkSkeletons",
          "names": [
            "EntityDetailSkeleton"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/records/[entityId]/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 716,
      "size": 28923,
      "type": "page",
      "exports": [
        {
          "name": "WorkRecordPage",
          "kind": "component",
          "line": 159,
          "isDefault": true
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 24,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "inArray",
            "or",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "entityRelationships",
            "eventEntities",
            "events",
            "fieldRegistry",
            "workScaffolds"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/tabs",
          "names": [
            "Tabs",
            "TabsContent",
            "TabsList",
            "TabsTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkEntityDetailsEditorClient",
          "names": [
            "WorkEntityDetailsEditorClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkEntityRelationshipsClient",
          "names": [
            "WorkEntityRelationshipsClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/DealTimelineView",
          "names": [
            "DealTimelineView"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/ConversationTimeline",
          "names": [
            "ConversationTimeline"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/ListingBuyerBulkImport",
          "names": [
            "ListingBuyerBulkImport"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/BuyerHistoryPanel",
          "names": [
            "BuyerHistoryPanel"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/ListingBuyerQuickAdd",
          "names": [
            "ListingBuyerQuickAdd"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/LenderComparisonTable",
          "names": [
            "LenderComparisonTable"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/knowledge",
          "names": [
            "ContextBriefCard",
            "EntityOpinionSummary",
            "SoftRelationshipsDisplay"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/EntityIntelligencePanel",
          "names": [
            "EntityIntelligencePanel"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDbReadOnly"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatCurrency",
            "formatDate",
            "getStageInfo",
            "formatFieldLabel"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "User",
            "Building",
            "Briefcase",
            "Home",
            "Calendar",
            "Phone",
            "Mail",
            "MapPin",
            "DollarSign",
            "Clock",
            "Edit",
            "ChevronRight",
            "CheckCircle2",
            "AlertCircle",
            "ArrowLeft",
            "Plus",
            "MessageSquare",
            "ExternalLink"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/relationships/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 372,
      "size": 14881,
      "type": "page",
      "exports": [
        {
          "name": "WorkRelationshipsPage",
          "kind": "component",
          "line": 52,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "entityRelationships",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "ArrowRight",
            "Building",
            "User",
            "Briefcase",
            "Link2",
            "Network",
            "ChevronRight",
            "Filter"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/scaffolds/[scaffoldId]/edit/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 24,
      "size": 966,
      "type": "page",
      "exports": [
        {
          "name": "WorkScaffoldEditPage",
          "kind": "component",
          "line": 8,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "workScaffolds"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkScaffoldEditorClient",
          "names": [
            "WorkScaffoldEditorClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/settings/integrations/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 120,
      "size": 4893,
      "type": "page",
      "exports": [
        {
          "name": "IntegrationsSettingsPage",
          "kind": "component",
          "line": 7,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "integrationConnections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "ArrowLeft"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/settings/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 50,
      "size": 1813,
      "type": "page",
      "exports": [
        {
          "name": "WorkSettingsPage",
          "kind": "component",
          "line": 6,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/user-settings",
          "names": [
            "getUserProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./WorkSettingsClient",
          "names": [
            "WorkSettingsClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/model-router",
          "names": [
            "getAllModels"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/settings/WorkSettingsClient.tsx",
      "name": "WorkSettingsClient.tsx",
      "extension": ".tsx",
      "lines": 565,
      "size": 21712,
      "type": "component",
      "exports": [
        {
          "name": "WorkSettingsClient",
          "kind": "component",
          "line": 44,
          "isDefault": false,
          "params": "({\n  initialAliases,\n  initialModel,\n  initialVoiceAutoStop,\n  initialVoiceAutoStopDelay,\n  initialSttProvider,\n  initialKnowledgePrivacy = defaultKnowledgePrivacy,\n  availableModels,\n}: WorkSettingsClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/select",
          "names": [
            "Select",
            "SelectContent",
            "SelectItem",
            "SelectTrigger",
            "SelectValue"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/switch",
          "names": [
            "Switch"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Trash2",
            "Plus",
            "Save",
            "Zap",
            "Building",
            "Briefcase",
            "User",
            "Check",
            "Mic",
            "Volume2",
            "Brain",
            "Shield",
            "Eye",
            "EyeOff"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 251
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 253
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 270
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/setup/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 103,
      "size": 3700,
      "type": "page",
      "exports": [
        {
          "name": "WorkSetupPage",
          "kind": "component",
          "line": 26,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "messages",
            "threads",
            "userProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/embeddings",
          "names": [
            "generateEventEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ChatCapture",
          "names": [
            "ChatCapture"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/tasks/loading.tsx",
      "name": "loading.tsx",
      "extension": ".tsx",
      "lines": 6,
      "size": 145,
      "type": "component",
      "exports": [
        {
          "name": "TasksLoading",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/work/WorkSkeletons",
          "names": [
            "TasksPageSkeleton"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/tasks/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 286,
      "size": 11129,
      "type": "page",
      "exports": [
        {
          "name": "WorkTasksPage",
          "kind": "component",
          "line": 36,
          "isDefault": true
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 14,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "sql",
            "desc",
            "asc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities",
            "eventEntities",
            "fieldRegistry"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDbReadOnly"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "CheckCircle2",
            "Clock",
            "Calendar",
            "AlertTriangle",
            "Plus",
            "ChevronRight",
            "Download",
            "Sparkles"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/work/WorkTasksClient",
          "names": [
            "WorkTasksClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/TaskIntelligencePanel",
          "names": [
            "TaskIntelligencePanel"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/today/loading.tsx",
      "name": "loading.tsx",
      "extension": ".tsx",
      "lines": 6,
      "size": 155,
      "type": "component",
      "exports": [
        {
          "name": "TodayLoading",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/components/work/WorkSkeletons",
          "names": [
            "TodayDashboardSkeleton"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/work/today/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 725,
      "size": 31871,
      "type": "page",
      "exports": [
        {
          "name": "WorkTodayPage",
          "kind": "component",
          "line": 53,
          "isDefault": true
        },
        {
          "name": "revalidate",
          "kind": "constant",
          "line": 51,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql",
            "gte",
            "lte",
            "or",
            "inArray",
            "count"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDbReadOnly"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities",
            "pillars",
            "auditLog",
            "entityRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "AlertCircle",
            "CheckCircle2",
            "Calendar",
            "TrendingUp",
            "Clock",
            "DollarSign",
            "ArrowRight",
            "Phone",
            "Plus",
            "ChevronRight",
            "Briefcase",
            "User",
            "Building"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatCurrency",
            "formatDate",
            "getStageInfo"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/StaleContactsAlert",
          "names": [
            "StaleContactsAlert"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/TargetContactsWidget",
          "names": [
            "TargetContactsWidget"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/QuickCapturePanel",
          "names": [
            "QuickCapturePanel",
            "QuickCaptureFAB"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/ActionSuggestions",
          "names": [
            "ActionSuggestions"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/views/[viewId]/edit/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 39,
      "size": 1412,
      "type": "page",
      "exports": [
        {
          "name": "WorkViewEditPage",
          "kind": "component",
          "line": 8,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "redirect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry",
            "savedViews"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkSavedViewEditorClient",
          "names": [
            "WorkSavedViewEditorClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/work/_components/WorkEntityPillarPage.tsx",
      "name": "WorkEntityPillarPage.tsx",
      "extension": ".tsx",
      "lines": 359,
      "size": 15379,
      "type": "page",
      "exports": [
        {
          "name": "WorkEntityPillarPage",
          "kind": "component",
          "line": 47,
          "isDefault": false,
          "params": "(props: {\n  entityType: string;\n  title: string;\n  baseLabel?: string;\n  page?: number;\n  group?: string;\n  listingIdFilter?: string;\n  showAll?: boolean;\n  interestsFilter?: string;\n})"
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/WorkEntitiesClient",
          "names": [
            "WorkEntitiesClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/view-query",
          "names": [
            "getDefaultSavedView",
            "getWorkFieldTypeMap",
            "queryWorkEntitiesPage"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatFieldLabel",
            "formatCurrency",
            "getStageInfo",
            "getEntityTypeLabel"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Plus",
            "Settings",
            "ArrowLeft",
            "Download"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/work/InterestsSearch",
          "names": [
            "InterestsSearch"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/AdvancedFilters",
          "names": [
            "AdvancedFilters",
            "QuickSearch"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/workspace-debug/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 94,
      "size": 3904,
      "type": "page",
      "exports": [
        {
          "name": "WorkspaceDebugPage",
          "kind": "component",
          "line": 5,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "threads",
            "messages"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/app/workspaces/page.tsx",
      "name": "page.tsx",
      "extension": ".tsx",
      "lines": 18,
      "size": 540,
      "type": "page",
      "exports": [
        {
          "name": "WorkspacesPage",
          "kind": "component",
          "line": 3,
          "isDefault": true
        }
      ],
      "imports": [
        {
          "source": "./workspace-picker-client",
          "names": [
            "WorkspacePickerClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/app/workspaces/workspace-picker-client.tsx",
      "name": "workspace-picker-client.tsx",
      "extension": ".tsx",
      "lines": 126,
      "size": 4259,
      "type": "component",
      "exports": [
        {
          "name": "WorkspacePickerClient",
          "kind": "component",
          "line": 34,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/AIModelSelector.tsx",
      "name": "AIModelSelector.tsx",
      "extension": ".tsx",
      "lines": 221,
      "size": 6993,
      "type": "component",
      "exports": [
        {
          "name": "AIModelSelector",
          "kind": "component",
          "line": 50,
          "isDefault": false,
          "params": "({\n  onProviderChange,\n  onModelChange,\n  className,\n  compact = false,\n}: AIModelSelectorProps)"
        },
        {
          "name": "getSavedProviderPreference",
          "kind": "function",
          "line": 207,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "ChatProvider",
          "kind": "type",
          "line": 15,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/select",
          "names": [
            "Select",
            "SelectContent",
            "SelectItem",
            "SelectTrigger",
            "SelectValue"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Bot",
            "Sparkles"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ApprovalRequest.tsx",
      "name": "ApprovalRequest.tsx",
      "extension": ".tsx",
      "lines": 374,
      "size": 11647,
      "type": "component",
      "exports": [
        {
          "name": "ApprovalRequest",
          "kind": "component",
          "line": 177,
          "isDefault": false,
          "params": "({\n  approvalId,\n  changeType,\n  proposedChanges,\n  summary,\n  onApprove,\n  onReject,\n  isProcessing = false,\n}: ApprovalRequestProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Check",
            "CheckCircle2",
            "Plus",
            "Pencil",
            "Trash2",
            "GitMerge",
            "ChevronDown",
            "ChevronUp"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/switch",
          "names": [
            "Switch"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "sonner",
          "names": [
            "toast"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/CalendarClient.tsx",
      "name": "CalendarClient.tsx",
      "extension": ".tsx",
      "lines": 209,
      "size": 7802,
      "type": "component",
      "exports": [
        {
          "name": "CalendarClient",
          "kind": "component",
          "line": 22,
          "isDefault": false,
          "params": "({ workspace }: CalendarClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Calendar",
            "ChevronLeft",
            "ChevronRight",
            "Clock"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "date-fns",
          "names": [
            "format",
            "startOfMonth",
            "endOfMonth",
            "eachDayOfInterval",
            "isSameMonth",
            "isSameDay",
            "addMonths",
            "subMonths",
            "startOfWeek",
            "endOfWeek"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ChatCapture.tsx",
      "name": "ChatCapture.tsx",
      "extension": ".tsx",
      "lines": 1972,
      "size": 81440,
      "type": "component",
      "exports": [
        {
          "name": "ChatCapture",
          "kind": "component",
          "line": 61,
          "isDefault": false,
          "params": "({ \n  initialThreadId, \n  isInitialization = false,\n  contextType = \"general\",\n  contextId,\n  isSidebar = false,\n}: ChatCaptureProps = {})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition",
            "useEffect",
            "useLayoutEffect",
            "useRef"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Bot",
            "MessageSquare",
            "Sparkles",
            "Settings2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ChatInput",
          "names": [
            "ChatInput"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ChatMessage",
          "names": [
            "ChatMessage"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/EntityClarification",
          "names": [
            "EntityClarification"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ApprovalRequest",
          "names": [
            "ApprovalRequest"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/approval",
          "names": [
            "formatProposedChanges",
            "generateProposedChanges"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/CaptureReviewCard",
          "names": [
            "type CapturedChange"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/SessionActivityTray",
          "names": [
            "SessionActivityTray",
            "useSessionChanges"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/AIModelSelector",
          "names": [
            "AIModelSelector",
            "getSavedProviderPreference",
            "type ChatProvider"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ChatInput.tsx",
      "name": "ChatInput.tsx",
      "extension": ".tsx",
      "lines": 607,
      "size": 24114,
      "type": "component",
      "exports": [
        {
          "name": "ChatInput",
          "kind": "component",
          "line": 89,
          "isDefault": false,
          "params": "({\n  onSend,\n  onVoiceRecord,\n  onImageUpload,\n  placeholder = \"Plan, @ for context, / for commands\",\n  disabled = false,\n  transcript,\n  onTranscriptUpdate,\n  showLocationButton = true,\n}: ChatInputProps)"
        },
        {
          "name": "AttachedPhoto",
          "kind": "type",
          "line": 18,
          "isDefault": false
        },
        {
          "name": "AttachedFile",
          "kind": "type",
          "line": 24,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef",
            "useEffect",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Mic",
            "Image",
            "Globe",
            "AtSign",
            "Send",
            "Infinity",
            "Sparkles",
            "Languages",
            "MapPin",
            "Check",
            "Loader2",
            "X",
            "FileText",
            "FileSpreadsheet",
            "Paperclip",
            "Plus",
            "Mail"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/hooks/useGeolocation",
          "names": [
            "useGeolocation",
            "type GeolocationData"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/hooks/useWorkspaceId",
          "names": [
            "useWorkspaceId"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dropdown-menu",
          "names": [
            "DropdownMenu",
            "DropdownMenuContent",
            "DropdownMenuItem",
            "DropdownMenuTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/InlineVoiceRecorder",
          "names": [
            "InlineVoiceRecorder"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/supabase/upload-client",
          "names": [
            "uploadArtifactFromBrowser",
            "type UploadedArtifact"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ChatMessage.tsx",
      "name": "ChatMessage.tsx",
      "extension": ".tsx",
      "lines": 318,
      "size": 13511,
      "type": "component",
      "exports": [
        {
          "name": "ChatMessage",
          "kind": "component",
          "line": 39,
          "isDefault": false,
          "params": "({\r\n  role,\r\n  content,\r\n  thinking,\r\n  attachments,\r\n  extraction,\r\n  modelUsed,\r\n  timestamp,\r\n  approval,\r\n  queryResult,\r\n  onFollowUpQuery,\r\n}: ChatMessageProps)"
        }
      ],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "Bot",
            "User"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "react-markdown",
          "names": [
            "ReactMarkdown"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "remark-gfm",
          "names": [
            "remarkGfm"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "rehype-highlight",
          "names": [
            "rehypeHighlight"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/work/QueryResultsCard",
          "names": [
            "QueryResultsCard"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/design-tokens",
          "names": [
            "actionConfig"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/collections/CollectionItemsClient.tsx",
      "name": "CollectionItemsClient.tsx",
      "extension": ".tsx",
      "lines": 177,
      "size": 5553,
      "type": "component",
      "exports": [
        {
          "name": "CollectionItemsClient",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "({ slug }: { slug: string })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useMemo",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/EntityClarification.tsx",
      "name": "EntityClarification.tsx",
      "extension": ".tsx",
      "lines": 101,
      "size": 3715,
      "type": "component",
      "exports": [
        {
          "name": "EntityClarification",
          "kind": "component",
          "line": 13,
          "isDefault": false,
          "params": "({ prompt, onSelect, onCancel }: EntityClarificationProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/ClearPlanButton.tsx",
      "name": "ClearPlanButton.tsx",
      "extension": ".tsx",
      "lines": 52,
      "size": 1548,
      "type": "component",
      "exports": [
        {
          "name": "ClearPlanButton",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/FitnessBadges.tsx",
      "name": "FitnessBadges.tsx",
      "extension": ".tsx",
      "lines": 89,
      "size": 2257,
      "type": "component",
      "exports": [
        {
          "name": "getFitnessTypeBadgeStyle",
          "kind": "function",
          "line": 8,
          "isDefault": false,
          "params": "(type?: string | null)"
        },
        {
          "name": "FitnessTypeBadge",
          "kind": "component",
          "line": 38,
          "isDefault": false,
          "params": "({\n  type,\n  className,\n}: {\n  type?: FitnessSessionType | string | null;\n  className?: string;\n})"
        },
        {
          "name": "FitnessStatusBadge",
          "kind": "component",
          "line": 59,
          "isDefault": false,
          "params": "({\n  status,\n  className,\n}: {\n  status?: FitnessSessionStatus | string | null;\n  className?: string;\n})"
        },
        {
          "name": "FitnessSessionType",
          "kind": "type",
          "line": 5,
          "isDefault": false
        },
        {
          "name": "FitnessSessionStatus",
          "kind": "type",
          "line": 6,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/FitnessGetStartedClient.tsx",
      "name": "FitnessGetStartedClient.tsx",
      "extension": ".tsx",
      "lines": 196,
      "size": 8518,
      "type": "component",
      "exports": [
        {
          "name": "FitnessGetStartedClient",
          "kind": "component",
          "line": 5,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/FitnessLegend.tsx",
      "name": "FitnessLegend.tsx",
      "extension": ".tsx",
      "lines": 45,
      "size": 1502,
      "type": "component",
      "exports": [
        {
          "name": "FitnessLegend",
          "kind": "component",
          "line": 28,
          "isDefault": false,
          "params": "({ className }: { className?: string })"
        }
      ],
      "imports": [
        {
          "source": "@/components/fitness/FitnessSessionIcon",
          "names": [
            "FitnessSessionIcon"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessBadges",
          "names": [
            "FitnessStatusBadge",
            "FitnessTypeBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/FitnessProgressCard.tsx",
      "name": "FitnessProgressCard.tsx",
      "extension": ".tsx",
      "lines": 54,
      "size": 2032,
      "type": "component",
      "exports": [
        {
          "name": "FitnessProgressCard",
          "kind": "component",
          "line": 3,
          "isDefault": false,
          "params": "({\r\n  week,\r\n  month,\r\n}: {\r\n  week: { done: number; live: number; total: number };\r\n  month: { done: number; live: number; total: number };\r\n})"
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/FitnessSessionIcon.tsx",
      "name": "FitnessSessionIcon.tsx",
      "extension": ".tsx",
      "lines": 36,
      "size": 953,
      "type": "component",
      "exports": [
        {
          "name": "FitnessSessionIcon",
          "kind": "component",
          "line": 4,
          "isDefault": false,
          "params": "({\r\n  iconKey,\r\n  className,\r\n}: {\r\n  iconKey: FitnessIconKey;\r\n  className?: string;\r\n})"
        }
      ],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "Activity",
            "Bike",
            "Dumbbell",
            "Footprints",
            "HeartPulse",
            "Timer",
            "Waves"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/PlanGenerationStatusClient.tsx",
      "name": "PlanGenerationStatusClient.tsx",
      "extension": ".tsx",
      "lines": 178,
      "size": 6059,
      "type": "component",
      "exports": [
        {
          "name": "PlanGenerationStatusClient",
          "kind": "component",
          "line": 21,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useRef",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/PlanGeneratorClient.tsx",
      "name": "PlanGeneratorClient.tsx",
      "extension": ".tsx",
      "lines": 468,
      "size": 18131,
      "type": "component",
      "exports": [
        {
          "name": "PlanGeneratorClient",
          "kind": "component",
          "line": 53,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Loader2",
            "Dumbbell",
            "Calendar",
            "CheckCircle2",
            "AlertCircle",
            "Sparkles"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/PlannedSessionActionsClient.tsx",
      "name": "PlannedSessionActionsClient.tsx",
      "extension": ".tsx",
      "lines": 86,
      "size": 2503,
      "type": "component",
      "exports": [
        {
          "name": "PlannedSessionActionsClient",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "({\n  title,\n  planVersionId,\n  date,\n  prescriptionId,\n  templateKey,\n  existingEventId,\n  existingStatus,\n}: {\n  title: string;\n  planVersionId: string | null;\n  date: string;\n  prescriptionId: string;\n  templateKey: string;\n  existingEventId: string | null;\n  existingStatus: string | null;\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/PlannedSessionEditorClient.tsx",
      "name": "PlannedSessionEditorClient.tsx",
      "extension": ".tsx",
      "lines": 195,
      "size": 8195,
      "type": "component",
      "exports": [
        {
          "name": "PlannedSessionEditorClient",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "({\r\n  plan,\r\n  date,\r\n  daySessions,\r\n  session,\r\n  template,\r\n}: {\r\n  plan: TrainingPlan;\r\n  date: string;\r\n  daySessions: CalendarSession[];\r\n  session: CalendarSession;\r\n  template: SessionTemplate | null;\r\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "withDayOverrideSessions"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/PlanSummaryCard.tsx",
      "name": "PlanSummaryCard.tsx",
      "extension": ".tsx",
      "lines": 63,
      "size": 2292,
      "type": "component",
      "exports": [
        {
          "name": "PlanSummaryCard",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "({ plan, versionNumber }: { plan: TrainingPlan; versionNumber?: number | string })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/PlanViewerClient.tsx",
      "name": "PlanViewerClient.tsx",
      "extension": ".tsx",
      "lines": 430,
      "size": 14816,
      "type": "component",
      "exports": [
        {
          "name": "PlanViewerClient",
          "kind": "component",
          "line": 49,
          "isDefault": false,
          "params": "({ plan, planId, currentDate, executedDates = [] }: PlanViewerProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useMemo"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Calendar",
            "Clock",
            "Target",
            "ChevronLeft",
            "ChevronRight",
            "Play",
            "CheckCircle2",
            "Dumbbell",
            "Heart",
            "Bike",
            "Zap"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/ScheduleJobsClient.tsx",
      "name": "ScheduleJobsClient.tsx",
      "extension": ".tsx",
      "lines": 89,
      "size": 3088,
      "type": "component",
      "exports": [
        {
          "name": "ScheduleJobsClient",
          "kind": "component",
          "line": 18,
          "isDefault": false,
          "params": "({ jobs }: { jobs: ScheduleJobRow[] })"
        },
        {
          "name": "ScheduleJobRow",
          "kind": "type",
          "line": 5,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/TodayExecutionClient.tsx",
      "name": "TodayExecutionClient.tsx",
      "extension": ".tsx",
      "lines": 227,
      "size": 8964,
      "type": "component",
      "exports": [
        {
          "name": "TodayExecutionClient",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "({\n  plan,\n  planVersionId,\n  initialDateIso,\n}: {\n  plan: TrainingPlan;\n  planVersionId: string | null;\n  initialDateIso: string;\n})"
        }
      ],
      "imports": [
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveDay"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/TodayPreviewCard.tsx",
      "name": "TodayPreviewCard.tsx",
      "extension": ".tsx",
      "lines": 83,
      "size": 3469,
      "type": "component",
      "exports": [
        {
          "name": "TodayPreviewCard",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "({\n  plan,\n  statusByPrescriptionId,\n}: {\n  plan: TrainingPlan;\n  statusByPrescriptionId?: Record<string, { status: string; eventId?: string }>;\n})"
        }
      ],
      "imports": [
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveDay"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/rendering",
          "names": [
            "getFitnessIconKey",
            "getSessionHint"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessSessionIcon",
          "names": [
            "FitnessSessionIcon"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/fitness/FitnessBadges",
          "names": [
            "FitnessStatusBadge",
            "FitnessTypeBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "react",
          "names": [
            "useMemo"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/WeeklyReviewClient.tsx",
      "name": "WeeklyReviewClient.tsx",
      "extension": ".tsx",
      "lines": 44,
      "size": 1222,
      "type": "component",
      "exports": [
        {
          "name": "WeeklyReviewClient",
          "kind": "component",
          "line": 5,
          "isDefault": false,
          "params": "({ weekStartIso }: { weekStartIso: string })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/WorkoutExecuteClient.tsx",
      "name": "WorkoutExecuteClient.tsx",
      "extension": ".tsx",
      "lines": 453,
      "size": 19027,
      "type": "component",
      "exports": [
        {
          "name": "WorkoutExecuteClient",
          "kind": "component",
          "line": 22,
          "isDefault": false,
          "params": "({\n  eventId,\n  template,\n}: {\n  eventId: string;\n  template: SessionTemplate | null;\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/WorkoutExecutionClient.tsx",
      "name": "WorkoutExecutionClient.tsx",
      "extension": ".tsx",
      "lines": 440,
      "size": 14707,
      "type": "component",
      "exports": [
        {
          "name": "WorkoutExecutionClient",
          "kind": "component",
          "line": 36,
          "isDefault": false,
          "params": "({ workout, planId, dateIso }: WorkoutExecutionProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useCallback",
            "useMemo"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Play",
            "Pause",
            "CheckCircle2",
            "ChevronDown",
            "ChevronUp",
            "Timer",
            "Plus",
            "Minus",
            "Trophy",
            "Dumbbell",
            "Save"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/fitness/WorkoutRenderer.tsx",
      "name": "WorkoutRenderer.tsx",
      "extension": ".tsx",
      "lines": 288,
      "size": 14385,
      "type": "component",
      "exports": [
        {
          "name": "WorkoutRenderer",
          "kind": "component",
          "line": 8,
          "isDefault": false,
          "params": "(props: {\n  template?: SessionTemplate | null;\n  session?: CalendarSessionWithContent | null;\n  plannedExerciseEdits?: Array<{ exerciseName: string; plannedWeight?: number; plannedReps?: number; plannedSets?: number }>;\n})"
        }
      ],
      "imports": [
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "sessionToTemplateLike"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/GestureNavigation.tsx",
      "name": "GestureNavigation.tsx",
      "extension": ".tsx",
      "lines": 166,
      "size": 4636,
      "type": "component",
      "exports": [
        {
          "name": "GestureNavigation",
          "kind": "component",
          "line": 19,
          "isDefault": false,
          "params": "({\n  children,\n  enabled = true,\n}: GestureNavigationProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useRef",
            "useCallback",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/GoalsClient.tsx",
      "name": "GoalsClient.tsx",
      "extension": ".tsx",
      "lines": 186,
      "size": 7096,
      "type": "component",
      "exports": [
        {
          "name": "GoalsClient",
          "kind": "component",
          "line": 34,
          "isDefault": false,
          "params": "({ initialGoals, workspace }: GoalsClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Target",
            "Plus",
            "TrendingUp",
            "Calendar",
            "CheckCircle2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "date-fns",
          "names": [
            "format"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/HabitsClient.tsx",
      "name": "HabitsClient.tsx",
      "extension": ".tsx",
      "lines": 180,
      "size": 6672,
      "type": "component",
      "exports": [
        {
          "name": "HabitsClient",
          "kind": "component",
          "line": 30,
          "isDefault": false,
          "params": "({ initialHabits, workspace }: HabitsClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "TrendingUp",
            "Plus",
            "Flame",
            "CheckCircle2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "date-fns",
          "names": [
            "format",
            "startOfWeek",
            "addDays",
            "isSameDay",
            "parseISO"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/InboxClient.tsx",
      "name": "InboxClient.tsx",
      "extension": ".tsx",
      "lines": 276,
      "size": 9665,
      "type": "component",
      "exports": [
        {
          "name": "InboxClient",
          "kind": "component",
          "line": 22,
          "isDefault": false,
          "params": "({ initialItems, workspace }: InboxClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/InlineVoiceRecorder.tsx",
      "name": "InlineVoiceRecorder.tsx",
      "extension": ".tsx",
      "lines": 358,
      "size": 11879,
      "type": "component",
      "exports": [
        {
          "name": "InlineVoiceRecorder",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "({ \n  onRecordingComplete, \n  onCancel,\n  onTranscriptUpdate,\n  language = \"en\"\n}: InlineVoiceRecorderProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Square",
            "X",
            "Pause",
            "Play",
            "Loader2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/deepgram-streaming",
          "names": [
            "startDeepgramStreamingSTT"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 7
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 7
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 27
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 89
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 94
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 95
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 96
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 97
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 108
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 112
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 290
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/AttentionBadge.tsx",
      "name": "AttentionBadge.tsx",
      "extension": ".tsx",
      "lines": 54,
      "size": 1928,
      "type": "component",
      "exports": [
        {
          "name": "AttentionBadge",
          "kind": "component",
          "line": 34,
          "isDefault": false,
          "params": "({ type, urgency = 3, reason, compact = false, className }: AttentionBadgeProps)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "AlertTriangle",
            "AlertCircle",
            "Bell",
            "Clock"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/ContextualSuggestions.tsx",
      "name": "ContextualSuggestions.tsx",
      "extension": ".tsx",
      "lines": 468,
      "size": 14570,
      "type": "hook",
      "exports": [
        {
          "name": "ContextualSuggestions",
          "kind": "component",
          "line": 99,
          "isDefault": false,
          "params": "({\r\n  location,\r\n  timeContext,\r\n  suggestions: externalSuggestions,\r\n  loading: externalLoading,\r\n  error: externalError,\r\n  onSuggestionAction,\r\n  onEntityClick,\r\n  onRefresh,\r\n  variant = \"panel\",\r\n  maxSuggestions = 5,\r\n  autoDismissSeconds = 0,\r\n  className,\r\n}: ContextualSuggestionsProps)"
        },
        {
          "name": "useContextualContext",
          "kind": "hook",
          "line": 428,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "ContextualSuggestion",
          "kind": "type",
          "line": 20,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "MapPin",
            "Clock",
            "Sparkles",
            "Loader2",
            "RefreshCw",
            "X",
            "ChevronRight",
            "Calendar",
            "Building2",
            "Coffee",
            "Briefcase"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./SuggestionCard",
          "names": [
            "SuggestionCard"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/EntityIntelligenceCard.tsx",
      "name": "EntityIntelligenceCard.tsx",
      "extension": ".tsx",
      "lines": 253,
      "size": 8930,
      "type": "component",
      "exports": [
        {
          "name": "EntityIntelligenceCard",
          "kind": "component",
          "line": 73,
          "isDefault": false,
          "params": "({\n  intelligence,\n  entity,\n  onSetTarget,\n  onRemoveTarget,\n  onViewDetails,\n  compact = false,\n  className,\n}: EntityIntelligenceCardProps)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./PriorityBadge",
          "names": [
            "PriorityBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./HealthBadge",
          "names": [
            "HealthBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./TargetBadge",
          "names": [
            "TargetBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./AttentionBadge",
          "names": [
            "AttentionBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "TrendingUp",
            "TrendingDown",
            "Minus",
            "Clock",
            "Activity",
            "DollarSign",
            "Target",
            "ChevronRight"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/HealthBadge.tsx",
      "name": "HealthBadge.tsx",
      "extension": ".tsx",
      "lines": 44,
      "size": 1959,
      "type": "component",
      "exports": [
        {
          "name": "HealthBadge",
          "kind": "component",
          "line": 31,
          "isDefault": false,
          "params": "({ score, trend, showTrend = false, showScore = false, size = \"md\", className }: HealthBadgeProps)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Heart",
            "HeartCrack",
            "HeartPulse",
            "TrendingDown",
            "TrendingUp",
            "Minus"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 45,
      "size": 1188,
      "type": "component",
      "exports": [],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/IntroductionChain.tsx",
      "name": "IntroductionChain.tsx",
      "extension": ".tsx",
      "lines": 250,
      "size": 7766,
      "type": "hook",
      "exports": [
        {
          "name": "IntroductionChain",
          "kind": "component",
          "line": 43,
          "isDefault": false,
          "params": "({\r\n  data,\r\n  loading = false,\r\n  error = null,\r\n  onEntityClick,\r\n  onRefresh,\r\n  compact = false,\r\n  className,\r\n}: IntroductionChainProps)"
        },
        {
          "name": "useIntroductionChain",
          "kind": "hook",
          "line": 212,
          "isDefault": false,
          "params": "(entityId: string | null)"
        },
        {
          "name": "IntroductionNode",
          "kind": "type",
          "line": 7,
          "isDefault": false
        },
        {
          "name": "IntroductionChainData",
          "kind": "type",
          "line": 15,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useCallback",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "ArrowRight",
            "User",
            "Building2",
            "Loader2",
            "RefreshCw"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/NetworkGraph.tsx",
      "name": "NetworkGraph.tsx",
      "extension": ".tsx",
      "lines": 352,
      "size": 11336,
      "type": "component",
      "exports": [
        {
          "name": "NetworkGraph",
          "kind": "component",
          "line": 78,
          "isDefault": false,
          "params": "({\r\n  data,\r\n  mode = \"2d\",\r\n  width,\r\n  height = 400,\r\n  onNodeClick,\r\n  onNodeHover,\r\n  highlightedNodeId,\r\n  className,\r\n}: NetworkGraphProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useCallback",
            "useEffect",
            "useMemo",
            "useRef",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/dynamic",
          "names": [
            "dynamic"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Maximize2",
            "Minimize2",
            "RotateCcw",
            "ZoomIn",
            "ZoomOut",
            "Box",
            "Layers"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/PriorityBadge.tsx",
      "name": "PriorityBadge.tsx",
      "extension": ".tsx",
      "lines": 46,
      "size": 1355,
      "type": "component",
      "exports": [
        {
          "name": "PriorityBadge",
          "kind": "component",
          "line": 35,
          "isDefault": false,
          "params": "({ score, showScore = false, size = \"md\", className }: PriorityBadgeProps)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/PriorityEntitiesList.tsx",
      "name": "PriorityEntitiesList.tsx",
      "extension": ".tsx",
      "lines": 114,
      "size": 3164,
      "type": "component",
      "exports": [
        {
          "name": "PriorityEntitiesList",
          "kind": "component",
          "line": 37,
          "isDefault": false,
          "params": "({\r\n  entities,\r\n  title = \"Priority Entities\",\r\n  emptyMessage = \"No entities to show\",\r\n  onRefresh,\r\n  onViewAll,\r\n  onEntityClick,\r\n  onSetTarget,\r\n  onRemoveTarget,\r\n  isLoading,\r\n  compact = true,\r\n  className,\r\n}: PriorityEntitiesListProps)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./EntityIntelligenceCard",
          "names": [
            "EntityIntelligenceCard"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "ChevronRight",
            "RefreshCw"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/ReferralTracker.tsx",
      "name": "ReferralTracker.tsx",
      "extension": ".tsx",
      "lines": 435,
      "size": 13455,
      "type": "hook",
      "exports": [
        {
          "name": "ReferralTracker",
          "kind": "component",
          "line": 112,
          "isDefault": false,
          "params": "({\n  referrerId,\n  summary,\n  obligations = [],\n  loading = false,\n  error = null,\n  onReferrerClick,\n  onDealClick,\n  onRecordPayment,\n  onRefresh,\n  compact = false,\n  className,\n}: ReferralTrackerProps)"
        },
        {
          "name": "useReferralTracker",
          "kind": "hook",
          "line": 391,
          "isDefault": false,
          "params": "(referrerId?: string)"
        },
        {
          "name": "ReferralObligation",
          "kind": "type",
          "line": 19,
          "isDefault": false
        },
        {
          "name": "ReferralPayment",
          "kind": "type",
          "line": 33,
          "isDefault": false
        },
        {
          "name": "ReferrerSummary",
          "kind": "type",
          "line": 42,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "DollarSign",
            "TrendingUp",
            "Clock",
            "CheckCircle2",
            "XCircle",
            "Loader2",
            "RefreshCw",
            "ChevronDown",
            "ChevronUp",
            "User",
            "Plus"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/intelligence/SuggestionCard.tsx",
      "name": "SuggestionCard.tsx",
      "extension": ".tsx",
      "lines": 278,
      "size": 8023,
      "type": "component",
      "exports": [
        {
          "name": "SuggestionCard",
          "kind": "component",
          "line": 75,
          "isDefault": false,
          "params": "({\n  suggestion,\n  onDismiss,\n  onSnooze,\n  onConvert,\n  onAction,\n  compact = false,\n  className,\n}: SuggestionCardProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Phone",
            "Mail",
            "Calendar",
            "FileText",
            "Eye",
            "Clock",
            "X",
            "AlarmClock",
            "CheckCircle",
            "AlertTriangle",
            "Lightbulb",
            "Bell",
            "ChevronRight"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/SuggestionsList.tsx",
      "name": "SuggestionsList.tsx",
      "extension": ".tsx",
      "lines": 137,
      "size": 3579,
      "type": "component",
      "exports": [
        {
          "name": "SuggestionsList",
          "kind": "component",
          "line": 39,
          "isDefault": false,
          "params": "({\n  suggestions,\n  title = \"Smart Suggestions\",\n  emptyMessage = \"No suggestions right now\",\n  onRefresh,\n  onGenerate,\n  onViewAll,\n  onDismiss,\n  onSnooze,\n  onConvert,\n  onAction,\n  isLoading,\n  compact = false,\n  className,\n}: SuggestionsListProps)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./SuggestionCard",
          "names": [
            "SuggestionCard"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "ChevronRight",
            "RefreshCw",
            "Sparkles"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/intelligence/TargetBadge.tsx",
      "name": "TargetBadge.tsx",
      "extension": ".tsx",
      "lines": 36,
      "size": 1543,
      "type": "component",
      "exports": [
        {
          "name": "TargetBadge",
          "kind": "component",
          "line": 25,
          "isDefault": false,
          "params": "({ tier, showLabel = true, size = \"md\", className }: TargetBadgeProps)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Target",
            "Star",
            "Crosshair"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/KeyboardShortcuts.tsx",
      "name": "KeyboardShortcuts.tsx",
      "extension": ".tsx",
      "lines": 132,
      "size": 4144,
      "type": "component",
      "exports": [
        {
          "name": "KeyboardShortcutsModal",
          "kind": "component",
          "line": 52,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "KeyboardShortcutsProvider",
          "kind": "component",
          "line": 124,
          "isDefault": false,
          "params": "({ children }: { children: React.ReactNode })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "X",
            "Keyboard"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/hooks/useKeyboardShortcuts",
          "names": [
            "useGlobalShortcuts",
            "formatShortcutKey",
            "type KeyboardShortcut"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/KnowledgeClarification.tsx",
      "name": "KnowledgeClarification.tsx",
      "extension": ".tsx",
      "lines": 184,
      "size": 5890,
      "type": "component",
      "exports": [
        {
          "name": "KnowledgeClarification",
          "kind": "component",
          "line": 26,
          "isDefault": false,
          "params": "({\n  prompts,\n  onRespond,\n  onDismiss,\n  onDismissAll,\n  className,\n}: KnowledgeClarificationProps)"
        },
        {
          "name": "ClarificationPrompt",
          "kind": "type",
          "line": 9,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Lightbulb",
            "X",
            "Check"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/LayoutContent.tsx",
      "name": "LayoutContent.tsx",
      "extension": ".tsx",
      "lines": 49,
      "size": 1505,
      "type": "component",
      "exports": [
        {
          "name": "LayoutContent",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "({ children }: LayoutContentProps)"
        }
      ],
      "imports": [
        {
          "source": "@/hooks/useSidebarChat",
          "names": [
            "useSidebarChat"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/GestureNavigation",
          "names": [
            "GestureNavigation"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/PageTransition",
          "names": [
            "PageTransition"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/MarkdownCard.tsx",
      "name": "MarkdownCard.tsx",
      "extension": ".tsx",
      "lines": 23,
      "size": 668,
      "type": "component",
      "exports": [
        {
          "name": "MarkdownCard",
          "kind": "component",
          "line": 7,
          "isDefault": false,
          "params": "(props: { markdown: string; className?: string; title?: string })"
        }
      ],
      "imports": [
        {
          "source": "react-markdown",
          "names": [
            "ReactMarkdown"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "remark-gfm",
          "names": [
            "remarkGfm"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "rehype-highlight",
          "names": [
            "rehypeHighlight"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/PageTransition.tsx",
      "name": "PageTransition.tsx",
      "extension": ".tsx",
      "lines": 103,
      "size": 2167,
      "type": "component",
      "exports": [
        {
          "name": "PageTransition",
          "kind": "component",
          "line": 15,
          "isDefault": false,
          "params": "({ children, className }: PageTransitionProps)"
        },
        {
          "name": "FadeIn",
          "kind": "component",
          "line": 50,
          "isDefault": false,
          "params": "({\n  children,\n  className,\n  delay = 0,\n}: {\n  children: React.ReactNode;\n  className?: string;\n  delay?: number;\n})"
        },
        {
          "name": "StaggeredList",
          "kind": "component",
          "line": 84,
          "isDefault": false,
          "params": "({\n  children,\n  className,\n  staggerDelay = 50,\n}: {\n  children: React.ReactNode[];\n  className?: string;\n  staggerDelay?: number;\n})"
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "usePathname"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState",
            "useRef"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/PatternNotifications.tsx",
      "name": "PatternNotifications.tsx",
      "extension": ".tsx",
      "lines": 283,
      "size": 9169,
      "type": "component",
      "exports": [
        {
          "name": "PatternNotifications",
          "kind": "component",
          "line": 27,
          "isDefault": false,
          "params": "({ className }: PatternNotificationsProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Bell",
            "BellRing",
            "X",
            "Check",
            "ChevronRight",
            "AlertCircle",
            "TrendingUp",
            "TrendingDown",
            "Archive",
            "Users"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dropdown-menu",
          "names": [
            "DropdownMenu",
            "DropdownMenuContent",
            "DropdownMenuTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/PlanEditorClient.tsx",
      "name": "PlanEditorClient.tsx",
      "extension": ".tsx",
      "lines": 61,
      "size": 2019,
      "type": "component",
      "exports": [
        {
          "name": "PlanEditorClient",
          "kind": "component",
          "line": 5,
          "isDefault": false,
          "params": "({ initial }: { initial: any })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ProfileClient.tsx",
      "name": "ProfileClient.tsx",
      "extension": ".tsx",
      "lines": 295,
      "size": 11232,
      "type": "component",
      "exports": [
        {
          "name": "ProfileClient",
          "kind": "component",
          "line": 32,
          "isDefault": false,
          "params": "({ workspace, initialProfile }: ProfileClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardDescription",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/textarea",
          "names": [
            "Textarea"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Loader2",
            "User",
            "Briefcase",
            "MessageSquare",
            "Sparkles"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/hooks/useSidebarChat",
          "names": [
            "useSidebarChat"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/PWARegistration.tsx",
      "name": "PWARegistration.tsx",
      "extension": ".tsx",
      "lines": 143,
      "size": 4406,
      "type": "hook",
      "exports": [
        {
          "name": "PWARegistration",
          "kind": "component",
          "line": 15,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "useIsPWA",
          "kind": "hook",
          "line": 131,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Download",
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/QueryProvider.tsx",
      "name": "QueryProvider.tsx",
      "extension": ".tsx",
      "lines": 51,
      "size": 1728,
      "type": "component",
      "exports": [
        {
          "name": "QueryProvider",
          "kind": "component",
          "line": 21,
          "isDefault": false,
          "params": "({ children }: { children: React.ReactNode })"
        }
      ],
      "imports": [
        {
          "source": "@tanstack/react-query",
          "names": [
            "QueryClient",
            "QueryClientProvider"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ReflectionsClient.tsx",
      "name": "ReflectionsClient.tsx",
      "extension": ".tsx",
      "lines": 173,
      "size": 7001,
      "type": "component",
      "exports": [
        {
          "name": "ReflectionsClient",
          "kind": "component",
          "line": 27,
          "isDefault": false,
          "params": "({ initialReflections, workspace }: ReflectionsClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "FileText",
            "Plus",
            "Sparkles",
            "Calendar"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "date-fns",
          "names": [
            "format"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/SearchClient.tsx",
      "name": "SearchClient.tsx",
      "extension": ".tsx",
      "lines": 359,
      "size": 13465,
      "type": "component",
      "exports": [
        {
          "name": "SearchClient",
          "kind": "component",
          "line": 43,
          "isDefault": false,
          "params": "({ initialQuery = \"\", mode = \"hybrid\" }: SearchClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "date-fns",
          "names": [
            "format"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/SearchFilters.tsx",
      "name": "SearchFilters.tsx",
      "extension": ".tsx",
      "lines": 201,
      "size": 7479,
      "type": "component",
      "exports": [
        {
          "name": "SearchFilters",
          "kind": "component",
          "line": 12,
          "isDefault": false,
          "params": "({\r\n  pillars,\r\n  uniqueEventTypes,\r\n  uniqueEntityTypes,\r\n}: SearchFiltersProps)"
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "useSearchParams",
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/SettingsClient.tsx",
      "name": "SettingsClient.tsx",
      "extension": ".tsx",
      "lines": 281,
      "size": 10485,
      "type": "component",
      "exports": [
        {
          "name": "SettingsClient",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "({\n  workspace,\n  initialApprovalLevel,\n  initialTrackingPreferences,\n  initialSTTStreaming = false,\n  initialChatStreaming = true,\n}: SettingsClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Save",
            "CheckCircle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 178
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 179
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 193
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/Sidebar.tsx",
      "name": "Sidebar.tsx",
      "extension": ".tsx",
      "lines": 457,
      "size": 18004,
      "type": "component",
      "exports": [
        {
          "name": "Sidebar",
          "kind": "component",
          "line": 124,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useMemo",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "usePathname"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "LayoutDashboard",
            "MessageSquare",
            "Calendar",
            "Users",
            "FileText",
            "Activity",
            "Settings",
            "Briefcase",
            "Menu",
            "X",
            "ChevronRight",
            "Bug",
            "Database",
            "Search",
            "Heart",
            "DollarSign",
            "Target",
            "TrendingUp",
            "Library",
            "LogOut",
            "Network",
            "Brain"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/WorkspaceSwitcher",
          "names": [
            "WorkspaceSwitcher"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/hooks/useSidebarChat",
          "names": [
            "useSidebarChat"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/GlobalSearch",
          "names": [
            "GlobalSearch"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/KeyboardShortcuts",
          "names": [
            "KeyboardShortcuts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ThemeToggle",
          "names": [
            "ThemeToggle"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/SidebarChat.tsx",
      "name": "SidebarChat.tsx",
      "extension": ".tsx",
      "lines": 331,
      "size": 10051,
      "type": "component",
      "exports": [
        {
          "name": "SidebarChat",
          "kind": "component",
          "line": 41,
          "isDefault": false,
          "params": "({ \n  isOpen, \n  isCollapsed, \n  sidebarWidth,\n  onClose, \n  onToggleCollapse,\n  onResize,\n  contextType, \n  contextId \n}: SidebarChatProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect",
            "useRef"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "usePathname"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "X",
            "MessageSquare",
            "ChevronRight",
            "ChevronLeft",
            "GripVertical"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./ChatCapture",
          "names": [
            "ChatCapture"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/SidebarChatAutoOpen.tsx",
      "name": "SidebarChatAutoOpen.tsx",
      "extension": ".tsx",
      "lines": 72,
      "size": 2746,
      "type": "component",
      "exports": [
        {
          "name": "SidebarChatAutoOpen",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "usePathname"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/hooks/useSidebarChat",
          "names": [
            "useSidebarChat"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/SidebarChatContainer.tsx",
      "name": "SidebarChatContainer.tsx",
      "extension": ".tsx",
      "lines": 31,
      "size": 846,
      "type": "component",
      "exports": [
        {
          "name": "SidebarChatContainer",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "@/hooks/useSidebarChat",
          "names": [
            "useSidebarChat"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./SidebarChat",
          "names": [
            "SidebarChat"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./SidebarChatAutoOpen",
          "names": [
            "SidebarChatAutoOpen"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/STTMetricsClient.tsx",
      "name": "STTMetricsClient.tsx",
      "extension": ".tsx",
      "lines": 339,
      "size": 12394,
      "type": "component",
      "exports": [
        {
          "name": "STTMetricsClient",
          "kind": "component",
          "line": 32,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "RefreshCw",
            "Trash2",
            "TrendingUp",
            "TrendingDown",
            "AlertCircle",
            "CheckCircle",
            "Play"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ThemeProvider.tsx",
      "name": "ThemeProvider.tsx",
      "extension": ".tsx",
      "lines": 106,
      "size": 2821,
      "type": "component",
      "exports": [
        {
          "name": "ThemeProvider",
          "kind": "component",
          "line": 27,
          "isDefault": false,
          "params": "({\r\n  children,\r\n  defaultTheme = \"system\",\r\n  storageKey = \"pillar-theme\",\r\n  ...props\r\n}: ThemeProviderProps)"
        },
        {
          "name": "useTheme",
          "kind": "hook",
          "line": 99,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "createContext",
            "useContext",
            "useEffect",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ThemeToggle.tsx",
      "name": "ThemeToggle.tsx",
      "extension": ".tsx",
      "lines": 48,
      "size": 1611,
      "type": "component",
      "exports": [
        {
          "name": "ThemeToggle",
          "kind": "component",
          "line": 13,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "Moon",
            "Sun",
            "Monitor"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dropdown-menu",
          "names": [
            "DropdownMenu",
            "DropdownMenuContent",
            "DropdownMenuItem",
            "DropdownMenuTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ThemeProvider",
          "names": [
            "useTheme"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/TimelineClient.tsx",
      "name": "TimelineClient.tsx",
      "extension": ".tsx",
      "lines": 507,
      "size": 20212,
      "type": "component",
      "exports": [
        {
          "name": "TimelineClient",
          "kind": "component",
          "line": 23,
          "isDefault": false,
          "params": "({ events: initialEvents, allEventsForSidebar }: TimelineClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useRef",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "date-fns",
          "names": [
            "format",
            "isSameYear",
            "isSameMonth",
            "startOfMonth",
            "startOfYear"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/TimelineFilters.tsx",
      "name": "TimelineFilters.tsx",
      "extension": ".tsx",
      "lines": 160,
      "size": 5555,
      "type": "component",
      "exports": [
        {
          "name": "TimelineFilters",
          "kind": "component",
          "line": 13,
          "isDefault": false,
          "params": "({\r\n  uniquePillars,\r\n  uniqueEventTypes,\r\n  uniqueYears,\r\n  uniqueMonths,\r\n}: TimelineFiltersProps)"
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useSearchParams"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/ui/animated-counter.tsx",
      "name": "animated-counter.tsx",
      "extension": ".tsx",
      "lines": 105,
      "size": 2477,
      "type": "component",
      "exports": [
        {
          "name": "AnimatedCounter",
          "kind": "component",
          "line": 18,
          "isDefault": false,
          "params": "({\n  value,\n  duration = 1000,\n  className,\n  prefix = \"\",\n  suffix = \"\",\n  formatter = (v)"
        },
        {
          "name": "AnimatedCurrency",
          "kind": "component",
          "line": 75,
          "isDefault": false,
          "params": "({\n  value,\n  duration = 1000,\n  className,\n  abbreviate = false,\n}: {\n  value: number;\n  duration?: number;\n  className?: string;\n  abbreviate?: boolean;\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useRef",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/badge.tsx",
      "name": "badge.tsx",
      "extension": ".tsx",
      "lines": 37,
      "size": 1164,
      "type": "component",
      "exports": [
        {
          "name": "BadgeProps",
          "kind": "type",
          "line": 26,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "class-variance-authority",
          "names": [
            "cva",
            "type VariantProps"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/button.tsx",
      "name": "button.tsx",
      "extension": ".tsx",
      "lines": 58,
      "size": 1914,
      "type": "component",
      "exports": [
        {
          "name": "ButtonProps",
          "kind": "type",
          "line": 36,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@radix-ui/react-slot",
          "names": [
            "Slot"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "class-variance-authority",
          "names": [
            "cva",
            "type VariantProps"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/card.tsx",
      "name": "card.tsx",
      "extension": ".tsx",
      "lines": 82,
      "size": 1992,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/checkbox.tsx",
      "name": "checkbox.tsx",
      "extension": ".tsx",
      "lines": 31,
      "size": 1100,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "Check"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/command.tsx",
      "name": "command.tsx",
      "extension": ".tsx",
      "lines": 156,
      "size": 5048,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "@radix-ui/react-dialog",
          "names": [
            "type DialogProps"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "cmdk",
          "names": [
            "Command"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Search"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dialog",
          "names": [
            "Dialog",
            "DialogContent"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/dialog.tsx",
      "name": "dialog.tsx",
      "extension": ".tsx",
      "lines": 123,
      "size": 3970,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/dropdown-menu.tsx",
      "name": "dropdown-menu.tsx",
      "extension": ".tsx",
      "lines": 209,
      "size": 7938,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "Check",
            "ChevronRight",
            "Circle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/empty-state.tsx",
      "name": "empty-state.tsx",
      "extension": ".tsx",
      "lines": 164,
      "size": 3827,
      "type": "component",
      "exports": [
        {
          "name": "EmptyState",
          "kind": "component",
          "line": 90,
          "isDefault": false,
          "params": "({\n  variant = \"generic\",\n  title,\n  description,\n  action,\n  className,\n}: EmptyStateProps)"
        },
        {
          "name": "EmptyStateCompact",
          "kind": "component",
          "line": 141,
          "isDefault": false,
          "params": "({\n  icon,\n  message,\n  className,\n}: {\n  icon?: React.ReactNode;\n  message: string;\n  className?: string;\n})"
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "CheckCircle2",
            "Inbox",
            "FileText",
            "Users",
            "Building2",
            "Briefcase",
            "Calendar",
            "Search",
            "Plus"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/input.tsx",
      "name": "input.tsx",
      "extension": ".tsx",
      "lines": 28,
      "size": 859,
      "type": "component",
      "exports": [
        {
          "name": "InputProps",
          "kind": "type",
          "line": 5,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/label.tsx",
      "name": "label.tsx",
      "extension": ".tsx",
      "lines": 27,
      "size": 746,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "class-variance-authority",
          "names": [
            "cva",
            "type VariantProps"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/popover.tsx",
      "name": "popover.tsx",
      "extension": ".tsx",
      "lines": 32,
      "size": 1275,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/progress.tsx",
      "name": "progress.tsx",
      "extension": ".tsx",
      "lines": 29,
      "size": 819,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/select.tsx",
      "name": "select.tsx",
      "extension": ".tsx",
      "lines": 161,
      "size": 5789,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "Check",
            "ChevronDown",
            "ChevronUp"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/sheet.tsx",
      "name": "sheet.tsx",
      "extension": ".tsx",
      "lines": 141,
      "size": 4421,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "class-variance-authority",
          "names": [
            "cva",
            "type VariantProps"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/skeleton.tsx",
      "name": "skeleton.tsx",
      "extension": ".tsx",
      "lines": 16,
      "size": 279,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/switch.tsx",
      "name": "switch.tsx",
      "extension": ".tsx",
      "lines": 29,
      "size": 1187,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/tabs.tsx",
      "name": "tabs.tsx",
      "extension": ".tsx",
      "lines": 56,
      "size": 1952,
      "type": "component",
      "exports": [],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/ui/textarea.tsx",
      "name": "textarea.tsx",
      "extension": ".tsx",
      "lines": 27,
      "size": 806,
      "type": "component",
      "exports": [
        {
          "name": "TextareaProps",
          "kind": "type",
          "line": 5,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/VoiceRecorder.tsx",
      "name": "VoiceRecorder.tsx",
      "extension": ".tsx",
      "lines": 261,
      "size": 8461,
      "type": "component",
      "exports": [
        {
          "name": "VoiceRecorder",
          "kind": "component",
          "line": 13,
          "isDefault": false,
          "params": "({ onRecordingComplete, onCancel }: VoiceRecorderProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Mic",
            "MicOff",
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/ActionSuggestions.tsx",
      "name": "ActionSuggestions.tsx",
      "extension": ".tsx",
      "lines": 85,
      "size": 2682,
      "type": "component",
      "exports": [
        {
          "name": "ActionSuggestions",
          "kind": "component",
          "line": 13,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Lightbulb",
            "Check",
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/ActivityFeed.tsx",
      "name": "ActivityFeed.tsx",
      "extension": ".tsx",
      "lines": 97,
      "size": 3627,
      "type": "component",
      "exports": [
        {
          "name": "ActivityFeed",
          "kind": "component",
          "line": 41,
          "isDefault": false,
          "params": "(props: { limit?: number })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Phone",
            "Calendar",
            "MessageSquare",
            "CheckCircle2",
            "Clock",
            "DollarSign",
            "FileText"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/AdvancedFilters.tsx",
      "name": "AdvancedFilters.tsx",
      "extension": ".tsx",
      "lines": 411,
      "size": 14131,
      "type": "component",
      "exports": [
        {
          "name": "AdvancedFilters",
          "kind": "component",
          "line": 140,
          "isDefault": false,
          "params": "({ entityType, fields: propFields, className }: AdvancedFiltersProps)"
        },
        {
          "name": "QuickSearch",
          "kind": "component",
          "line": 381,
          "isDefault": false,
          "params": "({ placeholder = \"Search...\", className }: { placeholder?: string; className?: string })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter",
            "useSearchParams",
            "usePathname"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Filter",
            "X",
            "Plus",
            "ChevronDown",
            "Search"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/popover",
          "names": [
            "Popover",
            "PopoverContent",
            "PopoverTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/select",
          "names": [
            "Select",
            "SelectContent",
            "SelectItem",
            "SelectTrigger",
            "SelectValue"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/work/BuyerHistoryPanel.tsx",
      "name": "BuyerHistoryPanel.tsx",
      "extension": ".tsx",
      "lines": 131,
      "size": 4389,
      "type": "component",
      "exports": [
        {
          "name": "BuyerHistoryPanel",
          "kind": "component",
          "line": 49,
          "isDefault": false,
          "params": "(props: {\n  buyerName: string;\n  buyerType: \"person\" | \"company\";\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Clock",
            "Phone",
            "MessageSquare",
            "Calendar",
            "ExternalLink"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/CaptureReviewCard.tsx",
      "name": "CaptureReviewCard.tsx",
      "extension": ".tsx",
      "lines": 589,
      "size": 18753,
      "type": "hook",
      "exports": [
        {
          "name": "CaptureReviewCard",
          "kind": "component",
          "line": 170,
          "isDefault": false,
          "params": "({\n  changes,\n  autoApplied = false,\n  threadId,\n  inputText,\n  onEdit,\n  onUndo,\n  onFeedback,\n  className,\n  confidence,\n  warnings,\n}: CaptureReviewCardProps)"
        },
        {
          "name": "useCaptureToast",
          "kind": "hook",
          "line": 436,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "CapturedChange",
          "kind": "type",
          "line": 12,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Check",
            "Edit2",
            "X",
            "ChevronDown",
            "ChevronUp",
            "ExternalLink",
            "ThumbsUp",
            "ThumbsDown",
            "MessageSquare"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/textarea",
          "names": [
            "Textarea"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/ClarificationCard.tsx",
      "name": "ClarificationCard.tsx",
      "extension": ".tsx",
      "lines": 246,
      "size": 7738,
      "type": "component",
      "exports": [
        {
          "name": "ClarificationCard",
          "kind": "component",
          "line": 120,
          "isDefault": false,
          "params": "({ prompt, onSelect, onCancel }: ClarificationCardProps)"
        },
        {
          "name": "InlineClarification",
          "kind": "component",
          "line": 200,
          "isDefault": false,
          "params": "({ \n  prompt, \n  onSelect \n}: { \n  prompt: ClarificationPrompt; \n  onSelect: (entityId: string | null)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "User",
            "Building",
            "Briefcase",
            "Home",
            "Plus",
            "Check",
            "HelpCircle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/ContactsSearchWithInterests.tsx",
      "name": "ContactsSearchWithInterests.tsx",
      "extension": ".tsx",
      "lines": 316,
      "size": 11456,
      "type": "component",
      "exports": [
        {
          "name": "ContactsSearchWithInterests",
          "kind": "component",
          "line": 63,
          "isDefault": false,
          "params": "({ contacts, className }: ContactsSearchWithInterestsProps)"
        },
        {
          "name": "Contact",
          "kind": "type",
          "line": 21,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useMemo"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Search",
            "Filter",
            "X",
            "Users",
            "Tag",
            "Building",
            "MapPin",
            "ChevronDown"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dropdown-menu",
          "names": [
            "DropdownMenu",
            "DropdownMenuContent",
            "DropdownMenuTrigger",
            "DropdownMenuCheckboxItem",
            "DropdownMenuSeparator",
            "DropdownMenuLabel"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./QuickCallButton",
          "names": [
            "QuickCallButton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/work/ConversationTimeline.tsx",
      "name": "ConversationTimeline.tsx",
      "extension": ".tsx",
      "lines": 416,
      "size": 15074,
      "type": "component",
      "exports": [
        {
          "name": "ConversationTimeline",
          "kind": "component",
          "line": 378,
          "isDefault": false,
          "params": "({ events: allEvents }: { events: TimelineEvent[] })"
        },
        {
          "name": "TimelineEvent",
          "kind": "type",
          "line": 22,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Mail",
            "Phone",
            "Calendar",
            "MessageSquare",
            "CheckCircle2",
            "Clock",
            "FileText",
            "Paperclip",
            "ChevronDown",
            "ChevronRight"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/DealTimeline.tsx",
      "name": "DealTimeline.tsx",
      "extension": ".tsx",
      "lines": 183,
      "size": 5372,
      "type": "component",
      "exports": [
        {
          "name": "DealTimeline",
          "kind": "component",
          "line": 137,
          "isDefault": false,
          "params": "({ events, maxVisible = 5, className }: DealTimelineProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Phone",
            "Calendar",
            "FileText",
            "CheckCircle2",
            "MessageSquare",
            "Mail",
            "Clock",
            "ChevronDown",
            "ChevronUp",
            "User",
            "Building"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatDate",
            "formatRelativeDate"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/DealTimelineView.tsx",
      "name": "DealTimelineView.tsx",
      "extension": ".tsx",
      "lines": 380,
      "size": 13685,
      "type": "component",
      "exports": [
        {
          "name": "DealTimelineView",
          "kind": "component",
          "line": 95,
          "isDefault": false,
          "params": "({ deal, events = [], tasks = [] }: DealTimelineViewProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Calendar",
            "Flag",
            "FileText",
            "CheckCircle2",
            "Clock",
            "AlertTriangle",
            "DollarSign",
            "Building",
            "User",
            "ArrowRight",
            "Milestone",
            "Phone"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/EntityIntelligencePanel.tsx",
      "name": "EntityIntelligencePanel.tsx",
      "extension": ".tsx",
      "lines": 163,
      "size": 5697,
      "type": "component",
      "exports": [
        {
          "name": "EntityIntelligencePanel",
          "kind": "component",
          "line": 30,
          "isDefault": false,
          "params": "({\r\n  entityId,\r\n  entityName,\r\n  entityType,\r\n}: EntityIntelligencePanelProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/intelligence/IntroductionChain",
          "names": [
            "IntroductionChain",
            "useIntroductionChain"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/intelligence/ReferralTracker",
          "names": [
            "ReferralTracker",
            "useReferralTracker"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/ExtractionFeedback.tsx",
      "name": "ExtractionFeedback.tsx",
      "extension": ".tsx",
      "lines": 207,
      "size": 5277,
      "type": "component",
      "exports": [
        {
          "name": "ExtractionFeedback",
          "kind": "component",
          "line": 20,
          "isDefault": false,
          "params": "({ \n  auditId, \n  onFeedback, \n  onEdit,\n  compact = false \n}: ExtractionFeedbackProps)"
        },
        {
          "name": "ExtractionError",
          "kind": "component",
          "line": 151,
          "isDefault": false,
          "params": "({\n  error,\n  onRetry,\n  onDismiss,\n}: {\n  error: string;\n  onRetry?: ()"
        },
        {
          "name": "ExtractionLoading",
          "kind": "component",
          "line": 199,
          "isDefault": false,
          "params": "({ message = \"Processing your capture...\" }: { message?: string })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "ThumbsUp",
            "ThumbsDown",
            "Pencil",
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/production-telemetry",
          "names": [
            "logUserFeedback"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "sonner",
          "names": [
            "toast"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/GlobalSearch.tsx",
      "name": "GlobalSearch.tsx",
      "extension": ".tsx",
      "lines": 423,
      "size": 11893,
      "type": "component",
      "exports": [
        {
          "name": "GlobalSearch",
          "kind": "component",
          "line": 161,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "GlobalSearchProvider",
          "kind": "component",
          "line": 415,
          "isDefault": false,
          "params": "({ children }: { children: React.ReactNode })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect",
            "useCallback",
            "useMemo"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/command",
          "names": [
            "Command",
            "CommandDialog",
            "CommandEmpty",
            "CommandGroup",
            "CommandInput",
            "CommandItem",
            "CommandList",
            "CommandSeparator"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "User",
            "Building",
            "Briefcase",
            "Home",
            "CheckCircle2",
            "Calendar",
            "Search",
            "Plus",
            "Settings",
            "LayoutDashboard",
            "Kanban",
            "History",
            "MessageSquare"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/InlineDateField.tsx",
      "name": "InlineDateField.tsx",
      "extension": ".tsx",
      "lines": 150,
      "size": 4036,
      "type": "component",
      "exports": [
        {
          "name": "InlineDateField",
          "kind": "component",
          "line": 50,
          "isDefault": false,
          "params": "({\r\n  value,\r\n  onSave,\r\n  className,\r\n  inputClassName,\r\n  placeholder,\r\n  emptyValueDisplay = \"\",\r\n  readOnly = false,\r\n  includeTime = false,\r\n}: InlineDateFieldProps)"
        }
      ],
      "imports": [
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Calendar"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/InlineEditableField.tsx",
      "name": "InlineEditableField.tsx",
      "extension": ".tsx",
      "lines": 184,
      "size": 4533,
      "type": "component",
      "exports": [
        {
          "name": "InlineEditableField",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "({\n  value,\n  onSave,\n  type = \"text\",\n  placeholder = \"\",\n  className,\n  displayFormat,\n}: InlineEditableFieldProps)"
        },
        {
          "name": "InlineEditableCurrency",
          "kind": "component",
          "line": 133,
          "isDefault": false,
          "params": "({\n  value,\n  onSave,\n  className,\n}: {\n  value: number | null | undefined;\n  onSave: (value: number)"
        },
        {
          "name": "InlineEditableDate",
          "kind": "component",
          "line": 163,
          "isDefault": false,
          "params": "({\n  value,\n  onSave,\n  className,\n}: {\n  value: string | null | undefined;\n  onSave: (value: string)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Check",
            "X",
            "Pencil"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT"
      ]
    },
    {
      "path": "apps/web/src/components/work/InlineSelectField.tsx",
      "name": "InlineSelectField.tsx",
      "extension": ".tsx",
      "lines": 94,
      "size": 2480,
      "type": "component",
      "exports": [
        {
          "name": "InlineSelectField",
          "kind": "component",
          "line": 29,
          "isDefault": false,
          "params": "({\r\n  value,\r\n  options,\r\n  onSave,\r\n  className,\r\n  placeholder = \"Select...\",\r\n  emptyValueDisplay = \"\",\r\n  readOnly = false,\r\n  allowClear = true,\r\n}: InlineSelectFieldProps)"
        }
      ],
      "imports": [
        {
          "source": "@/components/ui/select",
          "names": [
            "Select",
            "SelectContent",
            "SelectItem",
            "SelectTrigger",
            "SelectValue"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/InterestsSearch.tsx",
      "name": "InterestsSearch.tsx",
      "extension": ".tsx",
      "lines": 58,
      "size": 1872,
      "type": "component",
      "exports": [
        {
          "name": "InterestsSearch",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "({ currentFilter }: { currentFilter?: string })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter",
            "useSearchParams"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Search",
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/work/KeyboardShortcuts.tsx",
      "name": "KeyboardShortcuts.tsx",
      "extension": ".tsx",
      "lines": 250,
      "size": 7470,
      "type": "hook",
      "exports": [
        {
          "name": "KeyboardShortcuts",
          "kind": "component",
          "line": 21,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "useKeyboardShortcuts",
          "kind": "hook",
          "line": 231,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/dialog",
          "names": [
            "Dialog",
            "DialogContent",
            "DialogHeader",
            "DialogTitle"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/knowledge/ContextBriefCard.tsx",
      "name": "ContextBriefCard.tsx",
      "extension": ".tsx",
      "lines": 264,
      "size": 9017,
      "type": "component",
      "exports": [
        {
          "name": "ContextBriefCard",
          "kind": "component",
          "line": 69,
          "isDefault": false,
          "params": "({\n  entityId,\n  entityType,\n  entityName,\n  contextType = \"general\",\n  className,\n  defaultExpanded = true,\n}: ContextBriefCardProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useRef",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/skeleton",
          "names": [
            "Skeleton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "ChevronDown",
            "ChevronUp",
            "RefreshCw",
            "Sparkles",
            "Brain",
            "Heart",
            "Briefcase",
            "Users",
            "AlertCircle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/knowledge/EntityOpinionSummary.tsx",
      "name": "EntityOpinionSummary.tsx",
      "extension": ".tsx",
      "lines": 406,
      "size": 15317,
      "type": "component",
      "exports": [
        {
          "name": "EntityOpinionSummary",
          "kind": "component",
          "line": 145,
          "isDefault": false,
          "params": "({\n  entityId,\n  entityName,\n  className,\n  defaultExpanded = true,\n}: EntityOpinionSummaryProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useRef",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Users",
            "TrendingUp",
            "TrendingDown",
            "Minus",
            "AlertTriangle",
            "MessageSquare",
            "ThumbsUp",
            "ThumbsDown",
            "Loader2",
            "ChevronDown",
            "ChevronUp"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/work/knowledge/EntitySentimentBadge.tsx",
      "name": "EntitySentimentBadge.tsx",
      "extension": ".tsx",
      "lines": 232,
      "size": 7148,
      "type": "component",
      "exports": [
        {
          "name": "EntitySentimentBadge",
          "kind": "component",
          "line": 103,
          "isDefault": false,
          "params": "({\n  entityId,\n  entityType,\n  className,\n  showOnlyIfData = true,\n}: EntitySentimentBadgeProps)"
        },
        {
          "name": "EntitySentimentDot",
          "kind": "component",
          "line": 186,
          "isDefault": false,
          "params": "({\n  entityId,\n  entityType,\n  className,\n}: Omit<EntitySentimentBadgeProps, \"showOnlyIfData\">)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState",
            "useRef"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "TrendingUp",
            "TrendingDown",
            "Minus",
            "Users",
            "AlertTriangle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/work/knowledge/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 5,
      "size": 272,
      "type": "component",
      "exports": [],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/knowledge/SoftRelationshipsDisplay.tsx",
      "name": "SoftRelationshipsDisplay.tsx",
      "extension": ".tsx",
      "lines": 260,
      "size": 8563,
      "type": "component",
      "exports": [
        {
          "name": "SoftRelationshipsDisplay",
          "kind": "component",
          "line": 127,
          "isDefault": false,
          "params": "({\n  entityId,\n  entityName,\n  className,\n  showUnresolved = true,\n}: SoftRelationshipsDisplayProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/skeleton",
          "names": [
            "Skeleton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Users",
            "Heart",
            "Briefcase",
            "Building",
            "User",
            "Link2",
            "ChevronRight",
            "AlertCircle",
            "CheckCircle2",
            "HelpCircle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/LenderComparisonTable.tsx",
      "name": "LenderComparisonTable.tsx",
      "extension": ".tsx",
      "lines": 111,
      "size": 5233,
      "type": "component",
      "exports": [
        {
          "name": "LenderComparisonTable",
          "kind": "component",
          "line": 21,
          "isDefault": false,
          "params": "({ dealName, dealId }: { dealName: string; dealId?: string })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/ListingBuyerBulkImport.tsx",
      "name": "ListingBuyerBulkImport.tsx",
      "extension": ".tsx",
      "lines": 169,
      "size": 5578,
      "type": "component",
      "exports": [
        {
          "name": "ListingBuyerBulkImport",
          "kind": "component",
          "line": 35,
          "isDefault": false,
          "params": "(props: {\n  listingId: string;\n  listingName: string;\n  dealId?: string | null;\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/textarea",
          "names": [
            "Textarea"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/ListingBuyerQuickAdd.tsx",
      "name": "ListingBuyerQuickAdd.tsx",
      "extension": ".tsx",
      "lines": 120,
      "size": 4473,
      "type": "component",
      "exports": [
        {
          "name": "ListingBuyerQuickAdd",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "(props: { listingId: string; listingName: string; dealId?: string | null })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/LocationCaptureButton.tsx",
      "name": "LocationCaptureButton.tsx",
      "extension": ".tsx",
      "lines": 98,
      "size": 2543,
      "type": "component",
      "exports": [
        {
          "name": "LocationCaptureButton",
          "kind": "component",
          "line": 18,
          "isDefault": false,
          "params": "({\n  onLocationCaptured,\n  onLocationCleared,\n  currentLocation,\n  className,\n  variant = \"outline\",\n  size = \"sm\",\n}: LocationCaptureButtonProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "MapPin",
            "Loader2",
            "Check",
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/hooks/useGeolocation",
          "names": [
            "useGeolocation",
            "GeolocationData"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/LocationIndicator.tsx",
      "name": "LocationIndicator.tsx",
      "extension": ".tsx",
      "lines": 100,
      "size": 2775,
      "type": "component",
      "exports": [
        {
          "name": "LocationIndicator",
          "kind": "component",
          "line": 25,
          "isDefault": false,
          "params": "({ \n  location, \n  loading,\n  compact = false, \n  className,\n  showMapLink = true,\n}: LocationIndicatorProps)"
        },
        {
          "name": "LocationBadge",
          "kind": "component",
          "line": 97,
          "isDefault": false,
          "params": "({ location, className }: { location: LocationData | null | undefined; className?: string })"
        }
      ],
      "imports": [
        {
          "source": "lucide-react",
          "names": [
            "MapPin",
            "ExternalLink",
            "Loader2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/LocationMapPreview.tsx",
      "name": "LocationMapPreview.tsx",
      "extension": ".tsx",
      "lines": 190,
      "size": 6633,
      "type": "component",
      "exports": [
        {
          "name": "LocationMapPreview",
          "kind": "component",
          "line": 29,
          "isDefault": false,
          "params": "({ location, className, size = \"md\" }: LocationMapPreviewProps)"
        },
        {
          "name": "LocationMapBadge",
          "kind": "component",
          "line": 160,
          "isDefault": false,
          "params": "({ location, className }: { location: LocationData; className?: string })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "MapPin",
            "Maximize2",
            "ExternalLink",
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dialog",
          "names": [
            "Dialog",
            "DialogContent",
            "DialogHeader",
            "DialogTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/MobileBottomNav.tsx",
      "name": "MobileBottomNav.tsx",
      "extension": ".tsx",
      "lines": 99,
      "size": 3942,
      "type": "component",
      "exports": [
        {
          "name": "MobileBottomNav",
          "kind": "component",
          "line": 17,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/navigation",
          "names": [
            "usePathname"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Calendar",
            "LayoutGrid",
            "CheckSquare",
            "MessageSquare",
            "Mic"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./VoiceCaptureModal",
          "names": [
            "VoiceCaptureModal"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/MobileHeader.tsx",
      "name": "MobileHeader.tsx",
      "extension": ".tsx",
      "lines": 200,
      "size": 6728,
      "type": "component",
      "exports": [
        {
          "name": "MobileHeader",
          "kind": "component",
          "line": 66,
          "isDefault": false,
          "params": "({ title, showBackButton, backHref, actions }: MobileHeaderProps)"
        },
        {
          "name": "SwipeNavigation",
          "kind": "component",
          "line": 165,
          "isDefault": false,
          "params": "({ children }: { children: React.ReactNode })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "usePathname"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Menu",
            "X",
            "Home",
            "Calendar",
            "CheckSquare",
            "User",
            "Building",
            "Briefcase",
            "Activity",
            "Settings",
            "BarChart3",
            "Mic",
            "ChevronRight",
            "LogOut"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/sheet",
          "names": [
            "Sheet",
            "SheetContent",
            "SheetHeader",
            "SheetTitle",
            "SheetTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/MobileTouchList.tsx",
      "name": "MobileTouchList.tsx",
      "extension": ".tsx",
      "lines": 297,
      "size": 8400,
      "type": "component",
      "exports": [
        {
          "name": "MobileTouchListItem",
          "kind": "component",
          "line": 31,
          "isDefault": false,
          "params": "({\n  children,\n  href,\n  leftActions = [],\n  rightActions = [],\n  onTap,\n  className,\n}: MobileTouchListItemProps)"
        },
        {
          "name": "TaskListItem",
          "kind": "component",
          "line": 216,
          "isDefault": false,
          "params": "({\n  task,\n  onComplete,\n  onReschedule,\n  onDelete,\n}: {\n  task: {\n    id: string;\n    title: string;\n    dueAt?: string | null;\n    status?: string;\n  };\n  onComplete?: (id: string)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Check",
            "Trash2",
            "Clock",
            "ChevronRight"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/NotificationPrompt.tsx",
      "name": "NotificationPrompt.tsx",
      "extension": ".tsx",
      "lines": 86,
      "size": 2831,
      "type": "component",
      "exports": [
        {
          "name": "NotificationPrompt",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/notifications/client",
          "names": [
            "getPushStatus",
            "subscribeToPush"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/OfflineIndicator.tsx",
      "name": "OfflineIndicator.tsx",
      "extension": ".tsx",
      "lines": 22,
      "size": 663,
      "type": "component",
      "exports": [
        {
          "name": "OfflineIndicator",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "@/lib/offline/queue",
          "names": [
            "useOnlineStatus"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "WifiOff"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/PhotoAttachment.tsx",
      "name": "PhotoAttachment.tsx",
      "extension": ".tsx",
      "lines": 250,
      "size": 8015,
      "type": "component",
      "exports": [
        {
          "name": "PhotoAttachment",
          "kind": "component",
          "line": 29,
          "isDefault": false,
          "params": "({\r\n  photos,\r\n  onPhotosChange,\r\n  readOnly = false,\r\n  maxPhotos = 5,\r\n  className,\r\n}: PhotoAttachmentProps)"
        },
        {
          "name": "PhotoIndicator",
          "kind": "component",
          "line": 227,
          "isDefault": false,
          "params": "({ count, onClick }: { count: number; onClick?: ()"
        },
        {
          "name": "PhotoData",
          "kind": "type",
          "line": 9,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Camera",
            "Image",
            "X",
            "Loader2",
            "ZoomIn",
            "Trash2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dialog",
          "names": [
            "Dialog",
            "DialogContent",
            "DialogHeader",
            "DialogTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/PipelineBoard.tsx",
      "name": "PipelineBoard.tsx",
      "extension": ".tsx",
      "lines": 253,
      "size": 8740,
      "type": "component",
      "exports": [
        {
          "name": "PipelineBoard",
          "kind": "component",
          "line": 100,
          "isDefault": false,
          "params": "({ stageOptions, dealsByStage: initialDealsByStage, supplementalByDealId }: PipelineBoardProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/PipelineChart.tsx",
      "name": "PipelineChart.tsx",
      "extension": ".tsx",
      "lines": 235,
      "size": 8458,
      "type": "component",
      "exports": [
        {
          "name": "PipelineChart",
          "kind": "component",
          "line": 60,
          "isDefault": false,
          "params": "({ stages, className, variant = \"bars\" }: PipelineChartProps)"
        },
        {
          "name": "PipelineMiniChart",
          "kind": "component",
          "line": 186,
          "isDefault": false,
          "params": "({\n  stages,\n  className,\n}: {\n  stages: PipelineStage[];\n  className?: string;\n})"
        },
        {
          "name": "PipelineStage",
          "kind": "type",
          "line": 19,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "TrendingUp"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatCurrency",
            "getStageInfo"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "recharts",
          "names": [
            "BarChart",
            "Bar",
            "XAxis",
            "YAxis",
            "Tooltip",
            "ResponsiveContainer",
            "Cell"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/animated-counter",
          "names": [
            "AnimatedCurrency"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/PullToRefresh.tsx",
      "name": "PullToRefresh.tsx",
      "extension": ".tsx",
      "lines": 151,
      "size": 4233,
      "type": "component",
      "exports": [
        {
          "name": "PullToRefresh",
          "kind": "component",
          "line": 15,
          "isDefault": false,
          "params": "({\n  children,\n  onRefresh,\n  threshold = 80,\n  className,\n}: PullToRefreshProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Loader2",
            "ArrowDown"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/QueryResultsCard.tsx",
      "name": "QueryResultsCard.tsx",
      "extension": ".tsx",
      "lines": 246,
      "size": 7529,
      "type": "component",
      "exports": [
        {
          "name": "QueryResultsCard",
          "kind": "component",
          "line": 167,
          "isDefault": false,
          "params": "({ result, onFollowUp, className }: QueryResultsCardProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "User",
            "Building2",
            "Briefcase",
            "CheckSquare",
            "FileText",
            "ChevronDown",
            "ChevronUp",
            "ExternalLink",
            "DollarSign",
            "Calendar",
            "MapPin"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatCurrency",
            "formatRelativeDate",
            "getHumanReadableLabel"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/QuickCallButton.tsx",
      "name": "QuickCallButton.tsx",
      "extension": ".tsx",
      "lines": 164,
      "size": 5162,
      "type": "component",
      "exports": [
        {
          "name": "QuickCallButton",
          "kind": "component",
          "line": 20,
          "isDefault": false,
          "params": "({ \n  contactId, \n  contactName, \n  dealId, \n  dealName,\n  className,\n  variant = \"ghost\",\n  size = \"icon\",\n}: QuickCallButtonProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Phone",
            "X",
            "Send",
            "Loader2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dialog",
          "names": [
            "Dialog",
            "DialogContent",
            "DialogHeader",
            "DialogTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/textarea",
          "names": [
            "Textarea"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/QuickCapturePanel.tsx",
      "name": "QuickCapturePanel.tsx",
      "extension": ".tsx",
      "lines": 451,
      "size": 13625,
      "type": "component",
      "exports": [
        {
          "name": "QuickCapturePanel",
          "kind": "component",
          "line": 65,
          "isDefault": false,
          "params": "({ variant = \"grid\", className }: QuickCapturePanelProps)"
        },
        {
          "name": "QuickCaptureFAB",
          "kind": "component",
          "line": 391,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Plus",
            "User",
            "Building",
            "Briefcase",
            "CheckCircle2",
            "Mic",
            "X",
            "Loader2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dialog",
          "names": [
            "Dialog",
            "DialogContent",
            "DialogHeader",
            "DialogTitle",
            "DialogTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/select",
          "names": [
            "Select",
            "SelectContent",
            "SelectItem",
            "SelectTrigger",
            "SelectValue"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/QuickTaskFAB.tsx",
      "name": "QuickTaskFAB.tsx",
      "extension": ".tsx",
      "lines": 170,
      "size": 5645,
      "type": "component",
      "exports": [
        {
          "name": "QuickTaskFAB",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Plus",
            "X",
            "Check",
            "Loader2",
            "CheckCircle2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "sonner",
          "names": [
            "toast"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/SessionActivityTray.tsx",
      "name": "SessionActivityTray.tsx",
      "extension": ".tsx",
      "lines": 516,
      "size": 17834,
      "type": "hook",
      "exports": [
        {
          "name": "SessionActivityTray",
          "kind": "component",
          "line": 317,
          "isDefault": false,
          "params": "({\r\n  groups,\r\n  onUndoChange,\r\n  onFixName,\r\n  onMarkDuplicate,\r\n  onEditChange,\r\n  className,\r\n}: SessionActivityTrayProps)"
        },
        {
          "name": "useSessionChanges",
          "kind": "hook",
          "line": 444,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "SessionChange",
          "kind": "type",
          "line": 39,
          "isDefault": false
        },
        {
          "name": "ChangeGroup",
          "kind": "type",
          "line": 55,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useCallback",
            "useRef",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "ChevronRight",
            "ChevronDown",
            "MoreHorizontal",
            "ExternalLink",
            "Pencil",
            "Undo2",
            "Copy",
            "Merge",
            "Check",
            "User",
            "Building2",
            "DollarSign",
            "Home",
            "Landmark",
            "Calendar",
            "Phone",
            "FileText",
            "CheckSquare",
            "Mail",
            "Activity",
            "Clock",
            "Plus",
            "ArrowRight",
            "Minus",
            "Mic",
            "MessageSquare"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/StaleContactsAlert.tsx",
      "name": "StaleContactsAlert.tsx",
      "extension": ".tsx",
      "lines": 114,
      "size": 4178,
      "type": "component",
      "exports": [
        {
          "name": "StaleContactsAlert",
          "kind": "component",
          "line": 34,
          "isDefault": false,
          "params": "({ contacts, maxVisible = 5, className }: StaleContactsAlertProps)"
        },
        {
          "name": "StaleContact",
          "kind": "type",
          "line": 12,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "AlertCircle",
            "Phone",
            "ChevronRight",
            "Users"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatRelativeDate"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./QuickCallButton",
          "names": [
            "QuickCallButton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/TargetContactsWidget.tsx",
      "name": "TargetContactsWidget.tsx",
      "extension": ".tsx",
      "lines": 198,
      "size": 7115,
      "type": "component",
      "exports": [
        {
          "name": "TargetContactsWidget",
          "kind": "component",
          "line": 57,
          "isDefault": false,
          "params": "({ \n  targets, \n  regionFilter, \n  maxVisible = 5, \n  className,\n  title = \"Target Contacts & Accounts\"\n}: TargetContactsWidgetProps)"
        },
        {
          "name": "TargetContact",
          "kind": "type",
          "line": 12,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Target",
            "Phone",
            "Building",
            "ChevronRight",
            "MapPin",
            "Clock",
            "AlertCircle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./QuickCallButton",
          "names": [
            "QuickCallButton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatRelativeDate"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/TaskActionsPanel.tsx",
      "name": "TaskActionsPanel.tsx",
      "extension": ".tsx",
      "lines": 390,
      "size": 12891,
      "type": "component",
      "exports": [
        {
          "name": "TaskActionsPanel",
          "kind": "component",
          "line": 74,
          "isDefault": false,
          "params": "({\n  eventId,\n  taskStatus,\n  dueAt,\n  reminderAt,\n  recurrence,\n  className,\n}: TaskActionsPanelProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "CheckCircle2",
            "Circle",
            "Clock",
            "Calendar",
            "Bell",
            "Repeat",
            "ChevronDown",
            "Loader2",
            "AlertTriangle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/popover",
          "names": [
            "Popover",
            "PopoverContent",
            "PopoverTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/select",
          "names": [
            "Select",
            "SelectContent",
            "SelectItem",
            "SelectTrigger",
            "SelectValue"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/TaskIntelligencePanel.tsx",
      "name": "TaskIntelligencePanel.tsx",
      "extension": ".tsx",
      "lines": 354,
      "size": 11204,
      "type": "component",
      "exports": [
        {
          "name": "TaskIntelligencePanel",
          "kind": "component",
          "line": 51,
          "isDefault": false,
          "params": "({ className }: TaskIntelligencePanelProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/intelligence/SuggestionCard",
          "names": [
            "SuggestionCard"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/intelligence/PriorityBadge",
          "names": [
            "PriorityBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/intelligence/AttentionBadge",
          "names": [
            "AttentionBadge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "Sparkles",
            "ChevronDown",
            "ChevronUp",
            "RefreshCw",
            "User",
            "Building",
            "Briefcase",
            "ChevronRight",
            "AlertTriangle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "sonner",
          "names": [
            "toast"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/TodayClientWrapper.tsx",
      "name": "TodayClientWrapper.tsx",
      "extension": ".tsx",
      "lines": 117,
      "size": 3710,
      "type": "component",
      "exports": [
        {
          "name": "TodayClientWrapper",
          "kind": "component",
          "line": 18,
          "isDefault": false,
          "params": "({ children }: TodayClientWrapperProps)"
        },
        {
          "name": "AnimatedPipelineSummary",
          "kind": "component",
          "line": 25,
          "isDefault": false,
          "params": "({\n  totalPipeline,\n  totalDeals,\n  totalFeeProjection,\n  feeProjection,\n  stages,\n}: {\n  totalPipeline: number;\n  totalDeals: number;\n  totalFeeProjection: number;\n  feeProjection: Record<string, number>;\n  stages: Array<{ name: string; amount: number; count: number }>;\n})"
        },
        {
          "name": "TasksCompleteState",
          "kind": "component",
          "line": 94,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "NoTasksTodayState",
          "kind": "component",
          "line": 107,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "@/components/ui/animated-counter",
          "names": [
            "AnimatedCurrency"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/empty-state",
          "names": [
            "EmptyState"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/PipelineChart",
          "names": [
            "PipelineMiniChart",
            "type PipelineStage"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "TrendingUp"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatCurrency"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/VoiceCaptureModal.tsx",
      "name": "VoiceCaptureModal.tsx",
      "extension": ".tsx",
      "lines": 469,
      "size": 16956,
      "type": "component",
      "exports": [
        {
          "name": "VoiceCaptureModal",
          "kind": "component",
          "line": 19,
          "isDefault": false,
          "params": "({ isOpen, onClose }: VoiceCaptureModalProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useRef",
            "useEffect",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Mic",
            "MicOff",
            "X",
            "Loader2",
            "Check",
            "AlertCircle",
            "Settings2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkCalendarClient.tsx",
      "name": "WorkCalendarClient.tsx",
      "extension": ".tsx",
      "lines": 420,
      "size": 13118,
      "type": "component",
      "exports": [
        {
          "name": "WorkCalendarClient",
          "kind": "component",
          "line": 207,
          "isDefault": false,
          "params": "({\n  initialView,\n  initialDate,\n  items,\n}: WorkCalendarClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "ChevronLeft",
            "ChevronRight",
            "Calendar",
            "CheckCircle2",
            "Briefcase",
            "Phone",
            "Users",
            "Plus",
            "Grid3X3",
            "List"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dialog",
          "names": [
            "Dialog",
            "DialogContent",
            "DialogHeader",
            "DialogTitle",
            "DialogTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/select",
          "names": [
            "Select",
            "SelectContent",
            "SelectItem",
            "SelectTrigger",
            "SelectValue"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkEntityDetailsEditorClient.tsx",
      "name": "WorkEntityDetailsEditorClient.tsx",
      "extension": ".tsx",
      "lines": 725,
      "size": 31198,
      "type": "component",
      "exports": [
        {
          "name": "WorkEntityDetailsEditorClient",
          "kind": "component",
          "line": 166,
          "isDefault": false,
          "params": "(props: {\n  entityId: string;\n  entityType: string;\n  initialName: string;\n  initialNotes?: string | null;\n  initialMetadata: any;\n  updatedAt: string;\n  fields: FieldDef[];\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useMemo",
            "useRef",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/textarea",
          "names": [
            "Textarea"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/display-utils",
          "names": [
            "formatFieldLabel"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "lucide-react",
          "names": [
            "ExternalLink"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkEntityRelationshipsClient.tsx",
      "name": "WorkEntityRelationshipsClient.tsx",
      "extension": ".tsx",
      "lines": 110,
      "size": 3999,
      "type": "component",
      "exports": [
        {
          "name": "WorkEntityRelationshipsClient",
          "kind": "component",
          "line": 16,
          "isDefault": false,
          "params": "(props: {\n  recordId: string;\n  recordEntityType?: string;\n  recordName?: string;\n  recordMetadata?: any;\n  allEntities: EntityOption[];\n  relationships: RelationshipRow[];\n  relationshipTypeOptions?: string[];\n})"
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkLinkEntityRelationshipClient",
          "names": [
            "WorkLinkEntityRelationshipClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkEventDetailsEditorClient.tsx",
      "name": "WorkEventDetailsEditorClient.tsx",
      "extension": ".tsx",
      "lines": 237,
      "size": 8448,
      "type": "component",
      "exports": [
        {
          "name": "WorkEventDetailsEditorClient",
          "kind": "component",
          "line": 78,
          "isDefault": false,
          "params": "(props: {\n  eventId: string;\n  eventType: string;\n  initialTitle: string;\n  initialDescription?: string | null;\n  initialMetadata: any;\n  updatedAt: string;\n  fields: FieldDef[];\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/textarea",
          "names": [
            "Textarea"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkEventLinkedEntitiesClient.tsx",
      "name": "WorkEventLinkedEntitiesClient.tsx",
      "extension": ".tsx",
      "lines": 100,
      "size": 3695,
      "type": "component",
      "exports": [
        {
          "name": "WorkEventLinkedEntitiesClient",
          "kind": "component",
          "line": 11,
          "isDefault": false,
          "params": "(props: {\n  eventId: string;\n  allEntities: EntityOption[];\n  links: LinkRow[];\n  roleOptions?: string[];\n})"
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/WorkLinkEventEntityClient",
          "names": [
            "WorkLinkEventEntityClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkEventRowActions.tsx",
      "name": "WorkEventRowActions.tsx",
      "extension": ".tsx",
      "lines": 43,
      "size": 1242,
      "type": "component",
      "exports": [
        {
          "name": "WorkEventRowActions",
          "kind": "component",
          "line": 14,
          "isDefault": false,
          "params": "(props: { eventId: string })"
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "MoreHorizontal"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dropdown-menu",
          "names": [
            "DropdownMenu",
            "DropdownMenuContent",
            "DropdownMenuItem",
            "DropdownMenuSeparator",
            "DropdownMenuTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkLinkEntityRelationshipClient.tsx",
      "name": "WorkLinkEntityRelationshipClient.tsx",
      "extension": ".tsx",
      "lines": 132,
      "size": 5466,
      "type": "component",
      "exports": [
        {
          "name": "WorkLinkEntityRelationshipClient",
          "kind": "component",
          "line": 10,
          "isDefault": false,
          "params": "(props: {\n  fromEntityId: string;\n  recordEntityType?: string;\n  recordName?: string;\n  recordMetadata?: any;\n  entities: EntityOption[];\n  relationshipTypeOptions?: string[];\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkLinkEventEntityClient.tsx",
      "name": "WorkLinkEventEntityClient.tsx",
      "extension": ".tsx",
      "lines": 93,
      "size": 3429,
      "type": "component",
      "exports": [
        {
          "name": "WorkLinkEventEntityClient",
          "kind": "component",
          "line": 10,
          "isDefault": false,
          "params": "(props: {\n  eventId: string;\n  entities: EntityOption[];\n  roleOptions?: string[];\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkSavedViewEditorClient.tsx",
      "name": "WorkSavedViewEditorClient.tsx",
      "extension": ".tsx",
      "lines": 267,
      "size": 9791,
      "type": "component",
      "exports": [
        {
          "name": "WorkSavedViewEditorClient",
          "kind": "component",
          "line": 52,
          "isDefault": false,
          "params": "(props: { view: SavedViewRow; fields: FieldDef[] })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/textarea",
          "names": [
            "Textarea"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/work/WorkScaffoldEditorClient.tsx",
      "name": "WorkScaffoldEditorClient.tsx",
      "extension": ".tsx",
      "lines": 178,
      "size": 6388,
      "type": "component",
      "exports": [
        {
          "name": "WorkScaffoldEditorClient",
          "kind": "component",
          "line": 33,
          "isDefault": false,
          "params": "(props: { scaffold: ScaffoldRow })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/textarea",
          "names": [
            "Textarea"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkSkeletons.tsx",
      "name": "WorkSkeletons.tsx",
      "extension": ".tsx",
      "lines": 368,
      "size": 11600,
      "type": "component",
      "exports": [
        {
          "name": "TaskItemSkeleton",
          "kind": "component",
          "line": 9,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "TaskSectionSkeleton",
          "kind": "component",
          "line": 28,
          "isDefault": false,
          "params": "({ itemCount = 3 }: { itemCount?: number })"
        },
        {
          "name": "StatsCardSkeleton",
          "kind": "component",
          "line": 52,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "TasksPageSkeleton",
          "kind": "component",
          "line": 71,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "EntityCardSkeleton",
          "kind": "component",
          "line": 107,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "TodayDashboardSkeleton",
          "kind": "component",
          "line": 126,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "PipelineBoardSkeleton",
          "kind": "component",
          "line": 226,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "ApprovalRequestSkeleton",
          "kind": "component",
          "line": 257,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "TableRowSkeleton",
          "kind": "component",
          "line": 296,
          "isDefault": false,
          "params": "({ columns = 5 }: { columns?: number })"
        },
        {
          "name": "EntityDetailSkeleton",
          "kind": "component",
          "line": 311,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "@/components/ui/skeleton",
          "names": [
            "Skeleton"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/work/WorkTasksClient.tsx",
      "name": "WorkTasksClient.tsx",
      "extension": ".tsx",
      "lines": 806,
      "size": 26319,
      "type": "component",
      "exports": [
        {
          "name": "WorkTasksClient",
          "kind": "component",
          "line": 302,
          "isDefault": false,
          "params": "({\n  overdueTasks,\n  todayTasks,\n  thisWeekTasks,\n  laterTasks,\n  noDueDateTasks,\n  viewMode,\n}: WorkTasksClientProps)"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition",
            "useMemo"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "CheckCircle2",
            "Circle",
            "Calendar",
            "ChevronDown",
            "ChevronUp",
            "MoreHorizontal",
            "User",
            "Building",
            "Briefcase",
            "MapPin",
            "Image",
            "Square",
            "CheckSquare",
            "Loader2",
            "Trash2"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/checkbox",
          "names": [
            "Checkbox"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dropdown-menu",
          "names": [
            "DropdownMenu",
            "DropdownMenuContent",
            "DropdownMenuItem",
            "DropdownMenuSeparator",
            "DropdownMenuTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/utils",
          "names": [
            "cn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/hooks/useWorkEntities",
          "names": [
            "useCompleteTask",
            "useInvalidateWorkQueries"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "sonner",
          "names": [
            "toast"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/empty-state",
          "names": [
            "EmptyState"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/work/WorkTasksTableClient.tsx",
      "name": "WorkTasksTableClient.tsx",
      "extension": ".tsx",
      "lines": 157,
      "size": 6092,
      "type": "component",
      "exports": [
        {
          "name": "WorkTasksTableClient",
          "kind": "component",
          "line": 15,
          "isDefault": false,
          "params": "({\n  rows,\n  columns,\n}: {\n  rows: TaskRow[];\n  columns: Array<{ key: string; label: string }>;\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/components/work/WorkEventRowActions",
          "names": [
            "WorkEventRowActions"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/WorkActivityClient.tsx",
      "name": "WorkActivityClient.tsx",
      "extension": ".tsx",
      "lines": 144,
      "size": 5108,
      "type": "component",
      "exports": [
        {
          "name": "WorkActivityClient",
          "kind": "component",
          "line": 12,
          "isDefault": false,
          "params": "({\r\n  people,\r\n  companies,\r\n}: {\r\n  people: Entity[];\r\n  companies: Entity[];\r\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/label",
          "names": [
            "Label"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/textarea",
          "names": [
            "Textarea"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/WorkEntitiesClient.tsx",
      "name": "WorkEntitiesClient.tsx",
      "extension": ".tsx",
      "lines": 971,
      "size": 41475,
      "type": "component",
      "exports": [
        {
          "name": "WorkEntitiesClient",
          "kind": "component",
          "line": 187,
          "isDefault": false,
          "params": "({\n  entityType,\n  title,\n  entities,\n  columns,\n  showRowActions = false,\n  groups,\n  disableQuickAdd = false,\n  fieldDefinitions,\n}: {\n  entityType: string;\n  title: string;\n  entities: Array<{ id: string; name: string; createdAt: string | Date | null; updatedAt?: string | Date | null; metadata?: any }>;\n  columns?: Array<{ key: string; label: string }>;\n  showRowActions?: boolean;\n  groups?: Array<{ key: string; label: string; summary?: string; href?: string; rows: Array<{ id: string; name: string; createdAt: string | Date | null; metadata?: any }> }>;\n  disableQuickAdd?: boolean;\n  fieldDefinitions?: FieldDefinition[];\n})"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "MoreHorizontal",
            "Building",
            "User",
            "Briefcase",
            "ChevronRight",
            "Trash2",
            "Edit",
            "X"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/components/ui/button",
          "names": [
            "Button"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/badge",
          "names": [
            "Badge"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/card",
          "names": [
            "Card",
            "CardContent",
            "CardHeader",
            "CardTitle"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/input",
          "names": [
            "Input"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/ui/dropdown-menu",
          "names": [
            "DropdownMenu",
            "DropdownMenuContent",
            "DropdownMenuItem",
            "DropdownMenuSeparator",
            "DropdownMenuTrigger"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/InlineSelectField",
          "names": [
            "InlineSelectField"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/InlineDateField",
          "names": [
            "InlineDateField"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/InlineEditableField",
          "names": [
            "InlineEditableField"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/components/work/knowledge",
          "names": [
            "EntitySentimentBadge"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/components/WorkoutLoggerClient.tsx",
      "name": "WorkoutLoggerClient.tsx",
      "extension": ".tsx",
      "lines": 211,
      "size": 7343,
      "type": "component",
      "exports": [
        {
          "name": "WorkoutLoggerClient",
          "kind": "component",
          "line": 15,
          "isDefault": false,
          "params": "({ planContent }: { planContent: any })"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/WorkspaceIndicator.tsx",
      "name": "WorkspaceIndicator.tsx",
      "extension": ".tsx",
      "lines": 41,
      "size": 1271,
      "type": "component",
      "exports": [
        {
          "name": "WorkspaceIndicator",
          "kind": "component",
          "line": 6,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "lucide-react",
          "names": [
            "Database"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/components/WorkspaceSwitcher.tsx",
      "name": "WorkspaceSwitcher.tsx",
      "extension": ".tsx",
      "lines": 96,
      "size": 3176,
      "type": "component",
      "exports": [
        {
          "name": "WorkspaceSwitcher",
          "kind": "component",
          "line": 22,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "next/link",
          "names": [
            "Link"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "react",
          "names": [
            "useEffect",
            "useMemo",
            "useState",
            "useTransition"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "usePathname",
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/hooks/useGeolocation.ts",
      "name": "useGeolocation.ts",
      "extension": ".ts",
      "lines": 134,
      "size": 3837,
      "type": "hook",
      "exports": [
        {
          "name": "useGeolocation",
          "kind": "hook",
          "line": 27,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "GeolocationData",
          "kind": "type",
          "line": 5,
          "isDefault": false
        },
        {
          "name": "UseGeolocationReturn",
          "kind": "type",
          "line": 16,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [
        {
          "service": "openstreetmap.org",
          "detail": "https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}&zo",
          "line": 35
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/hooks/useKeyboardShortcuts.ts",
      "name": "useKeyboardShortcuts.ts",
      "extension": ".ts",
      "lines": 195,
      "size": 5014,
      "type": "hook",
      "exports": [
        {
          "name": "useKeyboardShortcuts",
          "kind": "hook",
          "line": 22,
          "isDefault": false,
          "params": "(shortcuts: KeyboardShortcut[], enabled = true)"
        },
        {
          "name": "useGlobalShortcuts",
          "kind": "hook",
          "line": 74,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "formatShortcutKey",
          "kind": "function",
          "line": 169,
          "isDefault": false,
          "params": "(shortcut: KeyboardShortcut)"
        },
        {
          "name": "KeyboardShortcut",
          "kind": "type",
          "line": 6,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useEffect",
            "useCallback",
            "useState"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/navigation",
          "names": [
            "useRouter"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/hooks/useSidebarChat.tsx",
      "name": "useSidebarChat.tsx",
      "extension": ".tsx",
      "lines": 87,
      "size": 2404,
      "type": "hook",
      "exports": [
        {
          "name": "SidebarChatProvider",
          "kind": "component",
          "line": 21,
          "isDefault": false,
          "params": "({ children }: { children: ReactNode })"
        },
        {
          "name": "useSidebarChat",
          "kind": "hook",
          "line": 79,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "createContext",
            "useContext",
            "useState",
            "ReactNode"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/hooks/useWorkEntities.ts",
      "name": "useWorkEntities.ts",
      "extension": ".ts",
      "lines": 302,
      "size": 8512,
      "type": "hook",
      "exports": [
        {
          "name": "useEntityList",
          "kind": "hook",
          "line": 42,
          "isDefault": false,
          "params": "(params: EntityListParams)"
        },
        {
          "name": "useEntity",
          "kind": "hook",
          "line": 95,
          "isDefault": false,
          "params": "(entityId: string | null)"
        },
        {
          "name": "useUpdateEntity",
          "kind": "hook",
          "line": 116,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "useTasks",
          "kind": "hook",
          "line": 202,
          "isDefault": false,
          "params": "(params: TaskListParams = {})"
        },
        {
          "name": "useCompleteTask",
          "kind": "hook",
          "line": 223,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "usePrefetchEntityList",
          "kind": "hook",
          "line": 274,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "useInvalidateWorkQueries",
          "kind": "hook",
          "line": 295,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "EntityListParams",
          "kind": "type",
          "line": 18,
          "isDefault": false
        },
        {
          "name": "EntityListResult",
          "kind": "type",
          "line": 26,
          "isDefault": false
        },
        {
          "name": "EntityDetail",
          "kind": "type",
          "line": 71,
          "isDefault": false
        },
        {
          "name": "TaskListParams",
          "kind": "type",
          "line": 177,
          "isDefault": false
        },
        {
          "name": "Task",
          "kind": "type",
          "line": 182,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@tanstack/react-query",
          "names": [
            "useQuery",
            "useMutation",
            "useQueryClient"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/hooks/useWorkspaceId.ts",
      "name": "useWorkspaceId.ts",
      "extension": ".ts",
      "lines": 57,
      "size": 1793,
      "type": "hook",
      "exports": [
        {
          "name": "useWorkspaceId",
          "kind": "hook",
          "line": 24,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect",
            "useSyncExternalStore"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/checkpoints.ts",
      "name": "checkpoints.ts",
      "extension": ".ts",
      "lines": 34,
      "size": 1141,
      "type": "utility",
      "exports": [
        {
          "name": "detectCheckpoint",
          "kind": "function",
          "line": 12,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "CheckpointDecision",
          "kind": "type",
          "line": 1,
          "isDefault": false
        },
        {
          "name": "CheckpointResult",
          "kind": "type",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/intent.test.ts",
      "name": "intent.test.ts",
      "extension": ".ts",
      "lines": 50,
      "size": 2351,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./intent",
          "names": [
            "detectIntent"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/intent.ts",
      "name": "intent.ts",
      "extension": ".ts",
      "lines": 117,
      "size": 6339,
      "type": "utility",
      "exports": [
        {
          "name": "detectIntent",
          "kind": "function",
          "line": 18,
          "isDefault": false,
          "params": "(text: string, opts?: DetectIntentOptions)"
        },
        {
          "name": "AgentIntent",
          "kind": "type",
          "line": 1,
          "isDefault": false
        },
        {
          "name": "IntentResult",
          "kind": "type",
          "line": 3,
          "isDefault": false
        },
        {
          "name": "DetectIntentOptions",
          "kind": "type",
          "line": 10,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/mode.ts",
      "name": "mode.ts",
      "extension": ".ts",
      "lines": 53,
      "size": 1559,
      "type": "utility",
      "exports": [
        {
          "name": "decideMode",
          "kind": "function",
          "line": 19,
          "isDefault": false,
          "params": "(intent: AgentIntent, significance: SignificanceLevel)"
        },
        {
          "name": "AgentMode",
          "kind": "type",
          "line": 4,
          "isDefault": false
        },
        {
          "name": "ModeDecision",
          "kind": "type",
          "line": 6,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/runtime.ts",
      "name": "runtime.ts",
      "extension": ".ts",
      "lines": 401,
      "size": 23347,
      "type": "utility",
      "exports": [
        {
          "name": "runAgentTurnToText",
          "kind": "function",
          "line": 377,
          "isDefault": false,
          "params": "(args: RunTurnArgs)"
        },
        {
          "name": "RunTurnArgs",
          "kind": "type",
          "line": 42,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/tools/registry",
          "names": [
            "listToolDefinitions",
            "type ToolName"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/tools/executor",
          "names": [
            "executeTool"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/unified-streaming",
          "names": [
            "streamUnifiedChat",
            "getDefaultModelForProvider",
            "type ChatProvider",
            "type UnifiedStreamEvent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/cost-tracking",
          "names": [
            "trackUsage"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/tracing",
          "names": [
            "createTrace"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/smart-briefing",
          "names": [
            "buildSmartBriefing",
            "parseBriefingForNudges"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/agent/significance.ts",
      "name": "significance.ts",
      "extension": ".ts",
      "lines": 70,
      "size": 2819,
      "type": "utility",
      "exports": [
        {
          "name": "scoreSignificance",
          "kind": "function",
          "line": 12,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "SignificanceLevel",
          "kind": "type",
          "line": 1,
          "isDefault": false
        },
        {
          "name": "SignificanceResult",
          "kind": "type",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/state.ts",
      "name": "state.ts",
      "extension": ".ts",
      "lines": 20,
      "size": 502,
      "type": "utility",
      "exports": [
        {
          "name": "DraftChangeSet",
          "kind": "type",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/__tests__/harness.ts",
      "name": "harness.ts",
      "extension": ".ts",
      "lines": 288,
      "size": 8091,
      "type": "utility",
      "exports": [
        {
          "name": "runScenario",
          "kind": "function",
          "line": 183,
          "isDefault": false,
          "params": "(scenario: Scenario, db: any)"
        },
        {
          "name": "runAllScenarios",
          "kind": "function",
          "line": 257,
          "isDefault": false,
          "params": "(\n  scenarios: Scenario[],\n  db: any\n)"
        },
        {
          "name": "TurnResult",
          "kind": "type",
          "line": 16,
          "isDefault": false
        },
        {
          "name": "TurnExpectation",
          "kind": "type",
          "line": 25,
          "isDefault": false
        },
        {
          "name": "ScenarioTurn",
          "kind": "type",
          "line": 35,
          "isDefault": false
        },
        {
          "name": "Scenario",
          "kind": "type",
          "line": 40,
          "isDefault": false
        },
        {
          "name": "CheckResult",
          "kind": "type",
          "line": 47,
          "isDefault": false
        },
        {
          "name": "TurnReport",
          "kind": "type",
          "line": 53,
          "isDefault": false
        },
        {
          "name": "ScenarioReport",
          "kind": "type",
          "line": 62,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "../runtime",
          "names": [
            "runAgentTurnToText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./test-helpers",
          "names": [
            "makeArgs"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/__tests__/run-harness.test.ts",
      "name": "run-harness.test.ts",
      "extension": ".ts",
      "lines": 57,
      "size": 1970,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "it",
            "expect",
            "beforeAll",
            "afterAll"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./harness",
          "names": [
            "runAllScenarios"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./test-helpers",
          "names": [
            "getTestDb",
            "seedTestEntities",
            "cleanupTestData"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./scenarios/work-capture.scenarios",
          "names": [
            "workCaptureScenarios"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./scenarios/recall.scenarios",
          "names": [
            "recallScenarios"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./scenarios/query.scenarios",
          "names": [
            "queryScenarios"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./scenarios/edge-cases.scenarios",
          "names": [
            "edgeCaseScenarios"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/__tests__/scenarios/edge-cases.scenarios.ts",
      "name": "edge-cases.scenarios.ts",
      "extension": ".ts",
      "lines": 96,
      "size": 3673,
      "type": "utility",
      "exports": [
        {
          "name": "edgeCaseScenarios",
          "kind": "constant",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/__tests__/scenarios/query.scenarios.ts",
      "name": "query.scenarios.ts",
      "extension": ".ts",
      "lines": 89,
      "size": 2622,
      "type": "utility",
      "exports": [
        {
          "name": "queryScenarios",
          "kind": "constant",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/__tests__/scenarios/recall.scenarios.ts",
      "name": "recall.scenarios.ts",
      "extension": ".ts",
      "lines": 144,
      "size": 4034,
      "type": "utility",
      "exports": [
        {
          "name": "recallScenarios",
          "kind": "constant",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/__tests__/scenarios/work-capture.scenarios.ts",
      "name": "work-capture.scenarios.ts",
      "extension": ".ts",
      "lines": 95,
      "size": 2850,
      "type": "utility",
      "exports": [
        {
          "name": "workCaptureScenarios",
          "kind": "constant",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/__tests__/scratch.test.ts",
      "name": "scratch.test.ts",
      "extension": ".ts",
      "lines": 68,
      "size": 2634,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "it"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "../runtime",
          "names": [
            "runAgentTurnToText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./test-helpers",
          "names": [
            "getTestDb",
            "makeArgs"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/agent/__tests__/test-helpers.ts",
      "name": "test-helpers.ts",
      "extension": ".ts",
      "lines": 78,
      "size": 2331,
      "type": "utility",
      "exports": [
        {
          "name": "getTestDb",
          "kind": "function",
          "line": 11,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "makeArgs",
          "kind": "function",
          "line": 19,
          "isDefault": false,
          "params": "(\n  text: string,\n  db: any,\n  overrides: Partial<RunTurnArgs> = {}\n)"
        },
        {
          "name": "seedTestEntities",
          "kind": "function",
          "line": 42,
          "isDefault": false,
          "params": "(db: any)"
        },
        {
          "name": "cleanupTestData",
          "kind": "function",
          "line": 71,
          "isDefault": false,
          "params": "(db: any)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "workspaceIdForKey"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/agent-events.ts",
      "name": "agent-events.ts",
      "extension": ".ts",
      "lines": 54,
      "size": 1641,
      "type": "utility",
      "exports": [
        {
          "name": "sseEncode",
          "kind": "function",
          "line": 49,
          "isDefault": false,
          "params": "(event: AgentEvent)"
        },
        {
          "name": "AgentEvent",
          "kind": "type",
          "line": 1,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/anthropic.ts",
      "name": "anthropic.ts",
      "extension": ".ts",
      "lines": 41,
      "size": 1057,
      "type": "utility",
      "exports": [
        {
          "name": "getAnthropic",
          "kind": "function",
          "line": 28,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "isAnthropicConfigured",
          "kind": "function",
          "line": 38,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "anthropic",
          "kind": "constant",
          "line": 12,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@anthropic-ai/sdk",
          "names": [
            "Anthropic"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 4
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 4
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 5
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 5
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 9
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 9
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 10
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 15
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 16
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 18
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 18
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 19
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/approval.ts",
      "name": "approval.ts",
      "extension": ".ts",
      "lines": 289,
      "size": 9374,
      "type": "utility",
      "exports": [
        {
          "name": "needsApproval",
          "kind": "function",
          "line": 41,
          "isDefault": false,
          "params": "(\r\n  approvalLevel: ApprovalLevel,\r\n  proposedChanges: ProposedChange[]\r\n)"
        },
        {
          "name": "generateProposedChanges",
          "kind": "function",
          "line": 67,
          "isDefault": false,
          "params": "(\r\n  extraction: CaptureExtraction,\r\n  existingEntities?: Map<string, any>,\r\n  existingEvents?: Map<string, any>\r\n)"
        },
        {
          "name": "formatProposedChanges",
          "kind": "function",
          "line": 221,
          "isDefault": false,
          "params": "(changes: ProposedChange[])"
        },
        {
          "name": "categorizeChanges",
          "kind": "function",
          "line": 276,
          "isDefault": false,
          "params": "(changes: ProposedChange[])"
        },
        {
          "name": "ApprovalLevel",
          "kind": "type",
          "line": 3,
          "isDefault": false
        },
        {
          "name": "ProposedChange",
          "kind": "type",
          "line": 5,
          "isDefault": false
        },
        {
          "name": "ApprovalRequest",
          "kind": "type",
          "line": 30,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/approvals.ts",
      "name": "approvals.ts",
      "extension": ".ts",
      "lines": 87,
      "size": 2204,
      "type": "utility",
      "exports": [
        {
          "name": "setPendingApprovalMessageId",
          "kind": "function",
          "line": 23,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  approvalId: string,\n  messageId: string,\n  dbOverride?: any\n)"
        },
        {
          "name": "upsertPendingApproval",
          "kind": "function",
          "line": 39,
          "isDefault": false,
          "params": "(args: UpsertPendingApprovalArgs)"
        },
        {
          "name": "UpsertPendingApprovalArgs",
          "kind": "type",
          "line": 6,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "pendingApprovals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/chat/collections-drafting.ts",
      "name": "collections-drafting.ts",
      "extension": ".ts",
      "lines": 83,
      "size": 2342,
      "type": "utility",
      "exports": [
        {
          "name": "draftCollectionChangesFromText",
          "kind": "function",
          "line": 7,
          "isDefault": false,
          "params": "(text: string)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 33
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/draft-merge.ts",
      "name": "draft-merge.ts",
      "extension": ".ts",
      "lines": 73,
      "size": 2192,
      "type": "utility",
      "exports": [
        {
          "name": "mergeDraftChangeSet",
          "kind": "function",
          "line": 43,
          "isDefault": false,
          "params": "(\n  existing: DraftChangeSet | null,\n  incoming: {\n    reset?: boolean;\n    intent?: string;\n    significance?: string;\n    changeType?: string;\n    proposedChanges: ProposedChange[];\n    extraction?: DraftChangeSet[\"extraction\"];\n  }\n)"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/drafting.ts",
      "name": "drafting.ts",
      "extension": ".ts",
      "lines": 211,
      "size": 8180,
      "type": "utility",
      "exports": [
        {
          "name": "runPostTurnDrafting",
          "kind": "function",
          "line": 54,
          "isDefault": false,
          "params": "(args: RunDraftingArgs)"
        },
        {
          "name": "DraftingDecision",
          "kind": "type",
          "line": 13,
          "isDefault": false
        },
        {
          "name": "RunDraftingArgs",
          "kind": "type",
          "line": 19,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/tools/user-settings",
          "names": [
            "getUserProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/enterprise-context",
          "names": [
            "getDatabaseSchema"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/extract",
          "names": [
            "extractFromText",
            "type CaptureExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/capture",
          "names": [
            "applyCaptureExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/context-cache",
          "names": [
            "contextCache"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/approval",
          "names": [
            "categorizeChanges",
            "generateProposedChanges",
            "needsApproval",
            "type ProposedChange"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/approvals",
          "names": [
            "upsertPendingApproval"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/risk-classifier",
          "names": [
            "classifyChangeRisk"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/audit",
          "names": [
            "writeAudit"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/production-telemetry",
          "names": [
            "logProductionExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/drafts.ts",
      "name": "drafts.ts",
      "extension": ".ts",
      "lines": 68,
      "size": 1924,
      "type": "utility",
      "exports": [
        {
          "name": "upsertDraftSnapshot",
          "kind": "function",
          "line": 7,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  threadId: string,\n  payload: DraftChangeSet,\n  dbOverride?: any\n)"
        },
        {
          "name": "getActiveDraftSnapshot",
          "kind": "function",
          "line": 38,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  threadId: string,\n  dbOverride?: any\n)"
        },
        {
          "name": "clearActiveDraftSnapshot",
          "kind": "function",
          "line": 54,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  threadId: string,\n  status: \"discarded\" | \"committed\" = \"discarded\",\n  dbOverride?: any\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "draftSnapshots"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/chat/fitness-plan-intent.ts",
      "name": "fitness-plan-intent.ts",
      "extension": ".ts",
      "lines": 49,
      "size": 1734,
      "type": "utility",
      "exports": [
        {
          "name": "isFitnessPlanApproval",
          "kind": "function",
          "line": 7,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "isFitnessPlanRequest",
          "kind": "function",
          "line": 25,
          "isDefault": false,
          "params": "(text: string)"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/fitness-preamble.ts",
      "name": "fitness-preamble.ts",
      "extension": ".ts",
      "lines": 79,
      "size": 6080,
      "type": "utility",
      "exports": [
        {
          "name": "FITNESS_SYSTEM_APPENDIX",
          "kind": "constant",
          "line": 9,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/merge-changes.ts",
      "name": "merge-changes.ts",
      "extension": ".ts",
      "lines": 48,
      "size": 1760,
      "type": "utility",
      "exports": [
        {
          "name": "applyPendingMergesToProposedChanges",
          "kind": "function",
          "line": 8,
          "isDefault": false,
          "params": "(\r\n  proposedChanges: ProposedChange[],\r\n  pendingMerges: PendingMerge[]\r\n)"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/merge-intent.ts",
      "name": "merge-intent.ts",
      "extension": ".ts",
      "lines": 94,
      "size": 3554,
      "type": "utility",
      "exports": [
        {
          "name": "detectMergeIntents",
          "kind": "function",
          "line": 32,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "MergeIntent",
          "kind": "type",
          "line": 4,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 49
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/merge-resolution.ts",
      "name": "merge-resolution.ts",
      "extension": ".ts",
      "lines": 51,
      "size": 1705,
      "type": "utility",
      "exports": [
        {
          "name": "resolveMergeIntents",
          "kind": "function",
          "line": 16,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  mergeIntents: MergeIntent[],\r\n  entityType: string = \"person\"\r\n)"
        },
        {
          "name": "PendingMerge",
          "kind": "type",
          "line": 5,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/tools/entity-merge",
          "names": [
            "findEntitiesByName"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/persistence.ts",
      "name": "persistence.ts",
      "extension": ".ts",
      "lines": 84,
      "size": 2582,
      "type": "utility",
      "exports": [
        {
          "name": "storeChatArtifact",
          "kind": "function",
          "line": 12,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  text: string,\r\n  metadata?: Record<string, any>,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "insertUserChatMessage",
          "kind": "function",
          "line": 31,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, threadId: string, text: string, dbOverride?: any)"
        },
        {
          "name": "insertAssistantChatMessage",
          "kind": "function",
          "line": 47,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  threadId: string,\r\n  content: string,\r\n  modelUsed: string,\r\n  metadata?: Record<string, any>,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "bumpThreadCounts",
          "kind": "function",
          "line": 70,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, threadId: string, deltaMessages: number, dbOverride?: any)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts",
            "messages",
            "threads"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/embeddings",
          "names": [
            "generateEventEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/chat/preflight.ts",
      "name": "preflight.ts",
      "extension": ".ts",
      "lines": 290,
      "size": 10127,
      "type": "utility",
      "exports": [
        {
          "name": "preflightChatTurn",
          "kind": "function",
          "line": 170,
          "isDefault": false,
          "params": "(args: PreflightChatTurnArgs)"
        },
        {
          "name": "ChatTurnThreadInfo",
          "kind": "type",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "KnownEntity",
          "kind": "type",
          "line": 17,
          "isDefault": false
        },
        {
          "name": "AmbiguousResolution",
          "kind": "type",
          "line": 24,
          "isDefault": false
        },
        {
          "name": "ChatPreflightResult",
          "kind": "type",
          "line": 29,
          "isDefault": false
        },
        {
          "name": "PreflightChatTurnArgs",
          "kind": "type",
          "line": 51,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/chat/threading",
          "names": [
            "resolveChatThread"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/persistence",
          "names": [
            "storeChatArtifact"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/entity-resolver",
          "names": [
            "resolveEntityCandidates",
            "type EntityMention"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/clarification",
          "names": [
            "generateClarificationPrompt",
            "needsClarification",
            "type ClarificationPrompt"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/grounding",
          "names": [
            "inferWorkPreferredEntityTypes",
            "needsWorkClarification",
            "rankWorkEntityCandidates"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/user-settings",
          "names": [
            "getUserProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/disambiguation-memory",
          "names": [
            "getLearnedPreference"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/chat/prepare-agent-input.ts",
      "name": "prepare-agent-input.ts",
      "extension": ".ts",
      "lines": 8,
      "size": 249,
      "type": "utility",
      "exports": [
        {
          "name": "prepareAgentInputText",
          "kind": "function",
          "line": 1,
          "isDefault": false,
          "params": "(text: string)"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/self-entity.ts",
      "name": "self-entity.ts",
      "extension": ".ts",
      "lines": 148,
      "size": 5026,
      "type": "utility",
      "exports": [
        {
          "name": "ensureSelfEntity",
          "kind": "function",
          "line": 28,
          "isDefault": false,
          "params": "(db: any)"
        },
        {
          "name": "getSelfEntityResolutions",
          "kind": "function",
          "line": 137,
          "isDefault": false,
          "params": "(\r\n  db: any\r\n)"
        },
        {
          "name": "SelfEntityInfo",
          "kind": "type",
          "line": 15,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "userProfiles"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/chat/shared-context.ts",
      "name": "shared-context.ts",
      "extension": ".ts",
      "lines": 270,
      "size": 10429,
      "type": "utility",
      "exports": [
        {
          "name": "buildChatContext",
          "kind": "function",
          "line": 72,
          "isDefault": false,
          "params": "(args: BuildChatContextArgs)"
        },
        {
          "name": "ChatContextType",
          "kind": "type",
          "line": 16,
          "isDefault": false
        },
        {
          "name": "PendingApprovalContextSummary",
          "kind": "type",
          "line": 27,
          "isDefault": false
        },
        {
          "name": "BuildChatContextArgs",
          "kind": "type",
          "line": 32,
          "isDefault": false
        },
        {
          "name": "BuiltChatContext",
          "kind": "type",
          "line": 54,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/thread-context",
          "names": [
            "assembleThreadContext",
            "formatThreadContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/memory",
          "names": [
            "retrieveRelevantMemory",
            "formatMemoryForContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/context",
          "names": [
            "getContextualMemory",
            "formatContextualMemory"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/enterprise-context",
          "names": [
            "generateEnterpriseContext",
            "formatEnterpriseContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/experience/selector",
          "names": [
            "getExperiencePack"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/response-calibration",
          "names": [
            "calibrateResponse"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/agent/intent",
          "names": [
            "detectIntent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/workspace-briefing",
          "names": [
            "getWorkspaceBriefing"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/daily-context",
          "names": [
            "buildDailyContext"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/chat/threading.ts",
      "name": "threading.ts",
      "extension": ".ts",
      "lines": 173,
      "size": 6038,
      "type": "utility",
      "exports": [
        {
          "name": "resolveChatThread",
          "kind": "function",
          "line": 42,
          "isDefault": false,
          "params": "(args: ResolveChatThreadArgs)"
        },
        {
          "name": "ChatContextType",
          "kind": "type",
          "line": 8,
          "isDefault": false
        },
        {
          "name": "ResolveChatThreadArgs",
          "kind": "type",
          "line": 19,
          "isDefault": false
        },
        {
          "name": "ResolveChatThreadResult",
          "kind": "type",
          "line": 28,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "threads"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/embeddings",
          "names": [
            "generateEventEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/thread-router",
          "names": [
            "routeToThread"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/clarification.ts",
      "name": "clarification.ts",
      "extension": ".ts",
      "lines": 88,
      "size": 2397,
      "type": "utility",
      "exports": [
        {
          "name": "needsClarification",
          "kind": "function",
          "line": 14,
          "isDefault": false,
          "params": "(candidates: EntityCandidate[])"
        },
        {
          "name": "generateClarificationPrompt",
          "kind": "function",
          "line": 41,
          "isDefault": false,
          "params": "(\n  mention: EntityMention,\n  candidates: EntityCandidate[]\n)"
        },
        {
          "name": "formatClarificationPrompt",
          "kind": "function",
          "line": 61,
          "isDefault": false,
          "params": "(prompt: ClarificationPrompt)"
        },
        {
          "name": "ClarificationPrompt",
          "kind": "type",
          "line": 4,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./confidence-config",
          "names": [
            "CONFIDENCE"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/client.ts",
      "name": "client.ts",
      "extension": ".ts",
      "lines": 122,
      "size": 3979,
      "type": "utility",
      "exports": [
        {
          "name": "createResponseStream",
          "kind": "function",
          "line": 33,
          "isDefault": false,
          "params": "(\n  args: CreateResponseStreamArgs,\n  client: OpenAI = openai\n)"
        },
        {
          "name": "extractTextDelta",
          "kind": "function",
          "line": 51,
          "isDefault": false,
          "params": "(evt: OpenAIResponseStreamEvent)"
        },
        {
          "name": "extractToolCallEvent",
          "kind": "function",
          "line": 70,
          "isDefault": false,
          "params": "(evt: OpenAIResponseStreamEvent)"
        },
        {
          "name": "ResponseInputMessage",
          "kind": "type",
          "line": 5,
          "isDefault": false
        },
        {
          "name": "OpenAIResponseStreamEvent",
          "kind": "type",
          "line": 10,
          "isDefault": false
        },
        {
          "name": "CreateResponseStreamArgs",
          "kind": "type",
          "line": 17,
          "isDefault": false
        },
        {
          "name": "ToolCallEvent",
          "kind": "type",
          "line": 62,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/confidence-config.ts",
      "name": "confidence-config.ts",
      "extension": ".ts",
      "lines": 56,
      "size": 1705,
      "type": "utility",
      "exports": [
        {
          "name": "CONFIDENCE",
          "kind": "constant",
          "line": 6,
          "isDefault": false
        },
        {
          "name": "CACHE_TTL",
          "kind": "constant",
          "line": 46,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/context-cache.ts",
      "name": "context-cache.ts",
      "extension": ".ts",
      "lines": 186,
      "size": 6848,
      "type": "utility",
      "exports": [
        {
          "name": "contextCache",
          "kind": "constant",
          "line": 185,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./confidence-config",
          "names": [
            "CACHE_TTL"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/context-scoring.ts",
      "name": "context-scoring.ts",
      "extension": ".ts",
      "lines": 300,
      "size": 9951,
      "type": "utility",
      "exports": [
        {
          "name": "scoreEntityContext",
          "kind": "function",
          "line": 44,
          "isDefault": false,
          "params": "(\r\n  entity: EntityContext,\r\n  query: string,\r\n  queryTime: Date = new Date()"
        },
        {
          "name": "scoreEventContext",
          "kind": "function",
          "line": 110,
          "isDefault": false,
          "params": "(\r\n  event: EventContext,\r\n  query: string,\r\n  queryTime: Date = new Date()"
        },
        {
          "name": "prioritizeContexts",
          "kind": "function",
          "line": 278,
          "isDefault": false
        },
        {
          "name": "getTopContexts",
          "kind": "function",
          "line": 290,
          "isDefault": false
        },
        {
          "name": "ScoredContext",
          "kind": "type",
          "line": 19,
          "isDefault": false
        },
        {
          "name": "ScoringWeights",
          "kind": "type",
          "line": 25,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/context.ts",
      "name": "context.ts",
      "extension": ".ts",
      "lines": 554,
      "size": 16443,
      "type": "utility",
      "exports": [
        {
          "name": "getContextualMemory",
          "kind": "function",
          "line": 355,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  query: string,\n  options?: {\n    maxSemanticEvents?: number;\n    maxRecentEvents?: number;\n    includeTrends?: boolean;\n    includeEntities?: boolean;\n    includeTemporal?: boolean;\n    includeCrossPillar?: boolean;\n  }\n)"
        },
        {
          "name": "formatContextualMemory",
          "kind": "function",
          "line": 468,
          "isDefault": false,
          "params": "(memory: ContextualMemory)"
        },
        {
          "name": "ContextualMemory",
          "kind": "type",
          "line": 13,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./vector-search",
          "names": [
            "searchEventsBySimilarity"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./trends",
          "names": [
            "getTrendSummaries",
            "formatTrendSummary",
            "getMetricKeys"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "sql",
            "gte",
            "lte",
            "and",
            "or",
            "like"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/cost-tracking.ts",
      "name": "cost-tracking.ts",
      "extension": ".ts",
      "lines": 501,
      "size": 13865,
      "type": "utility",
      "exports": [
        {
          "name": "calculateCost",
          "kind": "function",
          "line": 119,
          "isDefault": false,
          "params": "(\n  model: string,\n  tokens: TokenUsage\n)"
        },
        {
          "name": "trackUsage",
          "kind": "function",
          "line": 139,
          "isDefault": false,
          "params": "(\n  model: string,\n  operation: AIOperation,\n  tokens: TokenUsage,\n  options?: {\n    provider?: AIProvider;\n    durationMs?: number;\n    workspaceId?: string;\n    userId?: string;\n    metadata?: Record<string, any>;\n  }\n)"
        },
        {
          "name": "trackOpenAIUsage",
          "kind": "function",
          "line": 203,
          "isDefault": false,
          "params": "(\n  response: { usage?: { prompt_tokens?: number; completion_tokens?: number; total_tokens?: number } },\n  model: string,\n  operation: AIOperation,\n  options?: {\n    durationMs?: number;\n    workspaceId?: string;\n    userId?: string;\n    metadata?: Record<string, any>;\n  }\n)"
        },
        {
          "name": "trackSTTUsage",
          "kind": "function",
          "line": 230,
          "isDefault": false,
          "params": "(\n  durationSeconds: number,\n  model: string,\n  options?: {\n    workspaceId?: string;\n    userId?: string;\n    metadata?: Record<string, any>;\n  }\n)"
        },
        {
          "name": "getAggregatedUsage",
          "kind": "function",
          "line": 274,
          "isDefault": false,
          "params": "(options?: {\n  workspaceId?: string;\n  userId?: string;\n  startDate?: Date;\n  endDate?: Date;\n})"
        },
        {
          "name": "estimateMonthlyUsage",
          "kind": "function",
          "line": 341,
          "isDefault": false,
          "params": "(\n  workspaceId?: string\n)"
        },
        {
          "name": "formatCost",
          "kind": "function",
          "line": 377,
          "isDefault": false,
          "params": "(amount: number)"
        },
        {
          "name": "getCostSummary",
          "kind": "function",
          "line": 387,
          "isDefault": false,
          "params": "(options?: {\n  workspaceId?: string;\n  startDate?: Date;\n  endDate?: Date;\n})"
        },
        {
          "name": "flushUsageToDB",
          "kind": "function",
          "line": 440,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "clearUsageRecords",
          "kind": "function",
          "line": 477,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getUsageRecords",
          "kind": "function",
          "line": 485,
          "isDefault": false,
          "params": "(limit?: number)"
        },
        {
          "name": "getUsageSummary",
          "kind": "function",
          "line": 495,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "TokenUsage",
          "kind": "type",
          "line": 26,
          "isDefault": false
        },
        {
          "name": "CostBreakdown",
          "kind": "type",
          "line": 32,
          "isDefault": false
        },
        {
          "name": "UsageRecord",
          "kind": "type",
          "line": 38,
          "isDefault": false
        },
        {
          "name": "AggregatedUsage",
          "kind": "type",
          "line": 51,
          "isDefault": false
        },
        {
          "name": "AIOperation",
          "kind": "type",
          "line": 97,
          "isDefault": false
        },
        {
          "name": "AIProvider",
          "kind": "type",
          "line": 110,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 23
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 92
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 93
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 110
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 157
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 158
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 251
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 251
        }
      ],
      "dbOperations": [
        "INSERT"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/cross-pillar-insights.ts",
      "name": "cross-pillar-insights.ts",
      "extension": ".ts",
      "lines": 200,
      "size": 6549,
      "type": "utility",
      "exports": [
        {
          "name": "findCrossPillarCorrelations",
          "kind": "function",
          "line": 35,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  lookbackDays: number = 90\r\n)"
        },
        {
          "name": "formatCrossPillarInsights",
          "kind": "function",
          "line": 173,
          "isDefault": false,
          "params": "(insights: CrossPillarInsights)"
        },
        {
          "name": "CrossPillarCorrelation",
          "kind": "type",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "CrossPillarInsights",
          "kind": "type",
          "line": 23,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "observations",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "gte",
            "lte"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/deepgram-streaming.ts",
      "name": "deepgram-streaming.ts",
      "extension": ".ts",
      "lines": 237,
      "size": 8597,
      "type": "utility",
      "exports": [
        {
          "name": "startDeepgramStreamingSTT",
          "kind": "function",
          "line": 31,
          "isDefault": false,
          "params": "(\n  audioStream: MediaStream,\n  options: DeepgramStreamingOptions\n)"
        },
        {
          "name": "processFinalAudioWithGPT4oTranscribe",
          "kind": "function",
          "line": 227,
          "isDefault": false,
          "params": "(\n  audioBlob: Blob,\n  language: string = \"en\"\n)"
        },
        {
          "name": "DeepgramStreamingOptions",
          "kind": "type",
          "line": 16,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@deepgram/sdk",
          "names": [
            "createClient",
            "LiveTranscriptionEvents"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./stt-performance",
          "names": [
            "sttPerformanceMonitor"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 2
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 4
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 13
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 16
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 26
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 28
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 31
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 33
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 38
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 42
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 44
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 48
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 51
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 56
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 56
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 57
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 62
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 67
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 72
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 75
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 83
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 91
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 98
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 104
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 113
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 119
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 143
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 144
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 151
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 163
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 173
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 182
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 184
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 190
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 195
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 208
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 215
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 217
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 224
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 234
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/digest-attachments.test.ts",
      "name": "digest-attachments.test.ts",
      "extension": ".ts",
      "lines": 116,
      "size": 3981,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "it",
            "expect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./digest-attachments",
          "names": [
            "digestAttachments",
            "type Attachment"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/digest-attachments.ts",
      "name": "digest-attachments.ts",
      "extension": ".ts",
      "lines": 568,
      "size": 20324,
      "type": "utility",
      "exports": [
        {
          "name": "digestAttachments",
          "kind": "function",
          "line": 82,
          "isDefault": false,
          "params": "(\n  attachments: Attachment[],\n  opts?: { userId?: string; workspace?: string }\n)"
        },
        {
          "name": "Attachment",
          "kind": "type",
          "line": 4,
          "isDefault": false
        },
        {
          "name": "EmailChainMetadata",
          "kind": "type",
          "line": 17,
          "isDefault": false
        },
        {
          "name": "DigestResult",
          "kind": "type",
          "line": 28,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./openai",
          "names": [
            "openai",
            "heliconeHeaders"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 157
        },
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 200
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 1
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 179
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 216
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/embeddings.ts",
      "name": "embeddings.ts",
      "extension": ".ts",
      "lines": 56,
      "size": 1623,
      "type": "utility",
      "exports": [
        {
          "name": "generateEmbedding",
          "kind": "function",
          "line": 7,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "generateEventEmbedding",
          "kind": "function",
          "line": 19,
          "isDefault": false,
          "params": "(event: {\r\n  title: string;\r\n  description?: string | null;\r\n  eventType: string;\r\n})"
        },
        {
          "name": "generateEntityEmbedding",
          "kind": "function",
          "line": 31,
          "isDefault": false,
          "params": "(entity: {\r\n  name: string;\r\n  entityType: string;\r\n  metadata?: any;\r\n})"
        },
        {
          "name": "generateArtifactEmbedding",
          "kind": "function",
          "line": 44,
          "isDefault": false,
          "params": "(artifact: {\r\n  extractedText?: string | null;\r\n  artifactType: string;\r\n})"
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.embeddings",
          "line": 9
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/emotion-extraction.ts",
      "name": "emotion-extraction.ts",
      "extension": ".ts",
      "lines": 197,
      "size": 6000,
      "type": "utility",
      "exports": [
        {
          "name": "extractEmotionsFromText",
          "kind": "function",
          "line": 36,
          "isDefault": false,
          "params": "(\n  text: string,\n  workspace: WorkspaceKey\n)"
        },
        {
          "name": "getEmotionContext",
          "kind": "function",
          "line": 96,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  entityIds?: string[],\n  limit: number = 20\n)"
        },
        {
          "name": "formatEmotionContext",
          "kind": "function",
          "line": 172,
          "isDefault": false,
          "params": "(context: EmotionContext)"
        },
        {
          "name": "ExtractedEmotion",
          "kind": "type",
          "line": 17,
          "isDefault": false
        },
        {
          "name": "EmotionContext",
          "kind": "type",
          "line": 26,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 70
        }
      ],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/enterprise-context.ts",
      "name": "enterprise-context.ts",
      "extension": ".ts",
      "lines": 1113,
      "size": 38562,
      "type": "utility",
      "exports": [
        {
          "name": "getDatabaseSchema",
          "kind": "function",
          "line": 654,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "generateEnterpriseContext",
          "kind": "function",
          "line": 722,
          "isDefault": false,
          "params": "(\n  query: string,\n  workspace: WorkspaceKey,\n  contextType?:\n    | \"health\"\n    | \"wealth\"\n    | \"fitness\"\n    | \"people\"\n    | \"context\"\n    | \"profile\"\n    | \"work_setup\"\n    | \"work_architecture\"\n    | \"general\",\n  contextId?: string\n)"
        },
        {
          "name": "formatEnterpriseContext",
          "kind": "function",
          "line": 933,
          "isDefault": false,
          "params": "(\n  context: EnterpriseContext, \n  contextType?:\n    | \"health\"\n    | \"wealth\"\n    | \"fitness\"\n    | \"people\"\n    | \"context\"\n    | \"profile\"\n    | \"work_setup\"\n    | \"work_architecture\"\n    | \"general\"\n)"
        },
        {
          "name": "EntityContext",
          "kind": "type",
          "line": 32,
          "isDefault": false
        },
        {
          "name": "EventContext",
          "kind": "type",
          "line": 70,
          "isDefault": false
        },
        {
          "name": "EnterpriseContext",
          "kind": "type",
          "line": 90,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities",
            "entityRelationships",
            "artifacts",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "or",
            "and",
            "sql",
            "desc",
            "ilike",
            "like",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./embeddings",
          "names": [
            "generateEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./vector-search",
          "names": [
            "searchEventsBySimilarity",
            "searchEntitiesBySimilarity"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./fuzzy-matching",
          "names": [
            "scoreEntityMatch",
            "areNamesSimilar",
            "expandNickname"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./context-scoring",
          "names": [
            "scoreEntityContext",
            "scoreEventContext",
            "prioritizeContexts",
            "getTopContexts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./temporal-context",
          "names": [
            "findTemporalPatterns",
            "formatTemporalContext",
            "type TemporalContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./goals-extraction",
          "names": [
            "getGoalsContext",
            "formatGoalsContext",
            "extractGoalsFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./emotion-extraction",
          "names": [
            "getEmotionContext",
            "formatEmotionContext",
            "extractEmotionsFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./cross-pillar-insights",
          "names": [
            "findCrossPillarCorrelations",
            "formatCrossPillarInsights",
            "type CrossPillarInsights"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./context-cache",
          "names": [
            "contextCache"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "userProfiles"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 169
        }
      ],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/entity-resolver.ts",
      "name": "entity-resolver.ts",
      "extension": ".ts",
      "lines": 352,
      "size": 11780,
      "type": "utility",
      "exports": [
        {
          "name": "extractEntityMentions",
          "kind": "function",
          "line": 47,
          "isDefault": false,
          "params": "(message: string)"
        },
        {
          "name": "resolveEntityCandidates",
          "kind": "function",
          "line": 172,
          "isDefault": false,
          "params": "(\n  mention: EntityMention,\n  workspace: WorkspaceKey,\n  dbOverride?: any\n)"
        },
        {
          "name": "scoreEntityMatch",
          "kind": "function",
          "line": 322,
          "isDefault": false,
          "params": "(mention: EntityMention, candidate: EntityCandidate)"
        },
        {
          "name": "EntityType",
          "kind": "type",
          "line": 11,
          "isDefault": false
        },
        {
          "name": "EntityMention",
          "kind": "type",
          "line": 22,
          "isDefault": false
        },
        {
          "name": "EntityCandidate",
          "kind": "type",
          "line": 30,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "eventEntities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "sql",
            "or",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./embeddings",
          "names": [
            "generateEntityEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./confidence-config",
          "names": [
            "CONFIDENCE"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 67
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 49
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 72
        }
      ],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/experience/packs.ts",
      "name": "packs.ts",
      "extension": ".ts",
      "lines": 139,
      "size": 6828,
      "type": "utility",
      "exports": [
        {
          "name": "experiencePacks",
          "kind": "constant",
          "line": 60,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/chat/fitness-preamble",
          "names": [
            "FITNESS_SYSTEM_APPENDIX"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/experience/selector.ts",
      "name": "selector.ts",
      "extension": ".ts",
      "lines": 21,
      "size": 731,
      "type": "utility",
      "exports": [
        {
          "name": "getExperiencePack",
          "kind": "function",
          "line": 4,
          "isDefault": false,
          "params": "(args: ExperiencePackSelectorArgs)"
        }
      ],
      "imports": [
        {
          "source": "./packs",
          "names": [
            "experiencePacks"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/experience/types.ts",
      "name": "types.ts",
      "extension": ".ts",
      "lines": 62,
      "size": 1304,
      "type": "utility",
      "exports": [
        {
          "name": "ChatContextType",
          "kind": "type",
          "line": 4,
          "isDefault": false
        },
        {
          "name": "ExperiencePackId",
          "kind": "type",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "RetrievalProfile",
          "kind": "type",
          "line": 24,
          "isDefault": false
        },
        {
          "name": "ExperiencePack",
          "kind": "type",
          "line": 33,
          "isDefault": false
        },
        {
          "name": "ExperiencePackSelectorArgs",
          "kind": "type",
          "line": 56,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extract.ts",
      "name": "extract.ts",
      "extension": ".ts",
      "lines": 350,
      "size": 19167,
      "type": "utility",
      "exports": [
        {
          "name": "extractFromText",
          "kind": "function",
          "line": 80,
          "isDefault": false,
          "params": "(\n  text: string,\n  enterpriseContext?: { mentionedEntities: any[]; relevantEvents: any[]; databaseSchema: string },\n  entityResolutions?: Map<string, string | null> // mention text -> entityId\n)"
        },
        {
          "name": "captureExtractionSchema",
          "kind": "constant",
          "line": 66,
          "isDefault": false
        },
        {
          "name": "CaptureExtraction",
          "kind": "type",
          "line": 71,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 273
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/apply-operations.ts",
      "name": "apply-operations.ts",
      "extension": ".ts",
      "lines": 660,
      "size": 17785,
      "type": "utility",
      "exports": [
        {
          "name": "applyOperations",
          "kind": "function",
          "line": 32,
          "isDefault": false,
          "params": "(\n  operations: ExtractionOperation[],\n  workspaceId: string,\n  db: any\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/extraction/context-fetch.ts",
      "name": "context-fetch.ts",
      "extension": ".ts",
      "lines": 342,
      "size": 11576,
      "type": "utility",
      "exports": [
        {
          "name": "fetchEntityContext",
          "kind": "function",
          "line": 22,
          "isDefault": false,
          "params": "(\n  mentions: EntityMentionDetection[],\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "matchMentionsToContext",
          "kind": "function",
          "line": 212,
          "isDefault": false,
          "params": "(\n  mentions: EntityMentionDetection[],\n  context: EntityContext[]\n)"
        },
        {
          "name": "buildContextSummary",
          "kind": "function",
          "line": 257,
          "isDefault": false,
          "params": "(context: EntityContext[])"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/extraction/deduplication.ts",
      "name": "deduplication.ts",
      "extension": ".ts",
      "lines": 337,
      "size": 9335,
      "type": "utility",
      "exports": [
        {
          "name": "analyzeFieldChange",
          "kind": "function",
          "line": 31,
          "isDefault": false,
          "params": "(\n  field: string,\n  extractedValue: any,\n  existingContext: EntityContext\n)"
        },
        {
          "name": "classifyOperations",
          "kind": "function",
          "line": 200,
          "isDefault": false,
          "params": "(\n  operations: ExtractionOperation[],\n  contextMap: Map<string, EntityContext>\n)"
        },
        {
          "name": "filterDuplicateOperations",
          "kind": "function",
          "line": 267,
          "isDefault": false,
          "params": "(\n  operations: ExtractionOperation[],\n  contextMap: Map<string, EntityContext>\n)"
        },
        {
          "name": "isInformationInNotes",
          "kind": "function",
          "line": 299,
          "isDefault": false,
          "params": "(info: string, existingNotes: string)"
        },
        {
          "name": "InfoStatus",
          "kind": "type",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "AnalyzedChange",
          "kind": "type",
          "line": 20,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/extraction-e2e.test.ts",
      "name": "extraction-e2e.test.ts",
      "extension": ".ts",
      "lines": 381,
      "size": 14414,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test",
            "beforeAll"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/extraction-integration.test.ts",
      "name": "extraction-integration.test.ts",
      "extension": ".ts",
      "lines": 275,
      "size": 9608,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test",
            "vi",
            "beforeEach"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./mention-detection",
          "names": [
            "hasLikelyMentions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./integration",
          "names": [
            "shouldUseMultiTarget"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/insights/nl-to-query",
          "names": [
            "detectInsightQuery",
            "buildQuery"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/extraction-simulation.test.ts",
      "name": "extraction-simulation.test.ts",
      "extension": ".ts",
      "lines": 341,
      "size": 11924,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "it",
            "expect",
            "vi",
            "beforeEach"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./mention-detection",
          "names": [
            "detectEntityMentions",
            "hasLikelyMentions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./deduplication",
          "names": [
            "filterDuplicateOperations"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./context-fetch",
          "names": [
            "buildContextSummary"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/extraction.test.ts",
      "name": "extraction.test.ts",
      "extension": ".ts",
      "lines": 218,
      "size": 7721,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./mention-detection",
          "names": [
            "hasLikelyMentions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./deduplication",
          "names": [
            "analyzeFieldChange",
            "isInformationInNotes"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 245,
      "size": 8971,
      "type": "utility",
      "exports": [
        {
          "name": "runMultiTargetExtraction",
          "kind": "function",
          "line": 42,
          "isDefault": false,
          "params": "(\n  transcript: string,\n  options: {\n    workspaceId: string;\n    db: any;\n    autoApply?: boolean;\n    autoCompleteOpenTasks?: boolean;\n    now?: Date;\n  }\n)"
        },
        {
          "name": "buildExtractionSummary",
          "kind": "function",
          "line": 149,
          "isDefault": false,
          "params": "(\n  extraction: MultiTargetExtractionResult,\n  applied?: ApplyResult,\n  taskCompletion?: TaskCompletionResult & { completedTaskIds: string[] }\n)"
        },
        {
          "name": "shouldAutoApply",
          "kind": "function",
          "line": 226,
          "isDefault": false,
          "params": "(extraction: MultiTargetExtractionResult)"
        }
      ],
      "imports": [
        {
          "source": "./mention-detection",
          "names": [
            "detectEntityMentions",
            "hasLikelyMentions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./context-fetch",
          "names": [
            "fetchEntityContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./multi-target-extract",
          "names": [
            "extractMultiTarget"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./apply-operations",
          "names": [
            "applyOperations"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./deduplication",
          "names": [
            "classifyOperations",
            "filterDuplicateOperations"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./task-completion",
          "names": [
            "runTaskCompletionDetection",
            "type TaskCompletionResult"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/integration.ts",
      "name": "integration.ts",
      "extension": ".ts",
      "lines": 349,
      "size": 10429,
      "type": "utility",
      "exports": [
        {
          "name": "enhancedWorkExtraction",
          "kind": "function",
          "line": 55,
          "isDefault": false,
          "params": "(\n  text: string,\n  options: {\n    workspaceId: string;\n    db: any;\n    aliases?: Record<string, string[]> | any;  // Accept both formats\n    knownEntities?: Array<{ id: string; name: string; entityType: string }>;\n    useMultiTarget?: boolean;\n    autoApply?: boolean;\n    now?: Date;\n    isActivityLog?: boolean;\n    extractionContext?: string;\n  }\n)"
        },
        {
          "name": "shouldUseMultiTarget",
          "kind": "function",
          "line": 315,
          "isDefault": false,
          "params": "(\n  text: string,\n  workspaceKey: string\n)"
        },
        {
          "name": "EnhancedExtractionResult",
          "kind": "type",
          "line": 21,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./index",
          "names": [
            "runMultiTargetExtraction",
            "buildExtractionSummary",
            "shouldAutoApply"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "../router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/mention-detection.ts",
      "name": "mention-detection.ts",
      "extension": ".ts",
      "lines": 196,
      "size": 6070,
      "type": "utility",
      "exports": [
        {
          "name": "detectEntityMentions",
          "kind": "function",
          "line": 27,
          "isDefault": false,
          "params": "(\n  transcript: string\n)"
        },
        {
          "name": "hasLikelyMentions",
          "kind": "function",
          "line": 178,
          "isDefault": false,
          "params": "(transcript: string)"
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "../cost-tracking",
          "names": [
            "trackOpenAIUsage"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "../router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 58
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 30
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 63
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/multi-target-extract.ts",
      "name": "multi-target-extract.ts",
      "extension": ".ts",
      "lines": 492,
      "size": 14662,
      "type": "utility",
      "exports": [
        {
          "name": "extractMultiTarget",
          "kind": "function",
          "line": 222,
          "isDefault": false,
          "params": "(\n  transcript: string,\n  mentions: EntityMentionDetection[],\n  context: EntityContext[],\n  options: {\n    workspaceId: string;\n    now?: Date;\n  }\n)"
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./context-fetch",
          "names": [
            "buildContextSummary",
            "matchMentionsToContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "../cost-tracking",
          "names": [
            "trackOpenAIUsage"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 257
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 231
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 265
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/task-completion.ts",
      "name": "task-completion.ts",
      "extension": ".ts",
      "lines": 422,
      "size": 13104,
      "type": "utility",
      "exports": [
        {
          "name": "findOpenTasksForEntities",
          "kind": "function",
          "line": 66,
          "isDefault": false,
          "params": "(\n  entityIds: string[],\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "detectTaskCompletion",
          "kind": "function",
          "line": 162,
          "isDefault": false,
          "params": "(\n  transcript: string,\n  openTasks: OpenTask[]\n)"
        },
        {
          "name": "completeTask",
          "kind": "function",
          "line": 302,
          "isDefault": false,
          "params": "(\n  taskId: string,\n  reason: string,\n  db: any\n)"
        },
        {
          "name": "runTaskCompletionDetection",
          "kind": "function",
          "line": 362,
          "isDefault": false,
          "params": "(\n  transcript: string,\n  entityIds: string[],\n  workspaceId: string,\n  db: any,\n  options: {\n    autoComplete?: boolean;\n  } = {}\n)"
        },
        {
          "name": "OpenTask",
          "kind": "type",
          "line": 29,
          "isDefault": false
        },
        {
          "name": "TaskCompletionMatch",
          "kind": "type",
          "line": 37,
          "isDefault": false
        },
        {
          "name": "TaskCompletionResult",
          "kind": "type",
          "line": 44,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "inArray",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "eventEntities",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/cost-tracking",
          "names": [
            "trackOpenAIUsage"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 223
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 170
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 231
        }
      ],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/extraction/types.ts",
      "name": "types.ts",
      "extension": ".ts",
      "lines": 342,
      "size": 8601,
      "type": "utility",
      "exports": [
        {
          "name": "entityMentionSchema",
          "kind": "constant",
          "line": 260,
          "isDefault": false
        },
        {
          "name": "operationSchema",
          "kind": "constant",
          "line": 266,
          "isDefault": false
        },
        {
          "name": "extractionResultSchema",
          "kind": "constant",
          "line": 336,
          "isDefault": false
        },
        {
          "name": "EntityContext",
          "kind": "type",
          "line": 19,
          "isDefault": false
        },
        {
          "name": "EntityMentionDetection",
          "kind": "type",
          "line": 52,
          "isDefault": false
        },
        {
          "name": "CreateEventOperation",
          "kind": "type",
          "line": 75,
          "isDefault": false
        },
        {
          "name": "UpdateEntityOperation",
          "kind": "type",
          "line": 91,
          "isDefault": false
        },
        {
          "name": "CreateEntityOperation",
          "kind": "type",
          "line": 107,
          "isDefault": false
        },
        {
          "name": "LinkEntitiesOperation",
          "kind": "type",
          "line": 119,
          "isDefault": false
        },
        {
          "name": "CreateTaskOperation",
          "kind": "type",
          "line": 130,
          "isDefault": false
        },
        {
          "name": "CompleteTaskOperation",
          "kind": "type",
          "line": 144,
          "isDefault": false
        },
        {
          "name": "ExtractionOperation",
          "kind": "type",
          "line": 154,
          "isDefault": false
        },
        {
          "name": "InformationClassification",
          "kind": "type",
          "line": 169,
          "isDefault": false
        },
        {
          "name": "MultiTargetExtractionResult",
          "kind": "type",
          "line": 188,
          "isDefault": false
        },
        {
          "name": "AppliedOperation",
          "kind": "type",
          "line": 223,
          "isDefault": false
        },
        {
          "name": "ApplyResult",
          "kind": "type",
          "line": 233,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/extraction/voice-scenario.test.ts",
      "name": "voice-scenario.test.ts",
      "extension": ".ts",
      "lines": 387,
      "size": 12836,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test",
            "vi",
            "beforeEach"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./mention-detection",
          "names": [
            "hasLikelyMentions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./deduplication",
          "names": [
            "analyzeFieldChange",
            "isInformationInNotes",
            "classifyOperations",
            "filterDuplicateOperations"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/fuzzy-matching.ts",
      "name": "fuzzy-matching.ts",
      "extension": ".ts",
      "lines": 341,
      "size": 11036,
      "type": "utility",
      "exports": [
        {
          "name": "levenshteinSimilarity",
          "kind": "function",
          "line": 9,
          "isDefault": false,
          "params": "(str1: string, str2: string)"
        },
        {
          "name": "phoneticSimilarity",
          "kind": "function",
          "line": 21,
          "isDefault": false,
          "params": "(str1: string, str2: string)"
        },
        {
          "name": "expandNickname",
          "kind": "function",
          "line": 32,
          "isDefault": false,
          "params": "(nickname: string)"
        },
        {
          "name": "areNamesSimilar",
          "kind": "function",
          "line": 47,
          "isDefault": false,
          "params": "(name1: string, name2: string, threshold: number = 0.7)"
        },
        {
          "name": "scoreEntityMatch",
          "kind": "function",
          "line": 68,
          "isDefault": false,
          "params": "(\r\n  mention: string,\r\n  candidate: {\r\n    name: string;\r\n    preferredName?: string | null;\r\n    firstName?: string | null;\r\n    lastName?: string | null;\r\n    metadata?: any;\r\n  }\r\n)"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/goals-extraction.ts",
      "name": "goals-extraction.ts",
      "extension": ".ts",
      "lines": 192,
      "size": 5267,
      "type": "utility",
      "exports": [
        {
          "name": "extractGoalsFromText",
          "kind": "function",
          "line": 34,
          "isDefault": false,
          "params": "(\n  text: string,\n  workspace: WorkspaceKey\n)"
        },
        {
          "name": "getGoalsContext",
          "kind": "function",
          "line": 98,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  limit: number = 20\n)"
        },
        {
          "name": "formatGoalsContext",
          "kind": "function",
          "line": 159,
          "isDefault": false,
          "params": "(context: GoalsContext)"
        },
        {
          "name": "ExtractedGoal",
          "kind": "type",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "GoalsContext",
          "kind": "type",
          "line": 25,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "like",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 72
        }
      ],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/initialization-completion.ts",
      "name": "initialization-completion.ts",
      "extension": ".ts",
      "lines": 107,
      "size": 3499,
      "type": "utility",
      "exports": [
        {
          "name": "checkInitializationCompletion",
          "kind": "function",
          "line": 22,
          "isDefault": false,
          "params": "(\n  conversationHistory: string,\n  workspace: WorkspaceKey,\n  currentMessage: string\n)"
        },
        {
          "name": "InitializationCompletionCheck",
          "kind": "type",
          "line": 12,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 67
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/insights.ts",
      "name": "insights.ts",
      "extension": ".ts",
      "lines": 323,
      "size": 8122,
      "type": "utility",
      "exports": [
        {
          "name": "shouldExtractInsights",
          "kind": "function",
          "line": 41,
          "isDefault": false,
          "params": "(\n  eventType: string,\n  entityType?: string\n)"
        },
        {
          "name": "generateInsightPrompts",
          "kind": "function",
          "line": 67,
          "isDefault": false,
          "params": "(\n  eventType: string,\n  eventTitle: string,\n  eventDescription?: string,\n  entityType?: string,\n  entityName?: string\n)"
        },
        {
          "name": "extractInsightsFromResponse",
          "kind": "function",
          "line": 169,
          "isDefault": false,
          "params": "(\n  userResponse: string,\n  prompts: InsightPrompt[],\n  workspace: WorkspaceKey\n)"
        },
        {
          "name": "storeInsights",
          "kind": "function",
          "line": 227,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  insights: ExtractedInsight[],\n  eventId?: string,\n  entityId?: string\n)"
        },
        {
          "name": "getInsights",
          "kind": "function",
          "line": 287,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  eventId?: string,\n  entityId?: string\n)"
        },
        {
          "name": "InsightPrompt",
          "kind": "type",
          "line": 18,
          "isDefault": false
        },
        {
          "name": "ExtractedInsight",
          "kind": "type",
          "line": 24,
          "isDefault": false
        },
        {
          "name": "InsightExtractionResult",
          "kind": "type",
          "line": 32,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 201
        }
      ],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/major-updates-detector.ts",
      "name": "major-updates-detector.ts",
      "extension": ".ts",
      "lines": 222,
      "size": 6796,
      "type": "utility",
      "exports": [
        {
          "name": "scoreEventSignificance",
          "kind": "function",
          "line": 36,
          "isDefault": false,
          "params": "(\n  eventId: string,\n  title: string,\n  description: string | null,\n  eventType: string,\n  workspace: WorkspaceKey\n)"
        },
        {
          "name": "detectMajorLifeUpdates",
          "kind": "function",
          "line": 121,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  lookbackDays: number = 30,\n  threshold: number = 0.7\n)"
        },
        {
          "name": "categorizeUpdate",
          "kind": "function",
          "line": 194,
          "isDefault": false,
          "params": "(update: MajorLifeUpdate)"
        },
        {
          "name": "SignificanceScore",
          "kind": "type",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "MajorLifeUpdate",
          "kind": "type",
          "line": 24,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "gte",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 74
        }
      ],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/memory-extractor.ts",
      "name": "memory-extractor.ts",
      "extension": ".ts",
      "lines": 181,
      "size": 5167,
      "type": "utility",
      "exports": [
        {
          "name": "extractMemoryCandidates",
          "kind": "function",
          "line": 25,
          "isDefault": false,
          "params": "(\n  threadId: string,\n  workspace: WorkspaceKey\n)"
        },
        {
          "name": "storeMemory",
          "kind": "function",
          "line": 103,
          "isDefault": false,
          "params": "(\n  candidate: MemoryCandidate,\n  workspace: WorkspaceKey\n)"
        },
        {
          "name": "MemoryType",
          "kind": "type",
          "line": 9,
          "isDefault": false
        },
        {
          "name": "MemoryCandidate",
          "kind": "type",
          "line": 11,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "userMemory",
            "threads",
            "messages"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./embeddings",
          "names": [
            "generateEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 69
        }
      ],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/memory.ts",
      "name": "memory.ts",
      "extension": ".ts",
      "lines": 160,
      "size": 5572,
      "type": "utility",
      "exports": [
        {
          "name": "retrieveRelevantMemory",
          "kind": "function",
          "line": 23,
          "isDefault": false,
          "params": "(\n  message: string,\n  workspace: WorkspaceKey,\n  limit: number = 5\n)"
        },
        {
          "name": "formatMemoryForContext",
          "kind": "function",
          "line": 135,
          "isDefault": false,
          "params": "(memories: UserMemory[])"
        },
        {
          "name": "UserMemory",
          "kind": "type",
          "line": 8,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "userMemory"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "inArray",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./embeddings",
          "names": [
            "generateEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "RAW_QUERY",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/model-catalog.ts",
      "name": "model-catalog.ts",
      "extension": ".ts",
      "lines": 198,
      "size": 5788,
      "type": "utility",
      "exports": [
        {
          "name": "listAvailableModels",
          "kind": "function",
          "line": 115,
          "isDefault": false,
          "params": "(provider: ModelProvider)"
        },
        {
          "name": "getModelCapabilities",
          "kind": "function",
          "line": 166,
          "isDefault": false,
          "params": "(modelId: string)"
        },
        {
          "name": "verifyModelAccess",
          "kind": "function",
          "line": 173,
          "isDefault": false,
          "params": "(modelId: string, provider: ModelProvider = \"openai\")"
        },
        {
          "name": "getModelPool",
          "kind": "function",
          "line": 181,
          "isDefault": false,
          "params": "(task: \"chat_reasoning\" | \"structure_extraction\" | \"speech_to_text\" | \"embeddings\")"
        },
        {
          "name": "ModelProvider",
          "kind": "type",
          "line": 4,
          "isDefault": false
        },
        {
          "name": "ModelCapabilities",
          "kind": "type",
          "line": 6,
          "isDefault": false
        },
        {
          "name": "AvailableModel",
          "kind": "type",
          "line": 17,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/model-router.ts",
      "name": "model-router.ts",
      "extension": ".ts",
      "lines": 679,
      "size": 21782,
      "type": "utility",
      "exports": [
        {
          "name": "getModelsByTier",
          "kind": "function",
          "line": 193,
          "isDefault": false,
          "params": "(tier: \"premium\" | \"standard\" | \"budget\")"
        },
        {
          "name": "getModelsByProvider",
          "kind": "function",
          "line": 200,
          "isDefault": false,
          "params": "(provider: ModelProvider)"
        },
        {
          "name": "getAllModels",
          "kind": "function",
          "line": 207,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "detectComplexity",
          "kind": "function",
          "line": 225,
          "isDefault": false,
          "params": "(input: string)"
        },
        {
          "name": "selectModelByIntent",
          "kind": "function",
          "line": 334,
          "isDefault": false,
          "params": "(\n  input: string,\n  intentHint: IntentBasedModelHint,\n  userPreference: ModelId = \"auto\",\n  options?: {\n    forceProvider?: ModelProvider;\n  }\n)"
        },
        {
          "name": "selectModel",
          "kind": "function",
          "line": 392,
          "isDefault": false,
          "params": "(\n  input: string,\n  userPreference: ModelId = \"auto\",\n  options?: {\n    forceProvider?: ModelProvider;\n    maxCostPer1k?: number;\n    requireJsonMode?: boolean;\n  }\n)"
        },
        {
          "name": "chatCompletion",
          "kind": "function",
          "line": 500,
          "isDefault": false,
          "params": "(options: ChatCompletionOptions)"
        },
        {
          "name": "chatCompletionWithFallback",
          "kind": "function",
          "line": 611,
          "isDefault": false,
          "params": "(\n  options: ChatCompletionOptions,\n  fallbackOptions: FallbackOptions\n)"
        },
        {
          "name": "getEffectiveModel",
          "kind": "function",
          "line": 665,
          "isDefault": false,
          "params": "(\n  input: string,\n  preferences: UserModelPreferences = DEFAULT_PREFERENCES\n)"
        },
        {
          "name": "MODEL_CONFIGS",
          "kind": "constant",
          "line": 48,
          "isDefault": false
        },
        {
          "name": "ModelId",
          "kind": "type",
          "line": 16,
          "isDefault": false
        },
        {
          "name": "ModelProvider",
          "kind": "type",
          "line": 34,
          "isDefault": false
        },
        {
          "name": "ModelConfig",
          "kind": "type",
          "line": 36,
          "isDefault": false
        },
        {
          "name": "ComplexityScore",
          "kind": "type",
          "line": 215,
          "isDefault": false
        },
        {
          "name": "ModelSelectionResult",
          "kind": "type",
          "line": 318,
          "isDefault": false
        },
        {
          "name": "IntentBasedModelHint",
          "kind": "type",
          "line": 325,
          "isDefault": false
        },
        {
          "name": "ChatMessage",
          "kind": "type",
          "line": 473,
          "isDefault": false
        },
        {
          "name": "ChatCompletionOptions",
          "kind": "type",
          "line": 478,
          "isDefault": false
        },
        {
          "name": "ChatCompletionResult",
          "kind": "type",
          "line": 486,
          "isDefault": false
        },
        {
          "name": "FallbackOptions",
          "kind": "type",
          "line": 602,
          "isDefault": false
        },
        {
          "name": "UserModelPreferences",
          "kind": "type",
          "line": 653,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 514
        },
        {
          "service": "anthropic",
          "detail": "anthropic.messages",
          "line": 566
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 511
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 521
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 563
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 572
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/openai.ts",
      "name": "openai.ts",
      "extension": ".ts",
      "lines": 78,
      "size": 2713,
      "type": "utility",
      "exports": [
        {
          "name": "heliconeHeaders",
          "kind": "function",
          "line": 32,
          "isDefault": false,
          "params": "(props: {\n  task?: string;\n  workspace?: string;\n  userId?: string;\n  sessionId?: string;    // Thread/conversation ID  groups requests in Helicone Sessions\n  sessionName?: string;  // Human-readable session label\n  promptId?: string;     // Prompt template identifier for versioning\n  cacheBucket?: string;  // Override default cache bucket (e.g. \"extraction-v2\")"
        },
        {
          "name": "openai",
          "kind": "constant",
          "line": 7,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "openai",
          "names": [
            "OpenAI"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "new OpenAI(",
          "line": 7
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 4
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 4
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 5
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 5
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 9
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 10
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 12
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 12
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 13
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 15
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 21
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 30
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 32
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 36
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 42
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 45
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 46
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 47
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 48
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 51
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 53
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 58
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 59
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 60
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 65
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 70
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 72
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 73
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/production-telemetry.ts",
      "name": "production-telemetry.ts",
      "extension": ".ts",
      "lines": 193,
      "size": 6301,
      "type": "utility",
      "exports": [
        {
          "name": "hashInput",
          "kind": "function",
          "line": 66,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "logProductionExtraction",
          "kind": "function",
          "line": 73,
          "isDefault": false,
          "params": "(args: {\r\n  inputText: string;\r\n  extractionSuccess: boolean;\r\n  extraction: any;\r\n  autoApplied: boolean;\r\n  riskLevel: string;\r\n  resolutionsUsed?: number;\r\n  knownEntitiesUsed?: number;\r\n  durationMs?: number;\r\n  db?: any;\r\n})"
        },
        {
          "name": "logUserFeedback",
          "kind": "function",
          "line": 132,
          "isDefault": false,
          "params": "(args: {\r\n  auditId: string;\r\n  feedback: \"good\" | \"bad\" | \"edited\";\r\n  errorCategory?: string;\r\n  db?: any;\r\n})"
        },
        {
          "name": "getTelemetrySummary",
          "kind": "function",
          "line": 160,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "resetTelemetry",
          "kind": "function",
          "line": 183,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "ProductionExtractionLog",
          "kind": "type",
          "line": 21,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "crypto",
          "names": [
            "crypto"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "UPDATE"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/response-calibration.ts",
      "name": "response-calibration.ts",
      "extension": ".ts",
      "lines": 100,
      "size": 3198,
      "type": "utility",
      "exports": [
        {
          "name": "calibrateResponse",
          "kind": "function",
          "line": 21,
          "isDefault": false,
          "params": "(\n  input: string,\n  intent: AgentIntent,\n  capturedCount?: number,\n)"
        },
        {
          "name": "ResponseStyle",
          "kind": "type",
          "line": 10,
          "isDefault": false
        },
        {
          "name": "CalibrationResult",
          "kind": "type",
          "line": 12,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/response-strategy.ts",
      "name": "response-strategy.ts",
      "extension": ".ts",
      "lines": 269,
      "size": 7498,
      "type": "utility",
      "exports": [
        {
          "name": "getResponseStrategy",
          "kind": "function",
          "line": 32,
          "isDefault": false,
          "params": "(\n  intent: AgentIntent,\n  workspace: \"work\" | \"personal\",\n  options?: {\n    hasExtraction?: boolean;\n    extractionCount?: number;\n    userPreference?: \"verbose\" | \"minimal\" | \"auto\";\n  }\n)"
        },
        {
          "name": "getMinimalConfirmation",
          "kind": "function",
          "line": 153,
          "isDefault": false,
          "params": "(\n  extractionCount: number,\n  entityTypes: string[],\n  eventTypes: string[]\n)"
        },
        {
          "name": "buildMultiTargetConfirmation",
          "kind": "function",
          "line": 190,
          "isDefault": false,
          "params": "(\n  applySummary: {\n    eventsCreated: number;\n    entitiesCreated: number;\n    entitiesUpdated: number;\n    tasksCreated: number;\n    linksCreated: number;\n  },\n  operations?: Array<{ type: string; data?: any; entityId?: string }>\n)"
        },
        {
          "name": "getAdjustedSystemPrompt",
          "kind": "function",
          "line": 258,
          "isDefault": false,
          "params": "(\n  basePrompt: string,\n  strategy: ResponseStrategy\n)"
        },
        {
          "name": "ResponseMode",
          "kind": "type",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "ResponseStrategy",
          "kind": "type",
          "line": 21,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./agent/intent",
          "names": [
            "AgentIntent"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/risk-classifier.ts",
      "name": "risk-classifier.ts",
      "extension": ".ts",
      "lines": 151,
      "size": 4847,
      "type": "utility",
      "exports": [
        {
          "name": "classifyChangeRisk",
          "kind": "function",
          "line": 19,
          "isDefault": false,
          "params": "(proposedChanges: ProposedChange[])"
        },
        {
          "name": "summarizeAutoApplyChanges",
          "kind": "function",
          "line": 112,
          "isDefault": false,
          "params": "(proposedChanges: ProposedChange[])"
        },
        {
          "name": "RiskLevel",
          "kind": "type",
          "line": 3,
          "isDefault": false
        },
        {
          "name": "RiskAssessment",
          "kind": "type",
          "line": 5,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/router.ts",
      "name": "router.ts",
      "extension": ".ts",
      "lines": 209,
      "size": 6681,
      "type": "utility",
      "exports": [
        {
          "name": "modelForTask",
          "kind": "function",
          "line": 42,
          "isDefault": false,
          "params": "(task: AiTask, intent?: AgentIntent)"
        },
        {
          "name": "getModelPoolForTask",
          "kind": "function",
          "line": 87,
          "isDefault": false,
          "params": "(task: AiTask)"
        },
        {
          "name": "verifyModelAccessForTask",
          "kind": "function",
          "line": 100,
          "isDefault": false,
          "params": "(\n  modelId: string,\n  provider: ModelProvider = \"openai\"\n)"
        },
        {
          "name": "routeMessage",
          "kind": "function",
          "line": 110,
          "isDefault": false,
          "params": "(\n  task: AiTask,\n  message: string,\n  context?: ThreadContext\n)"
        },
        {
          "name": "executeWithFallback",
          "kind": "function",
          "line": 159,
          "isDefault": false
        },
        {
          "name": "AiTask",
          "kind": "type",
          "line": 7,
          "isDefault": false
        },
        {
          "name": "RoutingDecision",
          "kind": "type",
          "line": 16,
          "isDefault": false
        },
        {
          "name": "RetryPolicy",
          "kind": "type",
          "line": 24,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./model-catalog",
          "names": [
            "getModelPool",
            "verifyModelAccess",
            "type ModelProvider"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./task-classifier",
          "names": [
            "classifyTask",
            "type TaskClassification",
            "type ThreadContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/stt-performance.ts",
      "name": "stt-performance.ts",
      "extension": ".ts",
      "lines": 185,
      "size": 4908,
      "type": "utility",
      "exports": [
        {
          "name": "measureChunkProcessing",
          "kind": "function",
          "line": 134,
          "isDefault": false
        },
        {
          "name": "sttPerformanceMonitor",
          "kind": "constant",
          "line": 129,
          "isDefault": false
        },
        {
          "name": "STTMetrics",
          "kind": "type",
          "line": 6,
          "isDefault": false
        },
        {
          "name": "STTAggregatedMetrics",
          "kind": "type",
          "line": 17,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/task-classifier.ts",
      "name": "task-classifier.ts",
      "extension": ".ts",
      "lines": 193,
      "size": 6494,
      "type": "utility",
      "exports": [
        {
          "name": "classifyTask",
          "kind": "function",
          "line": 170,
          "isDefault": false,
          "params": "(\n  message: string,\n  context?: ThreadContext,\n  useLLM: boolean = false\n)"
        },
        {
          "name": "TaskComplexity",
          "kind": "type",
          "line": 4,
          "isDefault": false
        },
        {
          "name": "TaskDomain",
          "kind": "type",
          "line": 5,
          "isDefault": false
        },
        {
          "name": "TaskClassification",
          "kind": "type",
          "line": 7,
          "isDefault": false
        },
        {
          "name": "ThreadContext",
          "kind": "type",
          "line": 16,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 123
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/temporal-context.ts",
      "name": "temporal-context.ts",
      "extension": ".ts",
      "lines": 283,
      "size": 8926,
      "type": "utility",
      "exports": [
        {
          "name": "findTemporalPatterns",
          "kind": "function",
          "line": 41,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  referenceDate: Date = new Date()"
        },
        {
          "name": "formatTemporalContext",
          "kind": "function",
          "line": 226,
          "isDefault": false,
          "params": "(context: TemporalContext)"
        },
        {
          "name": "TemporalPattern",
          "kind": "type",
          "line": 16,
          "isDefault": false
        },
        {
          "name": "TemporalContext",
          "kind": "type",
          "line": 30,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "eventEntities",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "gte",
            "lte",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/thread-context.ts",
      "name": "thread-context.ts",
      "extension": ".ts",
      "lines": 227,
      "size": 6961,
      "type": "utility",
      "exports": [
        {
          "name": "assembleThreadContext",
          "kind": "function",
          "line": 46,
          "isDefault": false,
          "params": "(\n  threadId: string,\n  workspace: WorkspaceKey,\n  newMessageEmbedding?: number[],\n  options?: ContextOptions\n)"
        },
        {
          "name": "formatThreadContext",
          "kind": "function",
          "line": 185,
          "isDefault": false,
          "params": "(context: ThreadContext)"
        },
        {
          "name": "ContextOptions",
          "kind": "type",
          "line": 9,
          "isDefault": false
        },
        {
          "name": "ThreadContext",
          "kind": "type",
          "line": 21,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "threads",
            "threadRollingSummaries",
            "threadMarkers",
            "messages",
            "pinnedContext",
            "userMemory"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./embeddings",
          "names": [
            "generateEventEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./vector-utils",
          "names": [
            "cosineSimilarity"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./confidence-config",
          "names": [
            "CONFIDENCE"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/thread-markers.ts",
      "name": "thread-markers.ts",
      "extension": ".ts",
      "lines": 259,
      "size": 7707,
      "type": "utility",
      "exports": [
        {
          "name": "createThreadMarker",
          "kind": "function",
          "line": 14,
          "isDefault": false,
          "params": "(\n  threadId: string,\n  workspace: WorkspaceKey,\n  type: MarkerType = \"summary\"\n)"
        },
        {
          "name": "updateRollingSummary",
          "kind": "function",
          "line": 181,
          "isDefault": false,
          "params": "(\n  threadId: string,\n  workspace: WorkspaceKey\n)"
        },
        {
          "name": "MarkerType",
          "kind": "type",
          "line": 9,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "threads",
            "threadMarkers",
            "messages",
            "threadRollingSummaries"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./embeddings",
          "names": [
            "generateEventEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 53
        },
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 75
        },
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 96
        },
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 117
        },
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 138
        },
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 227
        }
      ],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/thread-router.ts",
      "name": "thread-router.ts",
      "extension": ".ts",
      "lines": 343,
      "size": 10195,
      "type": "utility",
      "exports": [
        {
          "name": "routeToThread",
          "kind": "function",
          "line": 70,
          "isDefault": false,
          "params": "(\n  message: string,\n  workspace: WorkspaceKey,\n  options?: RoutingOptions,\n  dbOverride?: any\n)"
        },
        {
          "name": "RoutingOptions",
          "kind": "type",
          "line": 9,
          "isDefault": false
        },
        {
          "name": "ThreadRoutingDecision",
          "kind": "type",
          "line": 15,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "threads",
            "threadMarkers",
            "messages"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./embeddings",
          "names": [
            "generateEventEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 238
        },
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 307
        }
      ],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/tools/executor-intelligence.ts",
      "name": "executor-intelligence.ts",
      "extension": ".ts",
      "lines": 344,
      "size": 10812,
      "type": "utility",
      "exports": [
        {
          "name": "handleGetEntityIntelligence",
          "kind": "function",
          "line": 45,
          "isDefault": false,
          "params": "(args: any, ctx: ToolExecutionContext, db: any)"
        },
        {
          "name": "handleGetTopPriorityEntities",
          "kind": "function",
          "line": 81,
          "isDefault": false,
          "params": "(args: any, ctx: ToolExecutionContext, _db: any)"
        },
        {
          "name": "handleGetSmartSuggestions",
          "kind": "function",
          "line": 127,
          "isDefault": false,
          "params": "(args: any, ctx: ToolExecutionContext, _db: any)"
        },
        {
          "name": "handleSetEntityTarget",
          "kind": "function",
          "line": 164,
          "isDefault": false,
          "params": "(args: any, ctx: ToolExecutionContext, db: any)"
        },
        {
          "name": "handleRemoveEntityTarget",
          "kind": "function",
          "line": 201,
          "isDefault": false,
          "params": "(args: any, ctx: ToolExecutionContext, db: any)"
        },
        {
          "name": "handleGetIntroductionChain",
          "kind": "function",
          "line": 231,
          "isDefault": false,
          "params": "(args: any, ctx: ToolExecutionContext, db: any)"
        },
        {
          "name": "handleRecordIntroduction",
          "kind": "function",
          "line": 260,
          "isDefault": false,
          "params": "(args: any, ctx: ToolExecutionContext, db: any)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "workspaceIdForKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "ilike"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/tools/executor.ts",
      "name": "executor.ts",
      "extension": ".ts",
      "lines": 3485,
      "size": 146476,
      "type": "utility",
      "exports": [
        {
          "name": "executeTool",
          "kind": "function",
          "line": 108,
          "isDefault": false,
          "params": "(\n  name: ToolName,\n  rawArgs: unknown,\n  ctx: ToolExecutionContext\n)"
        },
        {
          "name": "ToolExecutionContext",
          "kind": "type",
          "line": 87,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "workspaceIdForKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/audit",
          "names": [
            "writeAudit"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/enterprise-context",
          "names": [
            "getDatabaseSchema"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./registry",
          "names": [
            "toolRegistry",
            "type ToolName"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/registry",
          "names": [
            "introspectSchema"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/thread-context",
          "names": [
            "assembleThreadContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./executor-intelligence",
          "names": [
            "handleGetEntityIntelligence",
            "handleGetTopPriorityEntities",
            "handleGetSmartSuggestions",
            "handleSetEntityTarget",
            "handleRemoveEntityTarget",
            "handleGetIntroductionChain",
            "handleRecordIntroduction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/drafts",
          "names": [
            "getActiveDraftSnapshot",
            "upsertDraftSnapshot"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/draft-merge",
          "names": [
            "mergeDraftChangeSet"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/chat/approvals",
          "names": [
            "upsertPendingApproval"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "artifacts",
            "collectionItems",
            "collections",
            "entities",
            "entityRelationships",
            "eventEntities",
            "events",
            "fieldRegistry",
            "planGenerationJobs",
            "planVersions",
            "savedViews",
            "workScaffolds",
            "workoutSets",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "ilike",
            "inArray",
            "or",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/chat/merge-resolution",
          "names": [
            "resolveMergeIntents"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/enrichment",
          "names": [
            "enrichMetadata",
            "inferEnrichmentKindFromCollection"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/trainingPlan",
          "names": [
            "ensureTrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/readiness",
          "names": [
            "buildReadinessContext"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fitnessPlanDays"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "sessionToTemplateLike"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "materializeRange",
            "resolveDay",
            "resolveTemplates",
            "inferPlanEndDate",
            "calendarSessionWithContentSchema",
            "trainingPlanSchema",
            "withBulkDayOverrides",
            "withDayOverrideSessions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/schedule",
          "names": [
            "runScheduleJobChunk"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/query-plans",
          "names": [
            "workQueryPlanSchema"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/tools/registry.ts",
      "name": "registry.ts",
      "extension": ".ts",
      "lines": 1918,
      "size": 70186,
      "type": "utility",
      "exports": [
        {
          "name": "listToolDefinitions",
          "kind": "function",
          "line": 1908,
          "isDefault": false,
          "params": "(opts?: { allowlist?: ToolName[] })"
        },
        {
          "name": "toolRegistry",
          "kind": "constant",
          "line": 86,
          "isDefault": false
        },
        {
          "name": "ToolName",
          "kind": "type",
          "line": 7,
          "isDefault": false
        },
        {
          "name": "ToolDefinition",
          "kind": "type",
          "line": 74,
          "isDefault": false
        },
        {
          "name": "ToolSpec",
          "kind": "type",
          "line": 81,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/registry",
          "names": [
            "getIntrospectionToolDefinition",
            "getExtractableEntityTypes"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/tracing.ts",
      "name": "tracing.ts",
      "extension": ".ts",
      "lines": 59,
      "size": 1384,
      "type": "utility",
      "exports": [
        {
          "name": "createTrace",
          "kind": "function",
          "line": 24,
          "isDefault": false,
          "params": "(requestId: string)"
        },
        {
          "name": "TraceSpan",
          "kind": "type",
          "line": 6,
          "isDefault": false
        },
        {
          "name": "Trace",
          "kind": "type",
          "line": 15,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/trends.ts",
      "name": "trends.ts",
      "extension": ".ts",
      "lines": 240,
      "size": 6915,
      "type": "utility",
      "exports": [
        {
          "name": "computeTrend",
          "kind": "function",
          "line": 29,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  metricKey: string,\r\n  periodDays: TrendPeriod,\r\n  periodEnd: Date = new Date()"
        },
        {
          "name": "storeTrend",
          "kind": "function",
          "line": 132,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  trend: TrendSummary\r\n)"
        },
        {
          "name": "getTrendSummaries",
          "kind": "function",
          "line": 186,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  metricKey: string\r\n)"
        },
        {
          "name": "formatTrendSummary",
          "kind": "function",
          "line": 215,
          "isDefault": false,
          "params": "(trend: TrendSummary)"
        },
        {
          "name": "getMetricKeys",
          "kind": "function",
          "line": 228,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        },
        {
          "name": "TrendPeriod",
          "kind": "type",
          "line": 11,
          "isDefault": false
        },
        {
          "name": "TrendSummary",
          "kind": "type",
          "line": 13,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "observations",
            "aggregatedObservations"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "gte",
            "lte",
            "sql",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/unified-streaming.ts",
      "name": "unified-streaming.ts",
      "extension": ".ts",
      "lines": 466,
      "size": 14435,
      "type": "utility",
      "exports": [
        {
          "name": "getDefaultModelForProvider",
          "kind": "function",
          "line": 402,
          "isDefault": false,
          "params": "(provider: ChatProvider)"
        },
        {
          "name": "markModelUnavailable",
          "kind": "function",
          "line": 420,
          "isDefault": false,
          "params": "(provider: ChatProvider, model: string)"
        },
        {
          "name": "estimateCost",
          "kind": "function",
          "line": 437,
          "isDefault": false,
          "params": "(\n  provider: ChatProvider,\n  model: string,\n  usage: TokenUsage\n)"
        },
        {
          "name": "ChatProvider",
          "kind": "type",
          "line": 23,
          "isDefault": false
        },
        {
          "name": "ChatMessage",
          "kind": "type",
          "line": 25,
          "isDefault": false
        },
        {
          "name": "Tool",
          "kind": "type",
          "line": 32,
          "isDefault": false
        },
        {
          "name": "UnifiedStreamOptions",
          "kind": "type",
          "line": 41,
          "isDefault": false
        },
        {
          "name": "UnifiedStreamEvent",
          "kind": "type",
          "line": 52,
          "isDefault": false
        },
        {
          "name": "TokenUsage",
          "kind": "type",
          "line": 61,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai",
            "heliconeHeaders"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/anthropic",
          "names": [
            "getAnthropic"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 94
        },
        {
          "service": "anthropic",
          "detail": "anthropic.messages",
          "line": 271
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 16
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 110
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 279
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/ai/vector-search.ts",
      "name": "vector-search.ts",
      "extension": ".ts",
      "lines": 307,
      "size": 10207,
      "type": "utility",
      "exports": [
        {
          "name": "searchEventsBySimilarity",
          "kind": "function",
          "line": 16,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  query: string,\n  limit: number = 10,\n  similarityThreshold: number = 0.7\n)"
        },
        {
          "name": "searchMessagesBySimilarity",
          "kind": "function",
          "line": 132,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  query: string,\n  options: {\n    limit?: number;\n    similarityThreshold?: number;\n    threadId?: string;\n    startDate?: string;\n    endDate?: string;\n  } = {}\n)"
        },
        {
          "name": "searchEntitiesBySimilarity",
          "kind": "function",
          "line": 214,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  query: string,\n  limit: number = 10,\n  similarityThreshold: number = 0.7\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities",
            "artifacts"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./embeddings",
          "names": [
            "generateEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "RAW_QUERY",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/ai/vector-utils.ts",
      "name": "vector-utils.ts",
      "extension": ".ts",
      "lines": 63,
      "size": 1774,
      "type": "utility",
      "exports": [
        {
          "name": "cosineSimilarity",
          "kind": "function",
          "line": 10,
          "isDefault": false,
          "params": "(a: number[], b: number[])"
        },
        {
          "name": "findSimilar",
          "kind": "function",
          "line": 31,
          "isDefault": false
        },
        {
          "name": "vectorLiteral",
          "kind": "function",
          "line": 60,
          "isDefault": false,
          "params": "(embedding: number[])"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/auth/admin.ts",
      "name": "admin.ts",
      "extension": ".ts",
      "lines": 24,
      "size": 812,
      "type": "utility",
      "exports": [
        {
          "name": "getAdminLoginPath",
          "kind": "function",
          "line": 1,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getAdminUserIdAllowlist",
          "kind": "function",
          "line": 8,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "isAdminUserId",
          "kind": "function",
          "line": 17,
          "isDefault": false,
          "params": "(userId: string | null | undefined)"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/cron/agent-tasks.ts",
      "name": "agent-tasks.ts",
      "extension": ".ts",
      "lines": 261,
      "size": 7451,
      "type": "utility",
      "exports": [
        {
          "name": "processAgentTasks",
          "kind": "function",
          "line": 23,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  opts: { maxTasks?: number } = {}\r\n)"
        },
        {
          "name": "getAgentTaskSummary",
          "kind": "function",
          "line": 224,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "agentTasks"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "lte",
            "or",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/cron/fitness-schedule.ts",
      "name": "fitness-schedule.ts",
      "extension": ".ts",
      "lines": 56,
      "size": 1920,
      "type": "utility",
      "exports": [
        {
          "name": "processFitnessScheduleJobs",
          "kind": "function",
          "line": 14,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, opts?: { maxJobs?: number })"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "asc",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getSystemDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planGenerationJobs"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/schedule",
          "names": [
            "runScheduleJobChunk"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/cron/intelligence-maintenance.ts",
      "name": "intelligence-maintenance.ts",
      "extension": ".ts",
      "lines": 187,
      "size": 5110,
      "type": "utility",
      "exports": [
        {
          "name": "refreshEntityScores",
          "kind": "function",
          "line": 23,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options?: {\r\n    batchSize?: number;\r\n    targetsOnly?: boolean;\r\n  }\r\n)"
        },
        {
          "name": "generateProactiveSuggestions",
          "kind": "function",
          "line": 55,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options?: {\r\n    maxSuggestions?: number;\r\n    triggers?: string[];\r\n  }\r\n)"
        },
        {
          "name": "cleanupExpiredSuggestions",
          "kind": "function",
          "line": 86,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        },
        {
          "name": "runIntelligenceMaintenance",
          "kind": "function",
          "line": 111,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        },
        {
          "name": "runQuickIntelligenceMaintenance",
          "kind": "function",
          "line": 162,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/intelligence",
          "names": [
            "refreshAllEntityScores",
            "generateSuggestions",
            "expireOldSuggestions"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/cron/knowledge-maintenance.ts",
      "name": "knowledge-maintenance.ts",
      "extension": ".ts",
      "lines": 120,
      "size": 3724,
      "type": "utility",
      "exports": [
        {
          "name": "runKnowledgeMaintenance",
          "kind": "function",
          "line": 25,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        },
        {
          "name": "runQuickMaintenance",
          "kind": "function",
          "line": 50,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        },
        {
          "name": "updateRelevanceScores",
          "kind": "function",
          "line": 70,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        },
        {
          "name": "refreshPatterns",
          "kind": "function",
          "line": 89,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        },
        {
          "name": "resolveRelationships",
          "kind": "function",
          "line": 108,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "workspaceIdForKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/knowledge",
          "names": [
            "runMaintenanceForWorkspace",
            "autoResolveRelationships",
            "refreshAllPatterns",
            "processMemoryDecay",
            "recalculateRelevanceScores"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/cron/memory-extraction.ts",
      "name": "memory-extraction.ts",
      "extension": ".ts",
      "lines": 73,
      "size": 2537,
      "type": "utility",
      "exports": [
        {
          "name": "extractMemoryFromThreads",
          "kind": "function",
          "line": 10,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getSystemDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "threads"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/memory-extractor",
          "names": [
            "extractMemoryCandidates",
            "storeMemory"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/cron/scheduler.ts",
      "name": "scheduler.ts",
      "extension": ".ts",
      "lines": 236,
      "size": 9089,
      "type": "utility",
      "exports": [
        {
          "name": "startCronJobs",
          "kind": "function",
          "line": 28,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "node-cron",
          "names": [
            "cron"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "./trends",
          "names": [
            "updateTrends"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./memory-extraction",
          "names": [
            "extractMemoryFromThreads"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./fitness-schedule",
          "names": [
            "processFitnessScheduleJobs"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./agent-tasks",
          "names": [
            "processAgentTasks"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./knowledge-maintenance",
          "names": [
            "runKnowledgeMaintenance",
            "runQuickMaintenance",
            "refreshPatterns",
            "resolveRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./intelligence-maintenance",
          "names": [
            "runIntelligenceMaintenance",
            "runQuickIntelligenceMaintenance",
            "generateProactiveSuggestions"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/cron/trends.ts",
      "name": "trends.ts",
      "extension": ".ts",
      "lines": 45,
      "size": 1344,
      "type": "utility",
      "exports": [
        {
          "name": "updateTrends",
          "kind": "function",
          "line": 11,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/trends",
          "names": [
            "computeTrend",
            "storeTrend",
            "getMetricKeys"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/daily-brief/data.ts",
      "name": "data.ts",
      "extension": ".ts",
      "lines": 559,
      "size": 15752,
      "type": "utility",
      "exports": [
        {
          "name": "buildDailyBrief",
          "kind": "function",
          "line": 508,
          "isDefault": false,
          "params": "(\n  db: any,\n  config: DailyBriefConfig = DEFAULT_DAILY_BRIEF_CONFIG\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "gte",
            "lte",
            "desc",
            "sql",
            "or",
            "ilike"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "entities",
            "observations",
            "collections",
            "collectionItems",
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./types",
          "names": [
            "DEFAULT_DAILY_BRIEF_CONFIG"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/daily-brief/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 9,
      "size": 152,
      "type": "utility",
      "exports": [],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/daily-brief/types.ts",
      "name": "types.ts",
      "extension": ".ts",
      "lines": 85,
      "size": 2234,
      "type": "utility",
      "exports": [
        {
          "name": "DEFAULT_DAILY_BRIEF_CONFIG",
          "kind": "constant",
          "line": 78,
          "isDefault": false
        },
        {
          "name": "DailyBriefSection",
          "kind": "type",
          "line": 18,
          "isDefault": false
        },
        {
          "name": "DailyBriefItem",
          "kind": "type",
          "line": 24,
          "isDefault": false
        },
        {
          "name": "DailyBrief",
          "kind": "type",
          "line": 43,
          "isDefault": false
        },
        {
          "name": "DailyBriefConfig",
          "kind": "type",
          "line": 65,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/db/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 391,
      "size": 15003,
      "type": "utility",
      "exports": [
        {
          "name": "getDb",
          "kind": "function",
          "line": 219,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        },
        {
          "name": "getSystemDb",
          "kind": "function",
          "line": 233,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        },
        {
          "name": "getDbByWorkspaceId",
          "kind": "function",
          "line": 241,
          "isDefault": false,
          "params": "(workspaceId: string, workspaceKeyHint?: WorkspaceKey)"
        },
        {
          "name": "withDbSessionReadOnly",
          "kind": "function",
          "line": 264,
          "isDefault": false
        },
        {
          "name": "withDbSession",
          "kind": "function",
          "line": 308,
          "isDefault": false
        },
        {
          "name": "getDbSessionClient",
          "kind": "function",
          "line": 348,
          "isDefault": false,
          "params": "(vars: DbSessionVars)"
        },
        {
          "name": "WorkspaceKey",
          "kind": "type",
          "line": 5,
          "isDefault": false
        },
        {
          "name": "DbSessionVars",
          "kind": "type",
          "line": 251,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "workspaceIdForKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "SYSTEM_USER_ID"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-collections.ts",
      "name": "schema-collections.ts",
      "extension": ".ts",
      "lines": 79,
      "size": 3341,
      "type": "schema",
      "exports": [
        {
          "name": "collections",
          "kind": "constant",
          "line": 10,
          "isDefault": false
        },
        {
          "name": "collectionItems",
          "kind": "constant",
          "line": 30,
          "isDefault": false
        },
        {
          "name": "fieldRegistry",
          "kind": "constant",
          "line": 50,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "jsonb",
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar",
            "integer",
            "uniqueIndex"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-drafts.ts",
      "name": "schema-drafts.ts",
      "extension": ".ts",
      "lines": 30,
      "size": 1250,
      "type": "schema",
      "exports": [
        {
          "name": "draftSnapshots",
          "kind": "constant",
          "line": 11,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "jsonb",
            "pgTable",
            "timestamp",
            "uuid",
            "varchar",
            "uniqueIndex"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-fitness-plan.ts",
      "name": "schema-fitness-plan.ts",
      "extension": ".ts",
      "lines": 58,
      "size": 2340,
      "type": "schema",
      "exports": [
        {
          "name": "fitnessPlanDays",
          "kind": "constant",
          "line": 14,
          "isDefault": false
        },
        {
          "name": "fitnessPlanArtifacts",
          "kind": "constant",
          "line": 33,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "jsonb",
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar",
            "uniqueIndex"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-fitness-v2.ts",
      "name": "schema-fitness-v2.ts",
      "extension": ".ts",
      "lines": 141,
      "size": 5165,
      "type": "schema",
      "exports": [
        {
          "name": "fitnessPlansV2",
          "kind": "constant",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "fitnessPlanChunks",
          "kind": "constant",
          "line": 63,
          "isDefault": false
        },
        {
          "name": "fitnessExecutedWorkoutsV2",
          "kind": "constant",
          "line": 99,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "integer",
            "jsonb",
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-goals.ts",
      "name": "schema-goals.ts",
      "extension": ".ts",
      "lines": 55,
      "size": 2151,
      "type": "schema",
      "exports": [
        {
          "name": "goals",
          "kind": "constant",
          "line": 21,
          "isDefault": false
        },
        {
          "name": "goalVersions",
          "kind": "constant",
          "line": 37,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "jsonb",
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar",
            "integer",
            "date",
            "doublePrecision"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./schema",
          "names": [
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-habits.ts",
      "name": "schema-habits.ts",
      "extension": ".ts",
      "lines": 35,
      "size": 1056,
      "type": "schema",
      "exports": [
        {
          "name": "habitCompletions",
          "kind": "constant",
          "line": 21,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "jsonb",
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar",
            "date",
            "boolean",
            "doublePrecision"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./schema-goals",
          "names": [
            "goals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-intelligence.ts",
      "name": "schema-intelligence.ts",
      "extension": ".ts",
      "lines": 607,
      "size": 22910,
      "type": "schema",
      "exports": [
        {
          "name": "entityIntelligence",
          "kind": "constant",
          "line": 46,
          "isDefault": false
        },
        {
          "name": "smartSuggestions",
          "kind": "constant",
          "line": 195,
          "isDefault": false
        },
        {
          "name": "suggestionFeedback",
          "kind": "constant",
          "line": 324,
          "isDefault": false
        },
        {
          "name": "introductions",
          "kind": "constant",
          "line": 370,
          "isDefault": false
        },
        {
          "name": "referralObligations",
          "kind": "constant",
          "line": 457,
          "isDefault": false
        },
        {
          "name": "referralPayments",
          "kind": "constant",
          "line": 542,
          "isDefault": false
        },
        {
          "name": "EntityIntelligence",
          "kind": "type",
          "line": 590,
          "isDefault": false
        },
        {
          "name": "NewEntityIntelligence",
          "kind": "type",
          "line": 591,
          "isDefault": false
        },
        {
          "name": "SmartSuggestion",
          "kind": "type",
          "line": 593,
          "isDefault": false
        },
        {
          "name": "NewSmartSuggestion",
          "kind": "type",
          "line": 594,
          "isDefault": false
        },
        {
          "name": "SuggestionFeedback",
          "kind": "type",
          "line": 596,
          "isDefault": false
        },
        {
          "name": "NewSuggestionFeedback",
          "kind": "type",
          "line": 597,
          "isDefault": false
        },
        {
          "name": "Introduction",
          "kind": "type",
          "line": 599,
          "isDefault": false
        },
        {
          "name": "NewIntroduction",
          "kind": "type",
          "line": 600,
          "isDefault": false
        },
        {
          "name": "ReferralObligation",
          "kind": "type",
          "line": 602,
          "isDefault": false
        },
        {
          "name": "NewReferralObligation",
          "kind": "type",
          "line": 603,
          "isDefault": false
        },
        {
          "name": "ReferralPayment",
          "kind": "type",
          "line": 605,
          "isDefault": false
        },
        {
          "name": "NewReferralPayment",
          "kind": "type",
          "line": 606,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "boolean",
            "date",
            "doublePrecision",
            "integer",
            "jsonb",
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar",
            "index",
            "uniqueIndex"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./schema",
          "names": [
            "entities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-knowledge.ts",
      "name": "schema-knowledge.ts",
      "extension": ".ts",
      "lines": 608,
      "size": 24177,
      "type": "schema",
      "exports": [
        {
          "name": "memories",
          "kind": "constant",
          "line": 67,
          "isDefault": false
        },
        {
          "name": "softRelationships",
          "kind": "constant",
          "line": 253,
          "isDefault": false
        },
        {
          "name": "memoryPatterns",
          "kind": "constant",
          "line": 340,
          "isDefault": false
        },
        {
          "name": "surfacePreferences",
          "kind": "constant",
          "line": 440,
          "isDefault": false
        },
        {
          "name": "dealOutcomes",
          "kind": "constant",
          "line": 512,
          "isDefault": false
        },
        {
          "name": "memoryOpinions",
          "kind": "constant",
          "line": 566,
          "isDefault": false
        },
        {
          "name": "Memory",
          "kind": "type",
          "line": 591,
          "isDefault": false
        },
        {
          "name": "NewMemory",
          "kind": "type",
          "line": 592,
          "isDefault": false
        },
        {
          "name": "SoftRelationship",
          "kind": "type",
          "line": 594,
          "isDefault": false
        },
        {
          "name": "NewSoftRelationship",
          "kind": "type",
          "line": 595,
          "isDefault": false
        },
        {
          "name": "MemoryPattern",
          "kind": "type",
          "line": 597,
          "isDefault": false
        },
        {
          "name": "NewMemoryPattern",
          "kind": "type",
          "line": 598,
          "isDefault": false
        },
        {
          "name": "SurfacePreference",
          "kind": "type",
          "line": 600,
          "isDefault": false
        },
        {
          "name": "NewSurfacePreference",
          "kind": "type",
          "line": 601,
          "isDefault": false
        },
        {
          "name": "DealOutcome",
          "kind": "type",
          "line": 603,
          "isDefault": false
        },
        {
          "name": "NewDealOutcome",
          "kind": "type",
          "line": 604,
          "isDefault": false
        },
        {
          "name": "MemoryOpinion",
          "kind": "type",
          "line": 606,
          "isDefault": false
        },
        {
          "name": "NewMemoryOpinion",
          "kind": "type",
          "line": 607,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "boolean",
            "customType",
            "doublePrecision",
            "integer",
            "jsonb",
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar",
            "index"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./schema",
          "names": [
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-reflections.ts",
      "name": "schema-reflections.ts",
      "extension": ".ts",
      "lines": 42,
      "size": 1655,
      "type": "schema",
      "exports": [
        {
          "name": "reflections",
          "kind": "constant",
          "line": 19,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "jsonb",
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar",
            "date"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./schema-goals",
          "names": [
            "goals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-tenancy.ts",
      "name": "schema-tenancy.ts",
      "extension": ".ts",
      "lines": 48,
      "size": 2104,
      "type": "schema",
      "exports": [
        {
          "name": "orgs",
          "kind": "constant",
          "line": 3,
          "isDefault": false
        },
        {
          "name": "workspaces",
          "kind": "constant",
          "line": 10,
          "isDefault": false
        },
        {
          "name": "workspaceMemberships",
          "kind": "constant",
          "line": 27,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar",
            "uniqueIndex"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-user-profiles.ts",
      "name": "schema-user-profiles.ts",
      "extension": ".ts",
      "lines": 44,
      "size": 1764,
      "type": "schema",
      "exports": [
        {
          "name": "userProfiles",
          "kind": "hook",
          "line": 17,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "jsonb",
            "pgTable",
            "text",
            "timestamp",
            "uuid",
            "varchar"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema-work-config.ts",
      "name": "schema-work-config.ts",
      "extension": ".ts",
      "lines": 72,
      "size": 2912,
      "type": "schema",
      "exports": [
        {
          "name": "savedViews",
          "kind": "constant",
          "line": 12,
          "isDefault": false
        },
        {
          "name": "workScaffolds",
          "kind": "constant",
          "line": 54,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "boolean",
            "jsonb",
            "pgTable",
            "timestamp",
            "uuid",
            "varchar",
            "uniqueIndex"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/schema.ts",
      "name": "schema.ts",
      "extension": ".ts",
      "lines": 676,
      "size": 27290,
      "type": "schema",
      "exports": [
        {
          "name": "pillars",
          "kind": "constant",
          "line": 121,
          "isDefault": false
        },
        {
          "name": "entities",
          "kind": "constant",
          "line": 135,
          "isDefault": false
        },
        {
          "name": "events",
          "kind": "constant",
          "line": 170,
          "isDefault": false
        },
        {
          "name": "eventEntities",
          "kind": "constant",
          "line": 197,
          "isDefault": false
        },
        {
          "name": "observations",
          "kind": "constant",
          "line": 215,
          "isDefault": false
        },
        {
          "name": "artifacts",
          "kind": "constant",
          "line": 232,
          "isDefault": false
        },
        {
          "name": "workoutSets",
          "kind": "constant",
          "line": 252,
          "isDefault": false
        },
        {
          "name": "plans",
          "kind": "constant",
          "line": 270,
          "isDefault": false
        },
        {
          "name": "planVersions",
          "kind": "constant",
          "line": 280,
          "isDefault": false
        },
        {
          "name": "planGenerationJobs",
          "kind": "constant",
          "line": 314,
          "isDefault": false
        },
        {
          "name": "auditLog",
          "kind": "constant",
          "line": 337,
          "isDefault": false
        },
        {
          "name": "entityRelationships",
          "kind": "constant",
          "line": 351,
          "isDefault": false
        },
        {
          "name": "aggregatedObservations",
          "kind": "constant",
          "line": 375,
          "isDefault": false
        },
        {
          "name": "threads",
          "kind": "constant",
          "line": 406,
          "isDefault": false
        },
        {
          "name": "threadMarkers",
          "kind": "constant",
          "line": 423,
          "isDefault": false
        },
        {
          "name": "messages",
          "kind": "constant",
          "line": 437,
          "isDefault": false
        },
        {
          "name": "threadRollingSummaries",
          "kind": "constant",
          "line": 453,
          "isDefault": false
        },
        {
          "name": "pinnedContext",
          "kind": "constant",
          "line": 463,
          "isDefault": false
        },
        {
          "name": "userMemory",
          "kind": "hook",
          "line": 480,
          "isDefault": false
        },
        {
          "name": "userProfile",
          "kind": "hook",
          "line": 501,
          "isDefault": false
        },
        {
          "name": "pendingApprovals",
          "kind": "constant",
          "line": 522,
          "isDefault": false
        },
        {
          "name": "integrationConnections",
          "kind": "constant",
          "line": 541,
          "isDefault": false
        },
        {
          "name": "syncedCalendarEvents",
          "kind": "constant",
          "line": 559,
          "isDefault": false
        },
        {
          "name": "syncedEmails",
          "kind": "constant",
          "line": 569,
          "isDefault": false
        },
        {
          "name": "pushSubscriptions",
          "kind": "constant",
          "line": 584,
          "isDefault": false
        },
        {
          "name": "sentNotifications",
          "kind": "constant",
          "line": 596,
          "isDefault": false
        },
        {
          "name": "aiUsageLog",
          "kind": "constant",
          "line": 610,
          "isDefault": false
        },
        {
          "name": "agentTasks",
          "kind": "constant",
          "line": 630,
          "isDefault": false
        },
        {
          "name": "agentFeedback",
          "kind": "constant",
          "line": 659,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "boolean",
            "customType",
            "date",
            "doublePrecision",
            "integer",
            "jsonb",
            "pgTable",
            "primaryKey",
            "uniqueIndex",
            "text",
            "timestamp",
            "uuid",
            "varchar"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./tenancy-columns",
          "names": [
            "workspaceIdColumn"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/tenancy-columns.ts",
      "name": "tenancy-columns.ts",
      "extension": ".ts",
      "lines": 23,
      "size": 836,
      "type": "utility",
      "exports": [
        {
          "name": "workspaceIdColumn",
          "kind": "function",
          "line": 17,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm/pg-core",
          "names": [
            "uuid"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./tenancy-constants",
          "names": [
            "PERSONAL_WORKSPACE_ID"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/db/tenancy-constants.ts",
      "name": "tenancy-constants.ts",
      "extension": ".ts",
      "lines": 19,
      "size": 892,
      "type": "utility",
      "exports": [
        {
          "name": "workspaceIdForKey",
          "kind": "function",
          "line": 10,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey)"
        },
        {
          "name": "workspaceKeyForId",
          "kind": "function",
          "line": 14,
          "isDefault": false,
          "params": "(workspaceId: string)"
        },
        {
          "name": "DEFAULT_ORG_ID",
          "kind": "constant",
          "line": 5,
          "isDefault": false
        },
        {
          "name": "PERSONAL_WORKSPACE_ID",
          "kind": "constant",
          "line": 6,
          "isDefault": false
        },
        {
          "name": "WORK_WORKSPACE_ID",
          "kind": "constant",
          "line": 7,
          "isDefault": false
        },
        {
          "name": "SYSTEM_USER_ID",
          "kind": "constant",
          "line": 8,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/design-tokens.ts",
      "name": "design-tokens.ts",
      "extension": ".ts",
      "lines": 153,
      "size": 8319,
      "type": "utility",
      "exports": [
        {
          "name": "getConfidenceStatus",
          "kind": "function",
          "line": 122,
          "isDefault": false,
          "params": "(confidence: number)"
        },
        {
          "name": "getTaskStatus",
          "kind": "function",
          "line": 132,
          "isDefault": false,
          "params": "(status: string)"
        },
        {
          "name": "getDealStageStatus",
          "kind": "function",
          "line": 145,
          "isDefault": false,
          "params": "(stage: string)"
        },
        {
          "name": "entityTypeConfig",
          "kind": "constant",
          "line": 19,
          "isDefault": false
        },
        {
          "name": "eventTypeConfig",
          "kind": "constant",
          "line": 40,
          "isDefault": false
        },
        {
          "name": "statusConfig",
          "kind": "constant",
          "line": 61,
          "isDefault": false
        },
        {
          "name": "priorityConfig",
          "kind": "constant",
          "line": 85,
          "isDefault": false
        },
        {
          "name": "actionConfig",
          "kind": "constant",
          "line": 105,
          "isDefault": false
        },
        {
          "name": "EntityType",
          "kind": "type",
          "line": 17,
          "isDefault": false
        },
        {
          "name": "EventType",
          "kind": "type",
          "line": 38,
          "isDefault": false
        },
        {
          "name": "StatusType",
          "kind": "type",
          "line": 59,
          "isDefault": false
        },
        {
          "name": "PriorityLevel",
          "kind": "type",
          "line": 83,
          "isDefault": false
        },
        {
          "name": "ActionType",
          "kind": "type",
          "line": 103,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/enrichment/books.ts",
      "name": "books.ts",
      "extension": ".ts",
      "lines": 50,
      "size": 1716,
      "type": "utility",
      "exports": [
        {
          "name": "enrichBookMetadata",
          "kind": "function",
          "line": 11,
          "isDefault": false,
          "params": "(query: string)"
        },
        {
          "name": "BookEnrichment",
          "kind": "type",
          "line": 1,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/enrichment/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 38,
      "size": 1375,
      "type": "utility",
      "exports": [
        {
          "name": "enrichMetadata",
          "kind": "function",
          "line": 6,
          "isDefault": false,
          "params": "(kind: EnrichmentKind, query: string)"
        },
        {
          "name": "inferEnrichmentKindFromCollection",
          "kind": "function",
          "line": 18,
          "isDefault": false,
          "params": "(input: {\r\n  collectionSlug?: string | null;\r\n  collectionName?: string | null;\r\n  collectionMetadata?: any;\r\n})"
        },
        {
          "name": "EnrichmentKind",
          "kind": "type",
          "line": 4,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./books",
          "names": [
            "enrichBookMetadata"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./places",
          "names": [
            "enrichPlaceMetadata"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/enrichment/places.ts",
      "name": "places.ts",
      "extension": ".ts",
      "lines": 48,
      "size": 1762,
      "type": "utility",
      "exports": [
        {
          "name": "enrichPlaceMetadata",
          "kind": "function",
          "line": 13,
          "isDefault": false,
          "params": "(query: string)"
        },
        {
          "name": "PlaceEnrichment",
          "kind": "type",
          "line": 1,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/env.ts",
      "name": "env.ts",
      "extension": ".ts",
      "lines": 122,
      "size": 5388,
      "type": "utility",
      "exports": [
        {
          "name": "env",
          "kind": "constant",
          "line": 79,
          "isDefault": false
        },
        {
          "name": "Env",
          "kind": "type",
          "line": 77,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 55
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 56
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 104
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 104
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 41
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 43
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 43
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 44
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 45
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 95
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 95
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 96
        },
        {
          "service": "deepgram",
          "detail": "DEEPGRAM",
          "line": 96
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/fitness/briefs.ts",
      "name": "briefs.ts",
      "extension": ".ts",
      "lines": 84,
      "size": 3442,
      "type": "utility",
      "exports": [
        {
          "name": "generateDayBriefMarkdown",
          "kind": "function",
          "line": 28,
          "isDefault": false,
          "params": "(plan: TrainingPlan, dateIso: string)"
        },
        {
          "name": "generateWeekBriefMarkdown",
          "kind": "function",
          "line": 49,
          "isDefault": false,
          "params": "(plan: TrainingPlan, weekStartIso: string)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "resolveDay",
            "resolveTemplates",
            "type CalendarSession"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/fitness/plan-generator.ts",
      "name": "plan-generator.ts",
      "extension": ".ts",
      "lines": 735,
      "size": 21826,
      "type": "utility",
      "exports": [
        {
          "name": "generatePlan",
          "kind": "function",
          "line": 216,
          "isDefault": false,
          "params": "(\n  request: GenerationRequest,\n  onProgress?: ProgressCallback\n)"
        },
        {
          "name": "adaptPlan",
          "kind": "function",
          "line": 587,
          "isDefault": false,
          "params": "(\n  adaptation: AdaptationRequest\n)"
        },
        {
          "name": "generateQuickPlan",
          "kind": "function",
          "line": 658,
          "isDefault": false,
          "params": "(\n  request: GenerationRequest,\n)"
        },
        {
          "name": "GenerationRequest",
          "kind": "type",
          "line": 25,
          "isDefault": false
        },
        {
          "name": "GenerationProgress",
          "kind": "type",
          "line": 42,
          "isDefault": false
        },
        {
          "name": "GenerationResult",
          "kind": "type",
          "line": 52,
          "isDefault": false
        },
        {
          "name": "ProgressCallback",
          "kind": "type",
          "line": 61,
          "isDefault": false
        },
        {
          "name": "AdaptationRequest",
          "kind": "type",
          "line": 577,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/model-router",
          "names": [
            "chatCompletion"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./plan-storage",
          "names": [
            "type FitnessPlan",
            "type GenerationCost"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./plan-parser",
          "names": [
            "parseFitnessPlan",
            "getPlanStats"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/fitness/plan-parser.ts",
      "name": "plan-parser.ts",
      "extension": ".ts",
      "lines": 517,
      "size": 14856,
      "type": "utility",
      "exports": [
        {
          "name": "parseDate",
          "kind": "function",
          "line": 87,
          "isDefault": false,
          "params": "(dateStr: string, referenceYear?: number)"
        },
        {
          "name": "parseDateRange",
          "kind": "function",
          "line": 125,
          "isDefault": false,
          "params": "(rangeStr: string, referenceYear?: number)"
        },
        {
          "name": "parseFitnessPlan",
          "kind": "function",
          "line": 151,
          "isDefault": false,
          "params": "(content: string)"
        },
        {
          "name": "findDayByDate",
          "kind": "function",
          "line": 352,
          "isDefault": false,
          "params": "(plan: ParsedPlan, targetDate: string)"
        },
        {
          "name": "findDayByWeekAndDay",
          "kind": "function",
          "line": 359,
          "isDefault": false,
          "params": "(plan: ParsedPlan, weekNumber: number, dayOfWeek: string)"
        },
        {
          "name": "getDaysForWeek",
          "kind": "function",
          "line": 369,
          "isDefault": false,
          "params": "(plan: ParsedPlan, weekNumber: number)"
        },
        {
          "name": "getWeeksForPhase",
          "kind": "function",
          "line": 376,
          "isDefault": false,
          "params": "(plan: ParsedPlan, phaseIndex: number)"
        },
        {
          "name": "getCurrentWeek",
          "kind": "function",
          "line": 383,
          "isDefault": false,
          "params": "(plan: ParsedPlan, currentDate: string)"
        },
        {
          "name": "getCurrentPhase",
          "kind": "function",
          "line": 402,
          "isDefault": false,
          "params": "(plan: ParsedPlan, currentDate: string)"
        },
        {
          "name": "getTodayWorkout",
          "kind": "function",
          "line": 421,
          "isDefault": false,
          "params": "(plan: ParsedPlan)"
        },
        {
          "name": "extractContentForDateRange",
          "kind": "function",
          "line": 429,
          "isDefault": false,
          "params": "(\n  content: string,\n  startDate: string,\n  endDate: string\n)"
        },
        {
          "name": "getPlanStats",
          "kind": "function",
          "line": 468,
          "isDefault": false,
          "params": "(plan: ParsedPlan)"
        },
        {
          "name": "ParsedPhase",
          "kind": "type",
          "line": 18,
          "isDefault": false
        },
        {
          "name": "ParsedWeek",
          "kind": "type",
          "line": 30,
          "isDefault": false
        },
        {
          "name": "ParsedDay",
          "kind": "type",
          "line": 41,
          "isDefault": false
        },
        {
          "name": "ParsedPlan",
          "kind": "type",
          "line": 55,
          "isDefault": false
        },
        {
          "name": "PlanStats",
          "kind": "type",
          "line": 454,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/fitness/plan-storage.ts",
      "name": "plan-storage.ts",
      "extension": ".ts",
      "lines": 290,
      "size": 7125,
      "type": "utility",
      "exports": [
        {
          "name": "getActivePlan",
          "kind": "function",
          "line": 81,
          "isDefault": false,
          "params": "(db: any, workspaceId: string)"
        },
        {
          "name": "getAllPlans",
          "kind": "function",
          "line": 97,
          "isDefault": false,
          "params": "(db: any, workspaceId: string)"
        },
        {
          "name": "createDraftPlan",
          "kind": "function",
          "line": 108,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n  data: {\n    title?: string;\n    content: string;\n    generationPrompt?: string;\n    generationModel?: string;\n    generationCost?: GenerationCost;\n    metadata?: PlanMetadata;\n    startDate?: Date;\n    endDate?: Date;\n  }\n)"
        },
        {
          "name": "activatePlan",
          "kind": "function",
          "line": 144,
          "isDefault": false,
          "params": "(db: any, planId: string)"
        },
        {
          "name": "updatePlanContent",
          "kind": "function",
          "line": 188,
          "isDefault": false,
          "params": "(\n  db: any,\n  planId: string,\n  newContent: string,\n  changeReason: string\n)"
        },
        {
          "name": "recordExecutedWorkout",
          "kind": "function",
          "line": 225,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n  data: {\n    planId?: string;\n    scheduledDate?: Date;\n    plannedTitle?: string;\n    plannedContent?: string;\n    plannedStructure?: any;\n    actualTitle: string;\n    executedSets: ExecutedExercise[];\n    workoutType?: string;\n    duration?: number;\n    notes?: string;\n    rating?: number;\n    averageRpe?: number;\n    perceivedExertion?: number;\n  }\n)"
        },
        {
          "name": "getExecutedWorkouts",
          "kind": "function",
          "line": 274,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n  startDate: Date,\n  endDate: Date\n)"
        },
        {
          "name": "FitnessPlan",
          "kind": "type",
          "line": 20,
          "isDefault": false
        },
        {
          "name": "FitnessPlanInsert",
          "kind": "type",
          "line": 21,
          "isDefault": false
        },
        {
          "name": "FitnessPlanChunk",
          "kind": "type",
          "line": 22,
          "isDefault": false
        },
        {
          "name": "FitnessExecutedWorkout",
          "kind": "type",
          "line": 23,
          "isDefault": false
        },
        {
          "name": "PlanMetadata",
          "kind": "type",
          "line": 25,
          "isDefault": false
        },
        {
          "name": "GenerationCost",
          "kind": "type",
          "line": 42,
          "isDefault": false
        },
        {
          "name": "ExecutedSet",
          "kind": "type",
          "line": 50,
          "isDefault": false
        },
        {
          "name": "ExecutedExercise",
          "kind": "type",
          "line": 63,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fitnessPlansV2",
            "fitnessPlanChunks",
            "fitnessExecutedWorkoutsV2"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/fitness/planSchema.ts",
      "name": "planSchema.ts",
      "extension": ".ts",
      "lines": 713,
      "size": 25652,
      "type": "schema",
      "exports": [
        {
          "name": "sessionToTemplateLike",
          "kind": "function",
          "line": 292,
          "isDefault": false,
          "params": "(session: CalendarSessionWithContent)"
        },
        {
          "name": "inferPlanEndDate",
          "kind": "function",
          "line": 345,
          "isDefault": false,
          "params": "(plan: TrainingPlan, startIso: string, fallbackDays = 90)"
        },
        {
          "name": "resolveTemplates",
          "kind": "function",
          "line": 390,
          "isDefault": false,
          "params": "(plan: TrainingPlan)"
        },
        {
          "name": "materializeRange",
          "kind": "function",
          "line": 398,
          "isDefault": false,
          "params": "(plan: TrainingPlan, start: string | Date, end: string | Date)"
        },
        {
          "name": "resolveDay",
          "kind": "function",
          "line": 497,
          "isDefault": false,
          "params": "(plan: TrainingPlan, date: string | Date)"
        },
        {
          "name": "resolveWeek",
          "kind": "function",
          "line": 509,
          "isDefault": false,
          "params": "(plan: TrainingPlan, weekOf: string | Date)"
        },
        {
          "name": "withDayOverride",
          "kind": "function",
          "line": 524,
          "isDefault": false,
          "params": "(\n  plan: TrainingPlan,\n  date: string,\n  replaceSessions: Array<{ templateKey: string; notes?: string; plannedExerciseEdits?: CalendarSession[\"plannedExerciseEdits\"] }>,\n  reason: string,\n  changedBy: \"user\" | \"agent\" = \"user\"\n)"
        },
        {
          "name": "withDayOverrideSessions",
          "kind": "function",
          "line": 555,
          "isDefault": false,
          "params": "(\n  plan: TrainingPlan,\n  date: string,\n  replaceSessions: CalendarSession[],\n  reason: string,\n  changedBy: \"user\" | \"agent\" = \"user\"\n)"
        },
        {
          "name": "withBulkDayOverrides",
          "kind": "function",
          "line": 585,
          "isDefault": false,
          "params": "(\n  plan: TrainingPlan,\n  overridesInput: Array<{ date: string; sessions: CalendarSession[]; reason: string; changedBy?: \"user\" | \"agent\" }>\n)"
        },
        {
          "name": "strengthExerciseSchema",
          "kind": "constant",
          "line": 13,
          "isDefault": false
        },
        {
          "name": "cardioBlockSchema",
          "kind": "constant",
          "line": 26,
          "isDefault": false
        },
        {
          "name": "intervalBlockSchema",
          "kind": "constant",
          "line": 35,
          "isDefault": false
        },
        {
          "name": "mobilityDrillSchema",
          "kind": "constant",
          "line": 44,
          "isDefault": false
        },
        {
          "name": "workoutBlockSchema",
          "kind": "constant",
          "line": 122,
          "isDefault": false
        },
        {
          "name": "sessionTemplateSchema",
          "kind": "constant",
          "line": 130,
          "isDefault": false
        },
        {
          "name": "scheduleItemSchema",
          "kind": "constant",
          "line": 143,
          "isDefault": false
        },
        {
          "name": "phaseSchema",
          "kind": "constant",
          "line": 150,
          "isDefault": false
        },
        {
          "name": "planRulesSchema",
          "kind": "constant",
          "line": 161,
          "isDefault": false
        },
        {
          "name": "calendarSessionSchema",
          "kind": "constant",
          "line": 175,
          "isDefault": false
        },
        {
          "name": "calendarSessionWithContentSchema",
          "kind": "constant",
          "line": 216,
          "isDefault": false
        },
        {
          "name": "calendarDaySchema",
          "kind": "constant",
          "line": 232,
          "isDefault": false
        },
        {
          "name": "calendarSchema",
          "kind": "constant",
          "line": 237,
          "isDefault": false
        },
        {
          "name": "planOverrideSchema",
          "kind": "constant",
          "line": 243,
          "isDefault": false
        },
        {
          "name": "trainingPlanSchema",
          "kind": "constant",
          "line": 260,
          "isDefault": false
        },
        {
          "name": "DEFAULT_TRAINING_PLAN",
          "kind": "constant",
          "line": 617,
          "isDefault": false
        },
        {
          "name": "EMPTY_TRAINING_PLAN",
          "kind": "constant",
          "line": 696,
          "isDefault": false
        },
        {
          "name": "TrainingPlan",
          "kind": "type",
          "line": 283,
          "isDefault": false
        },
        {
          "name": "SessionTemplate",
          "kind": "type",
          "line": 284,
          "isDefault": false
        },
        {
          "name": "ScheduleItem",
          "kind": "type",
          "line": 285,
          "isDefault": false
        },
        {
          "name": "CalendarDay",
          "kind": "type",
          "line": 286,
          "isDefault": false
        },
        {
          "name": "CalendarSession",
          "kind": "type",
          "line": 287,
          "isDefault": false
        },
        {
          "name": "PlanOverride",
          "kind": "type",
          "line": 288,
          "isDefault": false
        },
        {
          "name": "CalendarSessionWithContent",
          "kind": "type",
          "line": 290,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/fitness/readiness.ts",
      "name": "readiness.ts",
      "extension": ".ts",
      "lines": 101,
      "size": 3307,
      "type": "utility",
      "exports": [
        {
          "name": "buildReadinessContext",
          "kind": "function",
          "line": 20,
          "isDefault": false,
          "params": "(db: any, opts?: { start?: string; end?: string; daysBack?: number })"
        },
        {
          "name": "ReadinessContext",
          "kind": "type",
          "line": 4,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "pillars",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/fitness/rendering.ts",
      "name": "rendering.ts",
      "extension": ".ts",
      "lines": 73,
      "size": 2535,
      "type": "utility",
      "exports": [
        {
          "name": "getFitnessIconKey",
          "kind": "function",
          "line": 14,
          "isDefault": false,
          "params": "(template?: SessionTemplate | null)"
        },
        {
          "name": "getSessionHint",
          "kind": "function",
          "line": 29,
          "isDefault": false,
          "params": "(template?: SessionTemplate | null)"
        },
        {
          "name": "FitnessIconKey",
          "kind": "type",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/fitness/schedule.ts",
      "name": "schedule.ts",
      "extension": ".ts",
      "lines": 777,
      "size": 32698,
      "type": "utility",
      "exports": [
        {
          "name": "runScheduleJobChunk",
          "kind": "function",
          "line": 63,
          "isDefault": false,
          "params": "(db: any, jobId: string)"
        },
        {
          "name": "RunScheduleJobChunkResult",
          "kind": "type",
          "line": 40,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "fitnessPlanArtifacts",
            "fitnessPlanDays",
            "pillars",
            "planGenerationJobs",
            "planVersions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "calendarSessionWithContentSchema",
            "materializeRange",
            "type TrainingPlan"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/briefs",
          "names": [
            "generateDayBriefMarkdown",
            "generateWeekBriefMarkdown"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/readiness",
          "names": [
            "buildReadinessContext"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/fitness/workout-parser.ts",
      "name": "workout-parser.ts",
      "extension": ".ts",
      "lines": 540,
      "size": 16055,
      "type": "utility",
      "exports": [
        {
          "name": "parseExerciseLine",
          "kind": "function",
          "line": 74,
          "isDefault": false,
          "params": "(line: string)"
        },
        {
          "name": "parseWorkout",
          "kind": "function",
          "line": 297,
          "isDefault": false,
          "params": "(content: string, title?: string)"
        },
        {
          "name": "toExecutionPlan",
          "kind": "function",
          "line": 491,
          "isDefault": false,
          "params": "(workout: ParsedWorkout)"
        },
        {
          "name": "ParsedExercise",
          "kind": "type",
          "line": 26,
          "isDefault": false
        },
        {
          "name": "ParsedWorkout",
          "kind": "type",
          "line": 43,
          "isDefault": false
        },
        {
          "name": "WorkoutType",
          "kind": "type",
          "line": 57,
          "isDefault": false
        },
        {
          "name": "WorkoutExecutionPlan",
          "kind": "type",
          "line": 438,
          "isDefault": false
        },
        {
          "name": "ExecutionExercise",
          "kind": "type",
          "line": 447,
          "isDefault": false
        },
        {
          "name": "ExecutionSet",
          "kind": "type",
          "line": 463,
          "isDefault": false
        },
        {
          "name": "ExecutedSet",
          "kind": "type",
          "line": 477,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/graph/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 46,
      "size": 838,
      "type": "utility",
      "exports": [],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/graph/neo4j.ts",
      "name": "neo4j.ts",
      "extension": ".ts",
      "lines": 562,
      "size": 14850,
      "type": "utility",
      "exports": [
        {
          "name": "isNeo4jConfigured",
          "kind": "function",
          "line": 38,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getDriver",
          "kind": "function",
          "line": 45,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getSession",
          "kind": "function",
          "line": 75,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "closeDriver",
          "kind": "function",
          "line": 84,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "checkHealth",
          "kind": "function",
          "line": 106,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "runQuery",
          "kind": "function",
          "line": 155,
          "isDefault": false
        },
        {
          "name": "runWriteTransaction",
          "kind": "function",
          "line": 184,
          "isDefault": false,
          "params": "(\r\n  work: (tx: ManagedTransaction)"
        },
        {
          "name": "initializeSchema",
          "kind": "function",
          "line": 207,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "upsertEntity",
          "kind": "function",
          "line": 260,
          "isDefault": false,
          "params": "(entity: GraphEntity)"
        },
        {
          "name": "upsertEntities",
          "kind": "function",
          "line": 281,
          "isDefault": false,
          "params": "(entities: GraphEntity[])"
        },
        {
          "name": "upsertRelationship",
          "kind": "function",
          "line": 300,
          "isDefault": false,
          "params": "(rel: GraphRelationship)"
        },
        {
          "name": "upsertRelationships",
          "kind": "function",
          "line": 321,
          "isDefault": false,
          "params": "(\r\n  relationships: GraphRelationship[],\r\n  relType: string\r\n)"
        },
        {
          "name": "getConnectedEntities",
          "kind": "function",
          "line": 348,
          "isDefault": false,
          "params": "(\r\n  entityId: string\r\n)"
        },
        {
          "name": "findShortestPath",
          "kind": "function",
          "line": 386,
          "isDefault": false,
          "params": "(\r\n  fromId: string,\r\n  toId: string,\r\n  maxHops: number = 5\r\n)"
        },
        {
          "name": "getMostConnected",
          "kind": "function",
          "line": 421,
          "isDefault": false,
          "params": "(\r\n  workspaceId: string,\r\n  limit: number = 10\r\n)"
        },
        {
          "name": "getNetworkAround",
          "kind": "function",
          "line": 460,
          "isDefault": false,
          "params": "(\r\n  entityId: string,\r\n  depth: number = 2,\r\n  limit: number = 50\r\n)"
        },
        {
          "name": "clearAllData",
          "kind": "function",
          "line": 529,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getSyncStatus",
          "kind": "function",
          "line": 537,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "Neo4jHealthStatus",
          "kind": "type",
          "line": 95,
          "isDefault": false
        },
        {
          "name": "GraphEntity",
          "kind": "type",
          "line": 242,
          "isDefault": false
        },
        {
          "name": "GraphRelationship",
          "kind": "type",
          "line": 250,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "neo4j-driver",
          "names": [
            "neo4j",
            "Driver",
            "Session",
            "Result",
            "ManagedTransaction"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/integrations/microsoft/auth.ts",
      "name": "auth.ts",
      "extension": ".ts",
      "lines": 192,
      "size": 5373,
      "type": "utility",
      "exports": [
        {
          "name": "getMicrosoftConfig",
          "kind": "function",
          "line": 15,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "isConfigured",
          "kind": "function",
          "line": 24,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "buildAuthUrl",
          "kind": "function",
          "line": 32,
          "isDefault": false,
          "params": "(state?: string)"
        },
        {
          "name": "exchangeCodeForTokens",
          "kind": "function",
          "line": 48,
          "isDefault": false,
          "params": "(code: string)"
        },
        {
          "name": "refreshAccessToken",
          "kind": "function",
          "line": 83,
          "isDefault": false,
          "params": "(refreshToken: string)"
        },
        {
          "name": "storeConnection",
          "kind": "function",
          "line": 117,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n  userId: string | null,\n  tokens: { accessToken: string; refreshToken: string; expiresIn: number },\n)"
        },
        {
          "name": "getValidAccessToken",
          "kind": "function",
          "line": 145,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "integrationConnections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/integrations/microsoft/calendar-sync.ts",
      "name": "calendar-sync.ts",
      "extension": ".ts",
      "lines": 99,
      "size": 2760,
      "type": "utility",
      "exports": [
        {
          "name": "syncCalendar",
          "kind": "function",
          "line": 12,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n)"
        }
      ],
      "imports": [
        {
          "source": "./auth",
          "names": [
            "getValidAccessToken"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./graph-client",
          "names": [
            "fetchCalendarEvents",
            "type GraphCalendarEvent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "syncedCalendarEvents",
            "events",
            "entities",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/integrations/microsoft/email-classification.ts",
      "name": "email-classification.ts",
      "extension": ".ts",
      "lines": 87,
      "size": 2367,
      "type": "utility",
      "exports": [
        {
          "name": "classifyEmail",
          "kind": "function",
          "line": 24,
          "isDefault": false,
          "params": "(\n  subject: string,\n  bodySnippet: string,\n  sender: string,\n  knownEntities: KnownEntity[],\n  knownDealNames: string[],\n)"
        },
        {
          "name": "EmailClassification",
          "kind": "type",
          "line": 7,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/integrations/microsoft/email-sync.ts",
      "name": "email-sync.ts",
      "extension": ".ts",
      "lines": 131,
      "size": 3971,
      "type": "utility",
      "exports": [
        {
          "name": "syncEmails",
          "kind": "function",
          "line": 14,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n)"
        }
      ],
      "imports": [
        {
          "source": "./auth",
          "names": [
            "getValidAccessToken"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./graph-client",
          "names": [
            "fetchRecentEmails"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./email-classification",
          "names": [
            "classifyEmail"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "syncedEmails",
            "events",
            "entities",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "ilike"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/integrations/microsoft/graph-client.ts",
      "name": "graph-client.ts",
      "extension": ".ts",
      "lines": 118,
      "size": 3006,
      "type": "utility",
      "exports": [
        {
          "name": "graphGet",
          "kind": "function",
          "line": 16,
          "isDefault": false
        },
        {
          "name": "fetchCalendarEvents",
          "kind": "function",
          "line": 74,
          "isDefault": false,
          "params": "(\n  accessToken: string,\n  daysAhead: number = 7,\n)"
        },
        {
          "name": "fetchRecentEmails",
          "kind": "function",
          "line": 99,
          "isDefault": false,
          "params": "(\n  accessToken: string,\n  daysBack: number = 3,\n)"
        },
        {
          "name": "GraphResponse",
          "kind": "type",
          "line": 10,
          "isDefault": false
        },
        {
          "name": "GraphCalendarEvent",
          "kind": "type",
          "line": 48,
          "isDefault": false
        },
        {
          "name": "GraphMessage",
          "kind": "type",
          "line": 60,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/integrations/whoop.ts",
      "name": "whoop.ts",
      "extension": ".ts",
      "lines": 155,
      "size": 3990,
      "type": "utility",
      "exports": [
        {
          "name": "ingestWhoopData",
          "kind": "function",
          "line": 46,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  data: WhoopData\r\n)"
        },
        {
          "name": "hasWhoopConfig",
          "kind": "function",
          "line": 139,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "initiateWhoopOAuth",
          "kind": "function",
          "line": 149,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "WhoopConfig",
          "kind": "type",
          "line": 14,
          "isDefault": false
        },
        {
          "name": "WhoopData",
          "kind": "type",
          "line": 21,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "observations"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/intelligence/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 65,
      "size": 1695,
      "type": "utility",
      "exports": [],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/intelligence/relationships.ts",
      "name": "relationships.ts",
      "extension": ".ts",
      "lines": 752,
      "size": 21417,
      "type": "utility",
      "exports": [
        {
          "name": "recordIntroduction",
          "kind": "function",
          "line": 90,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  data: {\r\n    introducerId: string;\r\n    introducedId: string;\r\n    date?: Date;\r\n    context?: string;\r\n    type?: string;\r\n    source?: \"extraction\" | \"manual\" | \"inferred\";\r\n    sourceMemoryIds?: string[];\r\n  }\r\n)"
        },
        {
          "name": "getIntroductionChain",
          "kind": "function",
          "line": 123,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string,\r\n  maxDepth: number = 5\r\n)"
        },
        {
          "name": "getIntroductionsByIntroducer",
          "kind": "function",
          "line": 178,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  introducerId: string\r\n)"
        },
        {
          "name": "createReferralObligation",
          "kind": "function",
          "line": 207,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  data: {\r\n    referrerId: string;\r\n    type: \"percentage\" | \"flat_fee\" | \"ongoing\" | \"one_time\";\r\n    percentageBps?: number;\r\n    flatFee?: number;\r\n    appliesTo: \"all_deals\" | \"specific_deals\" | \"company_deals\" | \"introduction_chain\";\r\n    appliesToEntities?: string[];\r\n    description?: string;\r\n    expiresAt?: Date;\r\n  }\r\n)"
        },
        {
          "name": "getReferrerObligations",
          "kind": "function",
          "line": 242,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  referrerId: string\r\n)"
        },
        {
          "name": "getReferrerSummary",
          "kind": "function",
          "line": 262,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  referrerId: string\r\n)"
        },
        {
          "name": "recordReferralPayment",
          "kind": "function",
          "line": 332,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  data: {\r\n    obligationId?: string;\r\n    referrerId: string;\r\n    dealId?: string;\r\n    amount: number;\r\n    date?: Date;\r\n    method?: string;\r\n    referenceNumber?: string;\r\n    notes?: string;\r\n  }\r\n)"
        },
        {
          "name": "getReferrerPayments",
          "kind": "function",
          "line": 378,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  referrerId: string\r\n)"
        },
        {
          "name": "getNetworkData",
          "kind": "function",
          "line": 398,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  centerId: string,\r\n  depth: number = 2\r\n)"
        },
        {
          "name": "getFullNetworkData",
          "kind": "function",
          "line": 521,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    entityType?: string;\r\n    minPriority?: number;\r\n    limit?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "IntroductionChain",
          "kind": "type",
          "line": 36,
          "isDefault": false
        },
        {
          "name": "ReferrerSummary",
          "kind": "type",
          "line": 48,
          "isDefault": false
        },
        {
          "name": "NetworkNode",
          "kind": "type",
          "line": 62,
          "isDefault": false
        },
        {
          "name": "NetworkEdge",
          "kind": "type",
          "line": 70,
          "isDefault": false
        },
        {
          "name": "NetworkData",
          "kind": "type",
          "line": 78,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "introductions",
            "referralObligations",
            "referralPayments",
            "entities",
            "memories",
            "softRelationships",
            "entityRelationships",
            "eventEntities",
            "events",
            "type Introduction",
            "type NewIntroduction",
            "type ReferralObligation",
            "type NewReferralObligation",
            "type ReferralPayment",
            "type NewReferralPayment"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "desc",
            "isNull",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/intelligence/scoring.ts",
      "name": "scoring.ts",
      "extension": ".ts",
      "lines": 1072,
      "size": 32863,
      "type": "utility",
      "exports": [
        {
          "name": "computeEntityScores",
          "kind": "function",
          "line": 108,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "refreshAllEntityScores",
          "kind": "function",
          "line": 770,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    entityType?: string;\r\n    targetsOnly?: boolean;\r\n    limit?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "updateEntityIntelligence",
          "kind": "function",
          "line": 822,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "setEntityTarget",
          "kind": "function",
          "line": 895,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string,\r\n  tier: \"tier_1\" | \"tier_2\" | \"tier_3\",\r\n  reason?: string\r\n)"
        },
        {
          "name": "removeEntityTarget",
          "kind": "function",
          "line": 932,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "getTopPriorityEntities",
          "kind": "function",
          "line": 965,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    entityType?: string;\r\n    limit?: number;\r\n    targetsOnly?: boolean;\r\n  } = {}\r\n)"
        },
        {
          "name": "getEntitiesNeedingAttention",
          "kind": "function",
          "line": 1013,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    entityType?: string;\r\n    limit?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "getEntityIntelligence",
          "kind": "function",
          "line": 1058,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "PriorityComponents",
          "kind": "type",
          "line": 39,
          "isDefault": false
        },
        {
          "name": "HealthComponents",
          "kind": "type",
          "line": 49,
          "isDefault": false
        },
        {
          "name": "EntityScores",
          "kind": "type",
          "line": 57,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entityIntelligence",
            "entities",
            "events",
            "memories",
            "memoryPatterns",
            "softRelationships",
            "introductions",
            "type EntityIntelligence"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "desc",
            "gte",
            "isNull",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/intelligence/suggestions.ts",
      "name": "suggestions.ts",
      "extension": ".ts",
      "lines": 840,
      "size": 25193,
      "type": "utility",
      "exports": [
        {
          "name": "generateSuggestions",
          "kind": "function",
          "line": 77,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    maxSuggestions?: number;\r\n    triggersToRun?: SuggestionTriggerType[];\r\n  } = {}\r\n)"
        },
        {
          "name": "getActiveSuggestions",
          "kind": "function",
          "line": 539,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    entityId?: string;\r\n    entityType?: string;\r\n    suggestionType?: SuggestionType;\r\n    triggerType?: SuggestionTriggerType;\r\n    limit?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "getSuggestionsWithEntities",
          "kind": "function",
          "line": 580,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    limit?: number;\r\n    includeEntity?: boolean;\r\n  } = {}\r\n)"
        },
        {
          "name": "dismissSuggestion",
          "kind": "function",
          "line": 618,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  suggestionId: string,\r\n  reason: \"not_relevant\" | \"already_done\" | \"will_not_do\"\r\n)"
        },
        {
          "name": "snoozeSuggestion",
          "kind": "function",
          "line": 651,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  suggestionId: string,\r\n  until: Date\r\n)"
        },
        {
          "name": "convertSuggestionToTask",
          "kind": "function",
          "line": 682,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  suggestionId: string,\r\n  taskId: string\r\n)"
        },
        {
          "name": "expireOldSuggestions",
          "kind": "function",
          "line": 714,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        },
        {
          "name": "getLocationSuggestions",
          "kind": "function",
          "line": 760,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  location: string\r\n)"
        },
        {
          "name": "SuggestionTriggerType",
          "kind": "type",
          "line": 32,
          "isDefault": false
        },
        {
          "name": "SuggestionType",
          "kind": "type",
          "line": 40,
          "isDefault": false
        },
        {
          "name": "ActionType",
          "kind": "type",
          "line": 42,
          "isDefault": false
        },
        {
          "name": "GeneratedSuggestion",
          "kind": "type",
          "line": 51,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "smartSuggestions",
            "suggestionFeedback",
            "entityIntelligence",
            "entities",
            "events",
            "memories",
            "memoryPatterns",
            "type SmartSuggestion",
            "type NewSmartSuggestion"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "desc",
            "gte",
            "lte",
            "isNull",
            "inArray",
            "lt"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/clarification.ts",
      "name": "clarification.ts",
      "extension": ".ts",
      "lines": 655,
      "size": 20545,
      "type": "utility",
      "exports": [
        {
          "name": "getKnowledgeProfile",
          "kind": "function",
          "line": 174,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "generateClarificationPrompts",
          "kind": "function",
          "line": 313,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string,\r\n  options: {\r\n    maxPrompts?: number;\r\n    context?: \"chat\" | \"entity_view\" | \"pre_call\";\r\n    recentInteraction?: string;\r\n  } = {}\r\n)"
        },
        {
          "name": "processClarificationResponse",
          "kind": "function",
          "line": 450,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  prompt: ClarificationPrompt,\r\n  response: ClarificationResponse\r\n)"
        },
        {
          "name": "getEntitiesWithKnowledgeGaps",
          "kind": "function",
          "line": 556,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    entityType?: string;\r\n    limit?: number;\r\n    minGaps?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "getChatClarificationSuggestions",
          "kind": "function",
          "line": 632,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  mentionedEntityIds: string[],\r\n  recentMessages?: string\r\n)"
        },
        {
          "name": "KnowledgeGap",
          "kind": "type",
          "line": 19,
          "isDefault": false
        },
        {
          "name": "ClarificationPrompt",
          "kind": "type",
          "line": 29,
          "isDefault": false
        },
        {
          "name": "ClarificationResponse",
          "kind": "type",
          "line": 44,
          "isDefault": false
        },
        {
          "name": "KnowledgeProfile",
          "kind": "type",
          "line": 51,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "memories",
            "entities",
            "softRelationships",
            "memoryPatterns"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "isNull",
            "desc",
            "sql",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/model-router",
          "names": [
            "chatCompletion"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/context-brief.ts",
      "name": "context-brief.ts",
      "extension": ".ts",
      "lines": 425,
      "size": 13067,
      "type": "utility",
      "exports": [
        {
          "name": "generateContextBrief",
          "kind": "function",
          "line": 48,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string,\r\n  options: GenerateContextBriefOptions = {}\r\n)"
        },
        {
          "name": "generatePreCallBrief",
          "kind": "function",
          "line": 400,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "generateDealBrief",
          "kind": "function",
          "line": 414,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  dealId: string,\r\n  contactId: string\r\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "desc",
            "isNull",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb",
            "type WorkspaceKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities",
            "memories",
            "memoryPatterns"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/model-router",
          "names": [
            "chatCompletion"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./memories",
          "names": [
            "getMemoriesForEntity",
            "trackMemorySurfaced",
            "calculateRelevanceScore"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./relationships",
          "names": [
            "getKeyRelationships",
            "getRelationshipsForEntity"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/extraction.ts",
      "name": "extraction.ts",
      "extension": ".ts",
      "lines": 465,
      "size": 15004,
      "type": "utility",
      "exports": [
        {
          "name": "extractMemories",
          "kind": "function",
          "line": 105,
          "isDefault": false,
          "params": "(\r\n  input: string,\r\n  context: ExtractionContext\r\n)"
        },
        {
          "name": "storeExtractedMemories",
          "kind": "function",
          "line": 191,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  extraction: MemoryExtractionResult,\r\n  entityId: string,\r\n  options: {\r\n    sourceEventId?: string;\r\n    sourceMessageId?: string;\r\n    createdByUserId?: string;\r\n    relatedDealId?: string;\r\n    sourceText?: string;\r\n  } = {}\r\n)"
        },
        {
          "name": "checkForContradiction",
          "kind": "function",
          "line": 293,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string,\r\n  newContent: string\r\n)"
        },
        {
          "name": "moderateContent",
          "kind": "function",
          "line": 390,
          "isDefault": false,
          "params": "(\r\n  input: string\r\n)"
        },
        {
          "name": "ExtractionContext",
          "kind": "type",
          "line": 89,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/model-router",
          "names": [
            "chatCompletion"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "memories",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "isNull",
            "desc"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./memories",
          "names": [
            "createMemory"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./relationships",
          "names": [
            "createOrUpdateSoftRelationship"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 226,
      "size": 6377,
      "type": "utility",
      "exports": [],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/knowledge/integration.ts",
      "name": "integration.ts",
      "extension": ".ts",
      "lines": 274,
      "size": 8763,
      "type": "utility",
      "exports": [
        {
          "name": "extractKnowledgeFromText",
          "kind": "function",
          "line": 80,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  entityId: string,\n  text: string,\n  options: KnowledgeExtractionOptions = {}\n)"
        },
        {
          "name": "extractKnowledgeForMentionedEntities",
          "kind": "function",
          "line": 197,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  entityMentions: Array<{ entityId: string; name: string }>,\n  text: string,\n  options: KnowledgeExtractionOptions = {}\n)"
        },
        {
          "name": "afterWorkExtractionApplied",
          "kind": "function",
          "line": 249,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  appliedEvents: Array<{\n    eventId: string;\n    description?: string | null;\n    entities: Array<{ entityId: string; name: string }>;\n  }>,\n  options: Omit<KnowledgeExtractionOptions, \"sourceEventId\"> = {}\n)"
        },
        {
          "name": "KnowledgeExtractionOptions",
          "kind": "type",
          "line": 20,
          "isDefault": false
        },
        {
          "name": "KnowledgeExtractionResult",
          "kind": "type",
          "line": 44,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./extraction",
          "names": [
            "extractMemories",
            "storeExtractedMemories",
            "moderateContent"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./relationships",
          "names": [
            "syncEntityRelationshipsToNeo4j"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./patterns",
          "names": [
            "detectEntityPatterns",
            "quickPatternUpdate"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/lifecycle.ts",
      "name": "lifecycle.ts",
      "extension": ".ts",
      "lines": 564,
      "size": 16346,
      "type": "utility",
      "exports": [
        {
          "name": "processMemoryDecay",
          "kind": "function",
          "line": 28,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        },
        {
          "name": "processDealClose",
          "kind": "function",
          "line": 123,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  dealId: string,\r\n  outcome: DealOutcomeInput\r\n)"
        },
        {
          "name": "recalculateRelevanceScores",
          "kind": "function",
          "line": 258,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  workspaceId: string\r\n)"
        },
        {
          "name": "refreshAllPatterns",
          "kind": "function",
          "line": 353,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  workspaceId: string\r\n)"
        },
        {
          "name": "consolidateEntityMemories",
          "kind": "function",
          "line": 396,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "runMaintenanceForWorkspace",
          "kind": "function",
          "line": 535,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  workspaceId: string\r\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "isNull",
            "lt",
            "sql",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb",
            "type WorkspaceKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "memories",
            "memoryPatterns",
            "dealOutcomes",
            "entities",
            "type Memory"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./patterns",
          "names": [
            "detectEntityPatterns"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/memories.ts",
      "name": "memories.ts",
      "extension": ".ts",
      "lines": 643,
      "size": 18625,
      "type": "utility",
      "exports": [
        {
          "name": "createMemory",
          "kind": "function",
          "line": 40,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  input: CreateMemoryInput\r\n)"
        },
        {
          "name": "getMemoriesForEntity",
          "kind": "function",
          "line": 241,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string,\r\n  options: {\r\n    includeArchived?: boolean;\r\n    memoryClasses?: MemoryClass[];\r\n    limit?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "getMemoriesForDeal",
          "kind": "function",
          "line": 276,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  dealId: string\r\n)"
        },
        {
          "name": "getMemory",
          "kind": "function",
          "line": 294,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  memoryId: string\r\n)"
        },
        {
          "name": "searchMemories",
          "kind": "function",
          "line": 312,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  query: string,\r\n  options: {\r\n    workspaceId?: string;\r\n    entityId?: string;\r\n    limit?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "updateMemoryFeedback",
          "kind": "function",
          "line": 364,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  memoryId: string,\r\n  feedback: \"helpful\" | \"not_relevant\" | \"outdated\"\r\n)"
        },
        {
          "name": "verifyMemory",
          "kind": "function",
          "line": 414,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  memoryId: string,\r\n  userId: string\r\n)"
        },
        {
          "name": "trackMemorySurfaced",
          "kind": "function",
          "line": 438,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  memoryId: string\r\n)"
        },
        {
          "name": "archiveMemory",
          "kind": "function",
          "line": 460,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  memoryId: string,\r\n  reason: string\r\n)"
        },
        {
          "name": "convertToHistorical",
          "kind": "function",
          "line": 483,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  memoryId: string,\r\n  newContent?: string\r\n)"
        },
        {
          "name": "calculateRelevanceScore",
          "kind": "function",
          "line": 528,
          "isDefault": false,
          "params": "(\r\n  memory: Memory,\r\n  context: RetrievalContext\r\n)"
        },
        {
          "name": "updateRelevanceScores",
          "kind": "function",
          "line": 600,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "archiveDecayedMemories",
          "kind": "function",
          "line": 620,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "gte",
            "isNull",
            "sql",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb",
            "type WorkspaceKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "memories",
            "entities",
            "type Memory",
            "type NewMemory"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/embeddings",
          "names": [
            "generateEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/notifications.ts",
      "name": "notifications.ts",
      "extension": ".ts",
      "lines": 525,
      "size": 15757,
      "type": "utility",
      "exports": [
        {
          "name": "detectPatternChanges",
          "kind": "function",
          "line": 106,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  since: Date\r\n)"
        },
        {
          "name": "generateNotificationsFromChanges",
          "kind": "function",
          "line": 177,
          "isDefault": false,
          "params": "(\r\n  changes: PatternChange[],\r\n  preferences: NotificationPreferences\r\n)"
        },
        {
          "name": "storeNotifications",
          "kind": "function",
          "line": 283,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  notifications: PatternNotification[]\r\n)"
        },
        {
          "name": "getNotifications",
          "kind": "function",
          "line": 317,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    unreadOnly?: boolean;\r\n    limit?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "markNotificationsRead",
          "kind": "function",
          "line": 345,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  notificationIds: string[]\r\n)"
        },
        {
          "name": "dismissNotifications",
          "kind": "function",
          "line": 377,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  notificationIds: string[]\r\n)"
        },
        {
          "name": "getNotificationPreferences",
          "kind": "function",
          "line": 413,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        },
        {
          "name": "updateNotificationPreferences",
          "kind": "function",
          "line": 433,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  preferences: Partial<NotificationPreferences>\r\n)"
        },
        {
          "name": "processPatternNotifications",
          "kind": "function",
          "line": 469,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        },
        {
          "name": "getNotificationSummary",
          "kind": "function",
          "line": 510,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        },
        {
          "name": "NotificationType",
          "kind": "type",
          "line": 21,
          "isDefault": false
        },
        {
          "name": "NotificationPriority",
          "kind": "type",
          "line": 29,
          "isDefault": false
        },
        {
          "name": "PatternNotification",
          "kind": "type",
          "line": 31,
          "isDefault": false
        },
        {
          "name": "NotificationPreferences",
          "kind": "type",
          "line": 46,
          "isDefault": false
        },
        {
          "name": "PatternChange",
          "kind": "type",
          "line": 67,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "memoryPatterns",
            "memories",
            "entities",
            "userProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "isNull",
            "desc",
            "sql",
            "gte",
            "lt",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/opinions.ts",
      "name": "opinions.ts",
      "extension": ".ts",
      "lines": 542,
      "size": 15645,
      "type": "utility",
      "exports": [
        {
          "name": "getEntityOpinions",
          "kind": "function",
          "line": 64,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "getEntityOpinionSummary",
          "kind": "function",
          "line": 115,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "findOpinionDivergences",
          "kind": "function",
          "line": 233,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  options: {\r\n    minDivergence?: number;\r\n    entityType?: string;\r\n    limit?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "getTeamSentiment",
          "kind": "function",
          "line": 339,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "compareUserOpinions",
          "kind": "function",
          "line": 447,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string,\r\n  userId1: string,\r\n  userId2: string\r\n)"
        },
        {
          "name": "UserOpinion",
          "kind": "type",
          "line": 17,
          "isDefault": false
        },
        {
          "name": "OpinionCluster",
          "kind": "type",
          "line": 27,
          "isDefault": false
        },
        {
          "name": "EntityOpinionSummary",
          "kind": "type",
          "line": 34,
          "isDefault": false
        },
        {
          "name": "OpinionDivergence",
          "kind": "type",
          "line": 45,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "memories",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "isNull",
            "desc",
            "sql",
            "ne",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/patterns.ts",
      "name": "patterns.ts",
      "extension": ".ts",
      "lines": 693,
      "size": 20792,
      "type": "utility",
      "exports": [
        {
          "name": "detectEntityPatterns",
          "kind": "function",
          "line": 49,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  entityId: string,\n  options: { skipAI?: boolean } = {}\n)"
        },
        {
          "name": "quickPatternUpdate",
          "kind": "function",
          "line": 111,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  entityId: string\n)"
        },
        {
          "name": "detectEntityTypePatterns",
          "kind": "function",
          "line": 501,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  workspaceId: string,\n  entityType: string\n)"
        },
        {
          "name": "promotePattern",
          "kind": "function",
          "line": 649,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  patternId: string\n)"
        },
        {
          "name": "demotePattern",
          "kind": "function",
          "line": 673,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  patternId: string\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "gte",
            "isNull",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb",
            "type WorkspaceKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "memories",
            "memoryPatterns",
            "entities",
            "type Memory",
            "type MemoryPattern",
            "type NewMemoryPattern"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/model-router",
          "names": [
            "chatCompletion"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/preferences.ts",
      "name": "preferences.ts",
      "extension": ".ts",
      "lines": 439,
      "size": 12663,
      "type": "utility",
      "exports": [
        {
          "name": "getEffectivePreferences",
          "kind": "function",
          "line": 54,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  userId: string,\r\n  entityType?: string,\r\n  entityId?: string\r\n)"
        },
        {
          "name": "updatePreferences",
          "kind": "function",
          "line": 135,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  input: UpdatePreferencesInput\r\n)"
        },
        {
          "name": "trackCategoryInteraction",
          "kind": "function",
          "line": 203,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  userId: string,\r\n  category: string,\r\n  interactionType: \"expand\" | \"collapse\" | \"click\" | \"dismiss\"\r\n)"
        },
        {
          "name": "applylearnedOrder",
          "kind": "function",
          "line": 267,
          "isDefault": false,
          "params": "(\r\n  baseOrder: string[],\r\n  learnedPreferences: Record<string, number>\r\n)"
        },
        {
          "name": "promoteCategory",
          "kind": "function",
          "line": 285,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  userId: string,\r\n  category: string,\r\n  scope: \"global\" | \"entity_type\" | \"entity\" = \"global\",\r\n  entityType?: string,\r\n  entityId?: string\r\n)"
        },
        {
          "name": "hideCategory",
          "kind": "function",
          "line": 323,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  userId: string,\r\n  category: string,\r\n  scope: \"global\" | \"entity_type\" | \"entity\" = \"global\",\r\n  entityType?: string,\r\n  entityId?: string\r\n)"
        },
        {
          "name": "renameCategory",
          "kind": "function",
          "line": 361,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  userId: string,\r\n  category: string,\r\n  newLabel: string,\r\n  scope: \"global\" | \"entity_type\" | \"entity\" = \"global\",\r\n  entityType?: string,\r\n  entityId?: string\r\n)"
        },
        {
          "name": "UserPreferences",
          "kind": "type",
          "line": 17,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb",
            "type WorkspaceKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "surfacePreferences",
            "type SurfacePreference",
            "type NewSurfacePreference"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/relationship-promotion.ts",
      "name": "relationship-promotion.ts",
      "extension": ".ts",
      "lines": 227,
      "size": 7837,
      "type": "utility",
      "exports": [
        {
          "name": "promoteCoOccurrence",
          "kind": "function",
          "line": 42,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  touchedEntityIds: string[]\r\n)"
        },
        {
          "name": "tagPersonalConnections",
          "kind": "function",
          "line": 153,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityIds: string[]\r\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "entityRelationships",
            "eventEntities",
            "softRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/relationships.ts",
      "name": "relationships.ts",
      "extension": ".ts",
      "lines": 497,
      "size": 13256,
      "type": "utility",
      "exports": [
        {
          "name": "createOrUpdateSoftRelationship",
          "kind": "function",
          "line": 36,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  input: CreateSoftRelationshipInput\r\n)"
        },
        {
          "name": "getRelationshipsForEntity",
          "kind": "function",
          "line": 171,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string,\r\n  options: {\r\n    includeUnresolved?: boolean;\r\n    relationshipTypes?: RelationshipType[];\r\n  } = {}\r\n)"
        },
        {
          "name": "getKeyRelationships",
          "kind": "function",
          "line": 209,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string,\r\n  limit = 5\r\n)"
        },
        {
          "name": "getUnresolvedRelationships",
          "kind": "function",
          "line": 238,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId?: string\r\n)"
        },
        {
          "name": "resolveRelationship",
          "kind": "function",
          "line": 267,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  relationshipId: string,\r\n  toEntityId: string\r\n)"
        },
        {
          "name": "autoResolveRelationships",
          "kind": "function",
          "line": 294,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey\r\n)"
        },
        {
          "name": "addMemoryToRelationship",
          "kind": "function",
          "line": 329,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  relationshipId: string,\r\n  memoryId: string\r\n)"
        },
        {
          "name": "updateRelationshipVisibility",
          "kind": "function",
          "line": 363,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  relationshipId: string,\r\n  visibility: DisplayVisibility\r\n)"
        },
        {
          "name": "syncEntityRelationshipsToNeo4j",
          "kind": "function",
          "line": 416,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  entityId: string\r\n)"
        },
        {
          "name": "getInverseRelationshipType",
          "kind": "function",
          "line": 464,
          "isDefault": false,
          "params": "(\r\n  type: RelationshipType\r\n)"
        },
        {
          "name": "getRelationshipCategory",
          "kind": "function",
          "line": 489,
          "isDefault": false,
          "params": "(type: RelationshipType)"
        },
        {
          "name": "RELATIONSHIP_CATEGORIES",
          "kind": "constant",
          "line": 482,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "isNull",
            "or",
            "sql",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb",
            "type WorkspaceKey"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "softRelationships",
            "entities",
            "type SoftRelationship",
            "type NewSoftRelationship"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/graph",
          "names": [
            "upsertEntity",
            "upsertRelationship",
            "isNeo4jConfigured"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/knowledge/types.ts",
      "name": "types.ts",
      "extension": ".ts",
      "lines": 314,
      "size": 9264,
      "type": "utility",
      "exports": [
        {
          "name": "MemoryClass",
          "kind": "type",
          "line": 9,
          "isDefault": false
        },
        {
          "name": "MemoryLifecycle",
          "kind": "type",
          "line": 18,
          "isDefault": false
        },
        {
          "name": "MemoryCategory",
          "kind": "type",
          "line": 24,
          "isDefault": false
        },
        {
          "name": "MemorySource",
          "kind": "type",
          "line": 42,
          "isDefault": false
        },
        {
          "name": "ExtractionType",
          "kind": "type",
          "line": 49,
          "isDefault": false
        },
        {
          "name": "MemoryVisibility",
          "kind": "type",
          "line": 54,
          "isDefault": false
        },
        {
          "name": "ArchivedReason",
          "kind": "type",
          "line": 60,
          "isDefault": false
        },
        {
          "name": "RelationshipType",
          "kind": "type",
          "line": 72,
          "isDefault": false
        },
        {
          "name": "DisplayVisibility",
          "kind": "type",
          "line": 93,
          "isDefault": false
        },
        {
          "name": "PatternScope",
          "kind": "type",
          "line": 102,
          "isDefault": false
        },
        {
          "name": "PatternType",
          "kind": "type",
          "line": 107,
          "isDefault": false
        },
        {
          "name": "DisplayProminence",
          "kind": "type",
          "line": 115,
          "isDefault": false
        },
        {
          "name": "OutcomeStatus",
          "kind": "type",
          "line": 125,
          "isDefault": false
        },
        {
          "name": "OutcomeSentiment",
          "kind": "type",
          "line": 131,
          "isDefault": false
        },
        {
          "name": "CreateMemoryInput",
          "kind": "type",
          "line": 140,
          "isDefault": false
        },
        {
          "name": "CreateSoftRelationshipInput",
          "kind": "type",
          "line": 163,
          "isDefault": false
        },
        {
          "name": "DealOutcomeInput",
          "kind": "type",
          "line": 178,
          "isDefault": false
        },
        {
          "name": "ExtractedMemory",
          "kind": "type",
          "line": 200,
          "isDefault": false
        },
        {
          "name": "MemoryExtractionResult",
          "kind": "type",
          "line": 216,
          "isDefault": false
        },
        {
          "name": "RetrievalContext",
          "kind": "type",
          "line": 225,
          "isDefault": false
        },
        {
          "name": "ScoredMemory",
          "kind": "type",
          "line": 232,
          "isDefault": false
        },
        {
          "name": "HeroBox",
          "kind": "type",
          "line": 249,
          "isDefault": false
        },
        {
          "name": "ContextBrief",
          "kind": "type",
          "line": 263,
          "isDefault": false
        },
        {
          "name": "ContentModerationResult",
          "kind": "type",
          "line": 283,
          "isDefault": false
        },
        {
          "name": "ContradictionResult",
          "kind": "type",
          "line": 305,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/monitoring/helicone-api.ts",
      "name": "helicone-api.ts",
      "extension": ".ts",
      "lines": 192,
      "size": 4747,
      "type": "utility",
      "exports": [
        {
          "name": "queryHeliconeRequests",
          "kind": "function",
          "line": 53,
          "isDefault": false,
          "params": "(\r\n  timeFilter: { start: string; end: string },\r\n  limit = 1000\r\n)"
        },
        {
          "name": "getHeliconeCostStats",
          "kind": "function",
          "line": 99,
          "isDefault": false,
          "params": "(days = 7)"
        },
        {
          "name": "isHeliconeConfigured",
          "kind": "function",
          "line": 189,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "HeliconeRequest",
          "kind": "type",
          "line": 12,
          "isDefault": false
        },
        {
          "name": "HeliconeCostByModel",
          "kind": "type",
          "line": 26,
          "isDefault": false
        },
        {
          "name": "HeliconeCostByTask",
          "kind": "type",
          "line": 34,
          "isDefault": false
        },
        {
          "name": "HeliconeStats",
          "kind": "type",
          "line": 41,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 2
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 4
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 5
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 8
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 8
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 9
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 9
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 10
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 10
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 12
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 26
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 34
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 41
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 46
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 47
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 51
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 53
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 56
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 57
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 58
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 63
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 66
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 68
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 68
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 85
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 91
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 99
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 99
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 104
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 121
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 147
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 187
        },
        {
          "service": "helicone",
          "detail": "Helicone",
          "line": 189
        },
        {
          "service": "helicone",
          "detail": "HELICONE",
          "line": 190
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/monitoring/sentry-api.ts",
      "name": "sentry-api.ts",
      "extension": ".ts",
      "lines": 124,
      "size": 3113,
      "type": "utility",
      "exports": [
        {
          "name": "getSentryIssues",
          "kind": "function",
          "line": 35,
          "isDefault": false,
          "params": "(limit = 25)"
        },
        {
          "name": "getSentryStats",
          "kind": "function",
          "line": 66,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "isSentryConfigured",
          "kind": "function",
          "line": 121,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "SentryIssue",
          "kind": "type",
          "line": 12,
          "isDefault": false
        },
        {
          "name": "SentryStats",
          "kind": "type",
          "line": 25,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [
        {
          "service": "sentry",
          "detail": "https://sentry.io/api/0/projects/${SENTRY_ORG}/${SENTRY_PROJECT}/issues/?limit=$",
          "line": 42
        },
        {
          "service": "sentry",
          "detail": "https://sentry.io/api/0/projects/${SENTRY_ORG}/${SENTRY_PROJECT}/stats/?stat=rec",
          "line": 77
        },
        {
          "service": "sentry",
          "detail": "sentry.",
          "line": 5
        },
        {
          "service": "sentry",
          "detail": "sentry.",
          "line": 43
        },
        {
          "service": "sentry",
          "detail": "sentry.",
          "line": 78
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/notifications/client.ts",
      "name": "client.ts",
      "extension": ".ts",
      "lines": 104,
      "size": 3439,
      "type": "utility",
      "exports": [
        {
          "name": "getPushStatus",
          "kind": "function",
          "line": 10,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "subscribeToPush",
          "kind": "function",
          "line": 24,
          "isDefault": false,
          "params": "(vapidPublicKey: string)"
        },
        {
          "name": "unsubscribeFromPush",
          "kind": "function",
          "line": 84,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/notifications/push-sender.ts",
      "name": "push-sender.ts",
      "extension": ".ts",
      "lines": 90,
      "size": 2159,
      "type": "utility",
      "exports": [
        {
          "name": "sendPush",
          "kind": "function",
          "line": 43,
          "isDefault": false,
          "params": "(\n  subscription: PushSubscription,\n  payload: PushPayload,\n)"
        },
        {
          "name": "sendPushToAll",
          "kind": "function",
          "line": 66,
          "isDefault": false,
          "params": "(\n  subscriptions: PushSubscription[],\n  payload: PushPayload,\n)"
        },
        {
          "name": "PushPayload",
          "kind": "type",
          "line": 23,
          "isDefault": false
        },
        {
          "name": "PushSubscription",
          "kind": "type",
          "line": 31,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "web-push",
          "names": [
            "webpush"
          ],
          "isDefault": true,
          "isExternal": true
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/notifications/rules.ts",
      "name": "rules.ts",
      "extension": ".ts",
      "lines": 210,
      "size": 7176,
      "type": "utility",
      "exports": [
        {
          "name": "evaluateNotificationRules",
          "kind": "function",
          "line": 71,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "sentNotifications"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./push-sender",
          "names": [
            "sendPushToAll",
            "type PushPayload"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./subscription-manager",
          "names": [
            "getWorkspaceSubscriptions",
            "removeExpiredSubscriptions"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/notifications/subscription-manager.ts",
      "name": "subscription-manager.ts",
      "extension": ".ts",
      "lines": 94,
      "size": 2297,
      "type": "utility",
      "exports": [
        {
          "name": "upsertSubscription",
          "kind": "function",
          "line": 14,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n  userId: string | null,\n  subscription: { endpoint: string; keys: { p256dh: string; auth: string } },\n)"
        },
        {
          "name": "removeSubscription",
          "kind": "function",
          "line": 51,
          "isDefault": false,
          "params": "(\n  db: any,\n  endpoint: string,\n)"
        },
        {
          "name": "getWorkspaceSubscriptions",
          "kind": "function",
          "line": 63,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string,\n)"
        },
        {
          "name": "removeExpiredSubscriptions",
          "kind": "function",
          "line": 85,
          "isDefault": false,
          "params": "(\n  db: any,\n  endpoints: string[],\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "pushSubscriptions"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/offline/queue.ts",
      "name": "queue.ts",
      "extension": ".ts",
      "lines": 106,
      "size": 2847,
      "type": "hook",
      "exports": [
        {
          "name": "queueOfflineCapture",
          "kind": "function",
          "line": 15,
          "isDefault": false,
          "params": "(\n  text: string,\n  threadId?: string,\n)"
        },
        {
          "name": "getQueueSize",
          "kind": "function",
          "line": 45,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "useOnlineStatus",
          "kind": "hook",
          "line": 69,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "react",
          "names": [
            "useState",
            "useEffect",
            "useCallback"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/registry/generators.ts",
      "name": "generators.ts",
      "extension": ".ts",
      "lines": 336,
      "size": 9958,
      "type": "utility",
      "exports": [
        {
          "name": "generateEntityExtractionSchema",
          "kind": "function",
          "line": 87,
          "isDefault": false,
          "params": "(registry: SchemaRegistry)"
        },
        {
          "name": "generateEventExtractionSchema",
          "kind": "function",
          "line": 124,
          "isDefault": false,
          "params": "(registry: SchemaRegistry)"
        },
        {
          "name": "generateWorkExtractionSchema",
          "kind": "function",
          "line": 164,
          "isDefault": false,
          "params": "(registry: SchemaRegistry)"
        },
        {
          "name": "generateSchemaManifest",
          "kind": "function",
          "line": 177,
          "isDefault": false,
          "params": "(registry: SchemaRegistry)"
        },
        {
          "name": "generateExtractionPromptContext",
          "kind": "function",
          "line": 229,
          "isDefault": false,
          "params": "(registry: SchemaRegistry)"
        },
        {
          "name": "generateToolParameterSchema",
          "kind": "function",
          "line": 274,
          "isDefault": false,
          "params": "(registry: SchemaRegistry, toolName: string)"
        },
        {
          "name": "getEntityTypeKeys",
          "kind": "function",
          "line": 318,
          "isDefault": false,
          "params": "(registry: SchemaRegistry)"
        },
        {
          "name": "getEventTypeKeys",
          "kind": "function",
          "line": 329,
          "isDefault": false,
          "params": "(registry: SchemaRegistry)"
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/registry/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 79,
      "size": 1762,
      "type": "utility",
      "exports": [],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/registry/introspection.ts",
      "name": "introspection.ts",
      "extension": ".ts",
      "lines": 699,
      "size": 20710,
      "type": "utility",
      "exports": [
        {
          "name": "listEntityTypes",
          "kind": "function",
          "line": 86,
          "isDefault": false,
          "params": "(registry: SchemaRegistry = workRegistry)"
        },
        {
          "name": "getEntityType",
          "kind": "function",
          "line": 118,
          "isDefault": false,
          "params": "(\r\n  entityTypeKey: string,\r\n  registry: SchemaRegistry = workRegistry\r\n)"
        },
        {
          "name": "listEventTypes",
          "kind": "function",
          "line": 185,
          "isDefault": false,
          "params": "(registry: SchemaRegistry = workRegistry)"
        },
        {
          "name": "getEventType",
          "kind": "function",
          "line": 215,
          "isDefault": false,
          "params": "(\r\n  eventTypeKey: string,\r\n  registry: SchemaRegistry = workRegistry\r\n)"
        },
        {
          "name": "listRelationships",
          "kind": "function",
          "line": 264,
          "isDefault": false,
          "params": "(registry: SchemaRegistry = workRegistry)"
        },
        {
          "name": "getRelationshipsFor",
          "kind": "function",
          "line": 295,
          "isDefault": false,
          "params": "(\r\n  entityTypeKey: string,\r\n  registry: SchemaRegistry = workRegistry\r\n)"
        },
        {
          "name": "listEnums",
          "kind": "function",
          "line": 336,
          "isDefault": false,
          "params": "(registry: SchemaRegistry = workRegistry)"
        },
        {
          "name": "getEnum",
          "kind": "function",
          "line": 367,
          "isDefault": false,
          "params": "(\r\n  enumKey: string,\r\n  registry: SchemaRegistry = workRegistry\r\n)"
        },
        {
          "name": "searchFields",
          "kind": "function",
          "line": 406,
          "isDefault": false,
          "params": "(\r\n  query: string,\r\n  options?: {\r\n    extractableOnly?: boolean;\r\n    searchableOnly?: boolean;\r\n    entityTypes?: string[];\r\n  },\r\n  registry: SchemaRegistry = workRegistry\r\n)"
        },
        {
          "name": "getSchemaOverview",
          "kind": "function",
          "line": 485,
          "isDefault": false,
          "params": "(registry: SchemaRegistry = workRegistry)"
        },
        {
          "name": "introspectSchema",
          "kind": "function",
          "line": 545,
          "isDefault": false,
          "params": "(\r\n  action: \r\n    | \"list_entity_types\"\r\n    | \"get_entity_type\"\r\n    | \"list_event_types\"\r\n    | \"get_event_type\"\r\n    | \"list_relationships\"\r\n    | \"get_relationships_for\"\r\n    | \"list_enums\"\r\n    | \"get_enum\"\r\n    | \"search_fields\"\r\n    | \"get_overview\",\r\n  params?: Record<string, any>,\r\n  registry: SchemaRegistry = workRegistry\r\n)"
        },
        {
          "name": "getIntrospectionToolDefinition",
          "kind": "function",
          "line": 622,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "EntityTypeInfo",
          "kind": "type",
          "line": 26,
          "isDefault": false
        },
        {
          "name": "FieldInfo",
          "kind": "type",
          "line": 38,
          "isDefault": false
        },
        {
          "name": "RelationshipInfo",
          "kind": "type",
          "line": 51,
          "isDefault": false
        },
        {
          "name": "EnumInfo",
          "kind": "type",
          "line": 62,
          "isDefault": false
        },
        {
          "name": "IntrospectionResult",
          "kind": "type",
          "line": 73,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./work-registry",
          "names": [
            "workRegistry"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/registry/types.ts",
      "name": "types.ts",
      "extension": ".ts",
      "lines": 259,
      "size": 6265,
      "type": "utility",
      "exports": [
        {
          "name": "FieldType",
          "kind": "type",
          "line": 16,
          "isDefault": false
        },
        {
          "name": "FieldDefinition",
          "kind": "type",
          "line": 32,
          "isDefault": false
        },
        {
          "name": "RelationshipDefinition",
          "kind": "type",
          "line": 84,
          "isDefault": false
        },
        {
          "name": "EntityTypeDefinition",
          "kind": "type",
          "line": 113,
          "isDefault": false
        },
        {
          "name": "EventTypeDefinition",
          "kind": "type",
          "line": 157,
          "isDefault": false
        },
        {
          "name": "EnumDefinition",
          "kind": "type",
          "line": 186,
          "isDefault": false
        },
        {
          "name": "SchemaRegistry",
          "kind": "type",
          "line": 207,
          "isDefault": false
        },
        {
          "name": "SchemaManifest",
          "kind": "type",
          "line": 230,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/registry/work-registry.ts",
      "name": "work-registry.ts",
      "extension": ".ts",
      "lines": 1002,
      "size": 29450,
      "type": "utility",
      "exports": [
        {
          "name": "getWorkRegistry",
          "kind": "function",
          "line": 948,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getExtractableEntityTypes",
          "kind": "function",
          "line": 955,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getExtractableFields",
          "kind": "function",
          "line": 964,
          "isDefault": false,
          "params": "(entityType: string)"
        },
        {
          "name": "getEnumValues",
          "kind": "function",
          "line": 976,
          "isDefault": false,
          "params": "(enumKey: string)"
        },
        {
          "name": "normalizeEnumValue",
          "kind": "function",
          "line": 985,
          "isDefault": false,
          "params": "(enumKey: string, value: string)"
        },
        {
          "name": "workEnums",
          "kind": "constant",
          "line": 14,
          "isDefault": false
        },
        {
          "name": "workRegistry",
          "kind": "constant",
          "line": 79,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/storage/documents.ts",
      "name": "documents.ts",
      "extension": ".ts",
      "lines": 123,
      "size": 3181,
      "type": "utility",
      "exports": [
        {
          "name": "uploadDocument",
          "kind": "function",
          "line": 16,
          "isDefault": false,
          "params": "(\n  path: string,\n  data: Buffer | Blob | ArrayBuffer | ReadableStream,\n  options?: { contentType?: string; upsert?: boolean },\n)"
        },
        {
          "name": "downloadDocument",
          "kind": "function",
          "line": 41,
          "isDefault": false,
          "params": "(\n  path: string,\n)"
        },
        {
          "name": "getDocumentSignedUrl",
          "kind": "function",
          "line": 62,
          "isDefault": false,
          "params": "(\n  path: string,\n  expiresIn = 3600,\n)"
        },
        {
          "name": "deleteDocument",
          "kind": "function",
          "line": 83,
          "isDefault": false,
          "params": "(\n  path: string,\n)"
        },
        {
          "name": "listDocuments",
          "kind": "function",
          "line": 103,
          "isDefault": false,
          "params": "(\n  folder: string,\n  options?: { limit?: number; offset?: number },\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/supabase/server",
          "names": [
            "createSupabaseServerClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/supabase/client.ts",
      "name": "client.ts",
      "extension": ".ts",
      "lines": 14,
      "size": 581,
      "type": "utility",
      "exports": [
        {
          "name": "createSupabaseBrowserClient",
          "kind": "function",
          "line": 3,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "@supabase/ssr",
          "names": [
            "createBrowserClient"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/supabase/middleware.ts",
      "name": "middleware.ts",
      "extension": ".ts",
      "lines": 33,
      "size": 1101,
      "type": "utility",
      "exports": [
        {
          "name": "createSupabaseMiddlewareClient",
          "kind": "function",
          "line": 5,
          "isDefault": false,
          "params": "(req: NextRequest)"
        }
      ],
      "imports": [
        {
          "source": "@supabase/ssr",
          "names": [
            "createServerClient"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/server",
          "names": [
            "NextResponse"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/supabase/server.ts",
      "name": "server.ts",
      "extension": ".ts",
      "lines": 53,
      "size": 2011,
      "type": "utility",
      "exports": [
        {
          "name": "createSupabaseServerClient",
          "kind": "function",
          "line": 5,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getSupabaseUserId",
          "kind": "function",
          "line": 45,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "@supabase/ssr",
          "names": [
            "createServerClient"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "next/headers",
          "names": [
            "cookies"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/lib/supabase/upload-client.ts",
      "name": "upload-client.ts",
      "extension": ".ts",
      "lines": 107,
      "size": 3089,
      "type": "utility",
      "exports": [
        {
          "name": "uploadArtifactFromBrowser",
          "kind": "function",
          "line": 24,
          "isDefault": false,
          "params": "(\r\n  file: File | Blob,\r\n  options: {\r\n    workspaceId: string;\r\n    threadId?: string;\r\n    mimeType?: string;\r\n  }\r\n)"
        },
        {
          "name": "UploadedArtifact",
          "kind": "type",
          "line": 10,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./client",
          "names": [
            "createSupabaseBrowserClient"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/tenancy/roles.ts",
      "name": "roles.ts",
      "extension": ".ts",
      "lines": 40,
      "size": 1242,
      "type": "utility",
      "exports": [
        {
          "name": "roleRank",
          "kind": "function",
          "line": 6,
          "isDefault": false,
          "params": "(role: WorkspaceRole | null)"
        },
        {
          "name": "hasMinRole",
          "kind": "function",
          "line": 21,
          "isDefault": false,
          "params": "(role: WorkspaceRole | null, minRole: WorkspaceRole)"
        },
        {
          "name": "getActiveWorkspaceRole",
          "kind": "function",
          "line": 30,
          "isDefault": false,
          "params": "(db: any, workspaceId: string)"
        },
        {
          "name": "WorkspaceRole",
          "kind": "type",
          "line": 4,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "workspaceMemberships"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/audit.ts",
      "name": "audit.ts",
      "extension": ".ts",
      "lines": 21,
      "size": 447,
      "type": "utility",
      "exports": [
        {
          "name": "writeAudit",
          "kind": "function",
          "line": 5,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  action: string,\r\n  payload: unknown,\r\n  actor: string = \"system\",\r\n  dbOverride?: any\r\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "auditLog"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/capture.ts",
      "name": "capture.ts",
      "extension": ".ts",
      "lines": 909,
      "size": 35007,
      "type": "utility",
      "exports": [
        {
          "name": "applyCaptureExtraction",
          "kind": "function",
          "line": 230,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  extraction: CaptureExtraction,\n  dbOverride?: any,\n  options?: CaptureOptions,\n)"
        },
        {
          "name": "extractKnowledgeFromAppliedEvents",
          "kind": "function",
          "line": 822,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  eventIds: string[],\n  options: {\n    createdByUserId?: string;\n    skipModeration?: boolean;\n    detectPatterns?: boolean;\n    syncToNeo4j?: boolean;\n    /** Original user input text  provides richer context for knowledge extraction */\n    sourceText?: string;\n    /** Thread ID to fetch user message context from if sourceText not provided */\n    threadId?: string;\n  } = {}\n)"
        },
        {
          "name": "CaptureOptions",
          "kind": "type",
          "line": 223,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "or",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "eventEntities",
            "events",
            "observations",
            "pillars",
            "workoutSets",
            "entityRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/seed",
          "names": [
            "ensureDefaultPillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/embeddings",
          "names": [
            "generateEventEmbedding",
            "generateEntityEmbedding"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/context-cache",
          "names": [
            "contextCache"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/conversation-matching",
          "names": [
            "findConversation",
            "checkEmailDedup",
            "setConversationRoot"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "workspaceIdForKey"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/collections.ts",
      "name": "collections.ts",
      "extension": ".ts",
      "lines": 177,
      "size": 5991,
      "type": "utility",
      "exports": [
        {
          "name": "ensureCollection",
          "kind": "function",
          "line": 7,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  slug: string,\r\n  name: string,\r\n  description?: string | null,\r\n  metadata?: Record<string, any>,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "updateCollection",
          "kind": "function",
          "line": 39,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  id: string,\r\n  patch: { name?: string; description?: string | null; metadata?: Record<string, any> },\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "addCollectionItem",
          "kind": "function",
          "line": 58,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  collectionId: string,\r\n  title: string,\r\n  status: string = \"active\",\r\n  metadata?: Record<string, any>,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "updateCollectionItem",
          "kind": "function",
          "line": 110,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  id: string,\r\n  patch: { title?: string; status?: string; metadata?: Record<string, any>; move?: \"up\" | \"down\" | \"top\" | \"bottom\" },\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "deleteCollectionItem",
          "kind": "function",
          "line": 171,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, id: string, dbOverride?: any)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "collectionItems",
            "collections"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/enrichment",
          "names": [
            "enrichMetadata",
            "inferEnrichmentKindFromCollection"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/entity-merge.ts",
      "name": "entity-merge.ts",
      "extension": ".ts",
      "lines": 399,
      "size": 14365,
      "type": "utility",
      "exports": [
        {
          "name": "mergeEntities",
          "kind": "function",
          "line": 30,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  sourceEntityId: string,\r\n  targetEntityId: string,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "findEntitiesByName",
          "kind": "function",
          "line": 366,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  name: string,\r\n  entityType?: string\r\n)"
        },
        {
          "name": "MergeResult",
          "kind": "type",
          "line": 15,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "eventEntities",
            "entityRelationships",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "or",
            "and",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/seed-demo.ts",
      "name": "seed-demo.ts",
      "extension": ".ts",
      "lines": 576,
      "size": 18508,
      "type": "utility",
      "exports": [
        {
          "name": "seedPersonalDemoData",
          "kind": "function",
          "line": 102,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "seedWorkDemoData",
          "kind": "function",
          "line": 436,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "withDbSession"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/seed",
          "names": [
            "ensureDefaultPillars"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/work-config-seed",
          "names": [
            "ensureWorkDefaultConfig"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "collectionItems",
            "collections",
            "entities",
            "eventEntities",
            "events",
            "goals",
            "goalVersions",
            "habitCompletions",
            "observations",
            "pillars",
            "reflections",
            "userProfile",
            "workoutSets"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "orgs",
            "workspaces",
            "workspaceMemberships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "DEFAULT_ORG_ID",
            "PERSONAL_WORKSPACE_ID",
            "SYSTEM_USER_ID",
            "WORK_WORKSPACE_ID"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/seed.ts",
      "name": "seed.ts",
      "extension": ".ts",
      "lines": 51,
      "size": 1732,
      "type": "utility",
      "exports": [
        {
          "name": "ensureDefaultPillars",
          "kind": "function",
          "line": 15,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, dbOverride?: any)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "pillars"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/trainingPlan.ts",
      "name": "trainingPlan.ts",
      "extension": ".ts",
      "lines": 114,
      "size": 3442,
      "type": "utility",
      "exports": [
        {
          "name": "ensureTrainingPlan",
          "kind": "function",
          "line": 5,
          "isDefault": false,
          "params": "(db: any)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "planVersions",
            "plans"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/fitness/planSchema",
          "names": [
            "DEFAULT_TRAINING_PLAN",
            "trainingPlanSchema"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/user-settings.ts",
      "name": "user-settings.ts",
      "extension": ".ts",
      "lines": 289,
      "size": 8786,
      "type": "utility",
      "exports": [
        {
          "name": "getUserProfile",
          "kind": "function",
          "line": 31,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, dbOverride?: any)"
        },
        {
          "name": "updateApprovalLevel",
          "kind": "function",
          "line": 46,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  approvalLevel: ApprovalLevel,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "updateTrackingPreferences",
          "kind": "function",
          "line": 78,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  preferences: Record<string, any>,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "updateSTTStreaming",
          "kind": "function",
          "line": 111,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  streaming: boolean,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "getSTTStreaming",
          "kind": "function",
          "line": 155,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, dbOverride?: any)"
        },
        {
          "name": "getSTTProvider",
          "kind": "function",
          "line": 172,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "updateSTTProvider",
          "kind": "function",
          "line": 185,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  sttProvider: \"openai-transcribe\" | \"whisper\" | \"deepgram\",\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "updateSTTLanguage",
          "kind": "function",
          "line": 197,
          "isDefault": false,
          "params": "(\r\n  workspace: WorkspaceKey,\r\n  language: string,\r\n  dbOverride?: any\r\n)"
        },
        {
          "name": "updateChatStreaming",
          "kind": "function",
          "line": 237,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, streaming: boolean, dbOverride?: any)"
        },
        {
          "name": "getChatStreaming",
          "kind": "function",
          "line": 273,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, dbOverride?: any)"
        },
        {
          "name": "getSTTLanguage",
          "kind": "function",
          "line": 283,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, dbOverride?: any)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "userProfile"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 109
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 125
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 126
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 143
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 144
        },
        {
          "service": "deepgram",
          "detail": "Deepgram",
          "line": 166
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 175
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 178
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 187
        },
        {
          "service": "deepgram",
          "detail": "deepgram",
          "line": 190
        }
      ],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/work-config-seed.ts",
      "name": "work-config-seed.ts",
      "extension": ".ts",
      "lines": 763,
      "size": 36776,
      "type": "utility",
      "exports": [
        {
          "name": "ensureWorkDefaultConfig",
          "kind": "function",
          "line": 12,
          "isDefault": false,
          "params": "(workspace: WorkspaceKey, dbOverride?: any)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/workspace-guards",
          "names": [
            "withActiveWorkspaceDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry",
            "savedViews",
            "workScaffolds"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/tools/work-config.ts",
      "name": "work-config.ts",
      "extension": ".ts",
      "lines": 161,
      "size": 4235,
      "type": "utility",
      "exports": [
        {
          "name": "upsertWorkField",
          "kind": "function",
          "line": 6,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  input: {\n    id?: string;\n    domain: string;\n    key: string;\n    label: string;\n    fieldType: string;\n    options?: Record<string, unknown>;\n  },\n  dbOverride?: any\n)"
        },
        {
          "name": "upsertSavedView",
          "kind": "function",
          "line": 55,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  input: {\n    id?: string;\n    objectType: string;\n    name: string;\n    isDefault?: boolean;\n    filterSpec?: Record<string, unknown>;\n    sortSpec?: Record<string, unknown>;\n    columnSpec?: Record<string, unknown>;\n    groupSpec?: Record<string, unknown>;\n    metadata?: Record<string, unknown>;\n  },\n  dbOverride?: any\n)"
        },
        {
          "name": "upsertWorkScaffold",
          "kind": "function",
          "line": 122,
          "isDefault": false,
          "params": "(\n  workspace: WorkspaceKey,\n  input: {\n    id?: string;\n    objectType: string;\n    spec: Record<string, unknown>;\n  },\n  dbOverride?: any\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db",
          "names": [
            "getDb"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry",
            "savedViews",
            "workScaffolds"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/track-anything/chat-integration.ts",
      "name": "chat-integration.ts",
      "extension": ".ts",
      "lines": 341,
      "size": 9234,
      "type": "utility",
      "exports": [
        {
          "name": "shouldUseTrackAnything",
          "kind": "function",
          "line": 77,
          "isDefault": false,
          "params": "(\n  text: string,\n  workspace: WorkspaceKey\n)"
        },
        {
          "name": "runTrackAnythingExtraction",
          "kind": "function",
          "line": 119,
          "isDefault": false,
          "params": "(\n  text: string,\n  ctx: {\n    db: any;\n    workspaceId: string;\n    workspace: WorkspaceKey;\n    threadId?: string;\n  }\n)"
        },
        {
          "name": "runHybridExtraction",
          "kind": "function",
          "line": 244,
          "isDefault": false,
          "params": "(\n  text: string,\n  ctx: {\n    db: any;\n    workspaceId: string;\n    workspace: WorkspaceKey;\n    threadId?: string;\n    legacyExtractFn: (text: string, context?: any, resolutions?: Map<string, string | null>)"
        },
        {
          "name": "generateTrackAnythingResponse",
          "kind": "function",
          "line": 302,
          "isDefault": false,
          "params": "(result: TrackAnythingResult)"
        },
        {
          "name": "TrackAnythingCheck",
          "kind": "type",
          "line": 46,
          "isDefault": false
        },
        {
          "name": "TrackAnythingResult",
          "kind": "type",
          "line": 53,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./index",
          "names": [
            "detectQuickIntent",
            "extractUnified",
            "buildExtractionContext",
            "executeWithRouting",
            "type UnifiedExtraction",
            "type RoutingDecision",
            "type ExecutionResult"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/track-anything/executor.ts",
      "name": "executor.ts",
      "extension": ".ts",
      "lines": 655,
      "size": 19787,
      "type": "utility",
      "exports": [
        {
          "name": "executeExtraction",
          "kind": "function",
          "line": 43,
          "isDefault": false,
          "params": "(\n  extraction: UnifiedExtraction,\n  ctx: ExecutionContext\n)"
        },
        {
          "name": "executeIntent",
          "kind": "function",
          "line": 65,
          "isDefault": false,
          "params": "(\n  intent: ExtractionIntent,\n  ctx: ExecutionContext,\n  autoApply: boolean\n)"
        },
        {
          "name": "ExecutionResult",
          "kind": "type",
          "line": 16,
          "isDefault": false
        },
        {
          "name": "ExecutionContext",
          "kind": "type",
          "line": 29,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./templates",
          "names": [
            "getTemplateBySlug",
            "COLLECTION_TEMPLATES"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/enrichment",
          "names": [
            "enrichMetadata"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/track-anything/extract.ts",
      "name": "extract.ts",
      "extension": ".ts",
      "lines": 377,
      "size": 10800,
      "type": "utility",
      "exports": [
        {
          "name": "extractUnified",
          "kind": "function",
          "line": 163,
          "isDefault": false,
          "params": "(\n  text: string,\n  context: ExtractionContext\n)"
        },
        {
          "name": "shouldAutoApply",
          "kind": "function",
          "line": 222,
          "isDefault": false,
          "params": "(intent: ExtractionIntent)"
        },
        {
          "name": "detectQuickIntent",
          "kind": "function",
          "line": 243,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "buildExtractionContext",
          "kind": "function",
          "line": 347,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspaceId: string\n)"
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./types",
          "names": [
            "type ExtractionContext",
            "type ExtractionIntent",
            "type UnifiedExtraction",
            "unifiedExtractionSchema",
            "DEFAULT_AUTO_APPLY_RULES"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./templates",
          "names": [
            "COLLECTION_TEMPLATES",
            "findMatchingTemplate"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 170
        }
      ],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/track-anything/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 81,
      "size": 1700,
      "type": "utility",
      "exports": [],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/track-anything/router.ts",
      "name": "router.ts",
      "extension": ".ts",
      "lines": 358,
      "size": 10446,
      "type": "utility",
      "exports": [
        {
          "name": "routeIntent",
          "kind": "function",
          "line": 43,
          "isDefault": false,
          "params": "(\n  intent: ExtractionIntent,\n  workspace: \"personal\" | \"work\"\n)"
        },
        {
          "name": "routeExtraction",
          "kind": "function",
          "line": 134,
          "isDefault": false,
          "params": "(\n  extraction: UnifiedExtraction,\n  workspace: \"personal\" | \"work\"\n)"
        },
        {
          "name": "executeWithRouting",
          "kind": "function",
          "line": 210,
          "isDefault": false,
          "params": "(\n  extraction: UnifiedExtraction,\n  ctx: ExecutionContext & { workspace: \"personal\" | \"work\" }\n)"
        },
        {
          "name": "detectObservations",
          "kind": "function",
          "line": 300,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "RoutingTarget",
          "kind": "type",
          "line": 19,
          "isDefault": false
        },
        {
          "name": "RoutingDecision",
          "kind": "type",
          "line": 29,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./executor",
          "names": [
            "executeExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/track-anything/templates.ts",
      "name": "templates.ts",
      "extension": ".ts",
      "lines": 535,
      "size": 23759,
      "type": "utility",
      "exports": [
        {
          "name": "findMatchingTemplate",
          "kind": "function",
          "line": 506,
          "isDefault": false,
          "params": "(input: string)"
        },
        {
          "name": "getTemplateBySlug",
          "kind": "function",
          "line": 532,
          "isDefault": false,
          "params": "(slug: string)"
        },
        {
          "name": "COLLECTION_TEMPLATES",
          "kind": "constant",
          "line": 13,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/track-anything/track-anything.test.ts",
      "name": "track-anything.test.ts",
      "extension": ".ts",
      "lines": 486,
      "size": 15837,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "it",
            "expect"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./index",
          "names": [
            "detectQuickIntent",
            "findMatchingTemplate",
            "routeIntent",
            "detectObservations",
            "DEFAULT_AUTO_APPLY_RULES",
            "shouldAutoApply"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/track-anything/types.ts",
      "name": "types.ts",
      "extension": ".ts",
      "lines": 193,
      "size": 6582,
      "type": "utility",
      "exports": [
        {
          "name": "collectionTemplateSchema",
          "kind": "constant",
          "line": 14,
          "isDefault": false
        },
        {
          "name": "extractionIntentSchema",
          "kind": "constant",
          "line": 41,
          "isDefault": false
        },
        {
          "name": "unifiedExtractionSchema",
          "kind": "constant",
          "line": 124,
          "isDefault": false
        },
        {
          "name": "DEFAULT_AUTO_APPLY_RULES",
          "kind": "constant",
          "line": 153,
          "isDefault": false
        },
        {
          "name": "CollectionTemplate",
          "kind": "type",
          "line": 35,
          "isDefault": false
        },
        {
          "name": "ExtractionIntent",
          "kind": "type",
          "line": 118,
          "isDefault": false
        },
        {
          "name": "UnifiedExtraction",
          "kind": "type",
          "line": 139,
          "isDefault": false
        },
        {
          "name": "AutoApplyRule",
          "kind": "type",
          "line": 145,
          "isDefault": false
        },
        {
          "name": "ExtractionContext",
          "kind": "type",
          "line": 170,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/utils/1rm.ts",
      "name": "1rm.ts",
      "extension": ".ts",
      "lines": 36,
      "size": 1047,
      "type": "utility",
      "exports": [
        {
          "name": "calculate1RM",
          "kind": "function",
          "line": 12,
          "isDefault": false,
          "params": "(weight: number, reps: number)"
        },
        {
          "name": "calculate1RMAverage",
          "kind": "function",
          "line": 23,
          "isDefault": false,
          "params": "(weight: number, reps: number)"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/utils.ts",
      "name": "utils.ts",
      "extension": ".ts",
      "lines": 9,
      "size": 179,
      "type": "utility",
      "exports": [
        {
          "name": "cn",
          "kind": "function",
          "line": 4,
          "isDefault": false,
          "params": "(...inputs: ClassValue[])"
        }
      ],
      "imports": [
        {
          "source": "clsx",
          "names": [
            "type ClassValue",
            "clsx"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "tailwind-merge",
          "names": [
            "twMerge"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/action-suggestions.ts",
      "name": "action-suggestions.ts",
      "extension": ".ts",
      "lines": 196,
      "size": 7790,
      "type": "utility",
      "exports": [
        {
          "name": "generateSuggestions",
          "kind": "function",
          "line": 34,
          "isDefault": false,
          "params": "(db: any)"
        },
        {
          "name": "ActionSuggestion",
          "kind": "type",
          "line": 27,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/alias-dictionary.ts",
      "name": "alias-dictionary.ts",
      "extension": ".ts",
      "lines": 286,
      "size": 8126,
      "type": "utility",
      "exports": [
        {
          "name": "expandAliases",
          "kind": "function",
          "line": 72,
          "isDefault": false,
          "params": "(input: string, aliases?: AliasDictionary)"
        },
        {
          "name": "getCommonCREAliases",
          "kind": "function",
          "line": 106,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "detectPotentialAlias",
          "kind": "function",
          "line": 114,
          "isDefault": false,
          "params": "(\r\n  mentioned: string,\r\n  resolved: string,\r\n)"
        },
        {
          "name": "addAlias",
          "kind": "function",
          "line": 162,
          "isDefault": false,
          "params": "(\r\n  aliases: AliasDictionary,\r\n  abbreviation: string,\r\n  fullName: string,\r\n  type: 'company' | 'deal' | 'person'\r\n)"
        },
        {
          "name": "removeAlias",
          "kind": "function",
          "line": 197,
          "isDefault": false,
          "params": "(\r\n  aliases: AliasDictionary,\r\n  abbreviation: string\r\n)"
        },
        {
          "name": "getAllAliases",
          "kind": "function",
          "line": 215,
          "isDefault": false,
          "params": "(aliases: AliasDictionary)"
        },
        {
          "name": "formatAliasesForPrompt",
          "kind": "function",
          "line": 261,
          "isDefault": false,
          "params": "(aliases: AliasDictionary)"
        },
        {
          "name": "mergeAliases",
          "kind": "function",
          "line": 275,
          "isDefault": false,
          "params": "(\r\n  server: AliasDictionary | undefined,\r\n  local: AliasDictionary | undefined\r\n)"
        },
        {
          "name": "AliasDictionary",
          "kind": "type",
          "line": 13,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/conversation-matching.ts",
      "name": "conversation-matching.ts",
      "extension": ".ts",
      "lines": 315,
      "size": 10439,
      "type": "utility",
      "exports": [
        {
          "name": "findConversation",
          "kind": "function",
          "line": 56,
          "isDefault": false,
          "params": "(\r\n  db: PgDatabase<any>,\r\n  input: ConversationMatchInput,\r\n)"
        },
        {
          "name": "checkEmailDedup",
          "kind": "function",
          "line": 98,
          "isDefault": false,
          "params": "(\r\n  db: PgDatabase<any>,\r\n  workspaceId: string,\r\n  emailMessageId: string,\r\n)"
        },
        {
          "name": "setConversationRoot",
          "kind": "function",
          "line": 282,
          "isDefault": false,
          "params": "(\r\n  db: PgDatabase<any>,\r\n  eventId: string,\r\n)"
        },
        {
          "name": "getConversationEvents",
          "kind": "function",
          "line": 297,
          "isDefault": false,
          "params": "(\r\n  db: PgDatabase<any>,\r\n  conversationId: string,\r\n)"
        },
        {
          "name": "ConversationMatchResult",
          "kind": "type",
          "line": 26,
          "isDefault": false
        },
        {
          "name": "ConversationMatchInput",
          "kind": "type",
          "line": 34,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "inArray",
            "desc",
            "isNotNull"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "crypto",
          "names": [
            "randomUUID"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/core-fixtures/cache.ts",
      "name": "cache.ts",
      "extension": ".ts",
      "lines": 88,
      "size": 2486,
      "type": "utility",
      "exports": [
        {
          "name": "getCacheKey",
          "kind": "function",
          "line": 14,
          "isDefault": false,
          "params": "(\r\n  text: string,\r\n  entityResolutions: Map<string, string | null>,\r\n  now?: Date,\r\n  model?: string\r\n)"
        },
        {
          "name": "getCachedExtraction",
          "kind": "function",
          "line": 33,
          "isDefault": false,
          "params": "(key: string)"
        },
        {
          "name": "cacheExtraction",
          "kind": "function",
          "line": 50,
          "isDefault": false,
          "params": "(key: string, result: any)"
        },
        {
          "name": "shouldUseCache",
          "kind": "function",
          "line": 65,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getCacheStats",
          "kind": "function",
          "line": 72,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "crypto",
          "names": [
            "crypto"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "UPDATE"
      ]
    },
    {
      "path": "apps/web/src/lib/work/core-fixtures/golden-flows.test.ts",
      "name": "golden-flows.test.ts",
      "extension": ".ts",
      "lines": 17,
      "size": 492,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./golden-flows",
          "names": [
            "WORK_GOLDEN_FLOWS"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./runner",
          "names": [
            "runGoldenFlowDryRun"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/core-fixtures/golden-flows.ts",
      "name": "golden-flows.ts",
      "extension": ".ts",
      "lines": 335,
      "size": 15428,
      "type": "utility",
      "exports": [
        {
          "name": "WORK_GOLDEN_FLOWS",
          "kind": "constant",
          "line": 12,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/core-fixtures/runner.ts",
      "name": "runner.ts",
      "extension": ".ts",
      "lines": 59,
      "size": 1785,
      "type": "utility",
      "exports": [
        {
          "name": "normalizeProposedChanges",
          "kind": "function",
          "line": 21,
          "isDefault": false,
          "params": "(changes: ProposedChange[])"
        },
        {
          "name": "runGoldenFlowDryRun",
          "kind": "function",
          "line": 50,
          "isDefault": false,
          "params": "(extraction: CaptureExtraction)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/approval",
          "names": [
            "generateProposedChanges",
            "type ProposedChange"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts",
      "name": "test-telemetry.ts",
      "extension": ".ts",
      "lines": 58,
      "size": 1898,
      "type": "utility",
      "exports": [
        {
          "name": "incrementChatCompletions",
          "kind": "function",
          "line": 10,
          "isDefault": false,
          "params": "(tokens?: number)"
        },
        {
          "name": "incrementEmbeddings",
          "kind": "function",
          "line": 15,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getRequestCounts",
          "kind": "function",
          "line": 19,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "resetCounts",
          "kind": "function",
          "line": 28,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "printTelemetry",
          "kind": "function",
          "line": 34,
          "isDefault": false,
          "params": "(testName?: string)"
        },
        {
          "name": "assertWithinThreshold",
          "kind": "function",
          "line": 48,
          "isDefault": false,
          "params": "(maxRequests: number, testName: string)"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/core-fixtures/types.ts",
      "name": "types.ts",
      "extension": ".ts",
      "lines": 24,
      "size": 575,
      "type": "utility",
      "exports": [
        {
          "name": "WorkGoldenFlow",
          "kind": "type",
          "line": 3,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/core-fixtures/work-full-pipeline.test.ts",
      "name": "work-full-pipeline.test.ts",
      "extension": ".ts",
      "lines": 307,
      "size": 12846,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test",
            "beforeAll",
            "afterAll"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "dotenv",
          "names": [
            "config"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "csv-parse/sync",
          "names": [
            "parse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "inArray",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/work/extract-work",
          "names": [
            "extractWorkFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/proposal-shaping",
          "names": [
            "shapeWorkExtractionForProposals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./test-telemetry",
          "names": [
            "getRequestCounts",
            "resetCounts",
            "printTelemetry"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/core-fixtures/work-io-csv.test.ts",
      "name": "work-io-csv.test.ts",
      "extension": ".ts",
      "lines": 357,
      "size": 11282,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test",
            "beforeAll"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "dotenv",
          "names": [
            "config"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "csv-parse/sync",
          "names": [
            "parse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/work/extract-work",
          "names": [
            "extractWorkFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/proposal-shaping",
          "names": [
            "shapeWorkExtractionForProposals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./cache",
          "names": [
            "getCacheStats",
            "shouldUseCache"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./test-telemetry",
          "names": [
            "getRequestCounts",
            "resetCounts",
            "printTelemetry",
            "assertWithinThreshold"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/core-fixtures/work-io-integration.test.ts",
      "name": "work-io-integration.test.ts",
      "extension": ".ts",
      "lines": 548,
      "size": 20895,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test",
            "beforeAll",
            "afterAll"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "csv-parse/sync",
          "names": [
            "parse"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/work/extract-work",
          "names": [
            "extractWorkFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/proposal-shaping",
          "names": [
            "shapeWorkExtractionForProposals"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/approval",
          "names": [
            "generateProposedChanges"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/capture",
          "names": [
            "applyCaptureExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db",
          "names": [
            "withDbSession"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "WORK_WORKSPACE_ID",
            "SYSTEM_USER_ID"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities",
            "entityRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "or",
            "sql",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./cache",
          "names": [
            "getCacheStats",
            "shouldUseCache"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./test-telemetry",
          "names": [
            "getRequestCounts",
            "resetCounts",
            "printTelemetry",
            "assertWithinThreshold"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "DELETE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/csv-import.ts",
      "name": "csv-import.ts",
      "extension": ".ts",
      "lines": 335,
      "size": 10142,
      "type": "utility",
      "exports": [
        {
          "name": "parseCSV",
          "kind": "function",
          "line": 13,
          "isDefault": false,
          "params": "(content: string)"
        },
        {
          "name": "detectColumnMapping",
          "kind": "function",
          "line": 103,
          "isDefault": false,
          "params": "(\n  csvColumns: string[],\n  entityType: ImportEntityType,\n)"
        },
        {
          "name": "previewImport",
          "kind": "function",
          "line": 143,
          "isDefault": false,
          "params": "(\n  rows: Record<string, string>[],\n  mappings: ColumnMapping[],\n  entityType: ImportEntityType,\n  db: any,\n)"
        },
        {
          "name": "executeBatchImport",
          "kind": "function",
          "line": 227,
          "isDefault": false,
          "params": "(\n  rows: Record<string, string>[],\n  mappings: ColumnMapping[],\n  entityType: ImportEntityType,\n  options: ImportOptions,\n  workspaceId: string,\n  db: any,\n)"
        },
        {
          "name": "ImportEntityType",
          "kind": "type",
          "line": 65,
          "isDefault": false
        },
        {
          "name": "PreviewRow",
          "kind": "type",
          "line": 135,
          "isDefault": false
        },
        {
          "name": "ImportOptions",
          "kind": "type",
          "line": 215,
          "isDefault": false
        },
        {
          "name": "ImportResult",
          "kind": "type",
          "line": 220,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/daily-context.ts",
      "name": "daily-context.ts",
      "extension": ".ts",
      "lines": 133,
      "size": 5269,
      "type": "utility",
      "exports": [
        {
          "name": "buildDailyContext",
          "kind": "function",
          "line": 13,
          "isDefault": false,
          "params": "(\n  db: any,\n  clientTime?: { iso: string; timezone: string }\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "and",
            "lte",
            "gte"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/deal-brief.ts",
      "name": "deal-brief.ts",
      "extension": ".ts",
      "lines": 274,
      "size": 10897,
      "type": "utility",
      "exports": [
        {
          "name": "assembleDealBrief",
          "kind": "function",
          "line": 28,
          "isDefault": false,
          "params": "(\n  dealNameOrId: string,\n  db: any,\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities",
            "entityRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "sql",
            "and",
            "ilike",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/deal-detection.ts",
      "name": "deal-detection.ts",
      "extension": ".ts",
      "lines": 79,
      "size": 2228,
      "type": "utility",
      "exports": [
        {
          "name": "getActiveDealNames",
          "kind": "function",
          "line": 22,
          "isDefault": false,
          "params": "(db: any)"
        },
        {
          "name": "detectDealMention",
          "kind": "function",
          "line": 45,
          "isDefault": false,
          "params": "(\n  text: string,\n  knownDeals: string[],\n)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/disambiguation-memory.ts",
      "name": "disambiguation-memory.ts",
      "extension": ".ts",
      "lines": 197,
      "size": 5982,
      "type": "utility",
      "exports": [
        {
          "name": "recordDisambiguationChoice",
          "kind": "function",
          "line": 23,
          "isDefault": false,
          "params": "(\n  db: any,\n  entityId: string,\n  mentionText: string,\n)"
        },
        {
          "name": "getLearnedPreference",
          "kind": "function",
          "line": 72,
          "isDefault": false,
          "params": "(\n  db: any,\n  mentionText: string,\n)"
        },
        {
          "name": "storePendingDisambiguations",
          "kind": "function",
          "line": 104,
          "isDefault": false,
          "params": "(\n  db: any,\n  threadId: string,\n  pending: Array<{ mention: string; candidates: Array<{ id: string; name: string }> }>,\n)"
        },
        {
          "name": "getPendingDisambiguations",
          "kind": "function",
          "line": 125,
          "isDefault": false,
          "params": "(\n  db: any,\n  threadId: string,\n)"
        },
        {
          "name": "clearPendingDisambiguations",
          "kind": "function",
          "line": 142,
          "isDefault": false,
          "params": "(db: any, threadId: string)"
        },
        {
          "name": "matchDisambiguationReply",
          "kind": "function",
          "line": 156,
          "isDefault": false,
          "params": "(\n  text: string,\n  pending: Array<{ mention: string; candidates: Array<{ id: string; name: string }> }>,\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/display-utils.ts",
      "name": "display-utils.ts",
      "extension": ".ts",
      "lines": 382,
      "size": 11172,
      "type": "utility",
      "exports": [
        {
          "name": "formatFieldLabel",
          "kind": "function",
          "line": 102,
          "isDefault": false,
          "params": "(key: string)"
        },
        {
          "name": "formatCurrency",
          "kind": "function",
          "line": 144,
          "isDefault": false,
          "params": "(\n  value: any,\n  options: {\n    abbreviate?: boolean;  // Use \"mm\" for millions, \"k\" for thousands\n    showCents?: boolean;   // Show decimal places\n    fallback?: string;     // What to show for null/undefined\n  } = {}\n)"
        },
        {
          "name": "parseAmount",
          "kind": "function",
          "line": 186,
          "isDefault": false,
          "params": "(value: any)"
        },
        {
          "name": "formatDate",
          "kind": "function",
          "line": 216,
          "isDefault": false,
          "params": "(\n  value: any,\n  options: {\n    format?: \"short\" | \"medium\" | \"long\" | \"relative\";\n    fallback?: string;\n  } = {}\n)"
        },
        {
          "name": "formatRelativeDate",
          "kind": "function",
          "line": 255,
          "isDefault": false,
          "params": "(value: any, fallback = \"\")"
        },
        {
          "name": "getHumanReadableLabel",
          "kind": "function",
          "line": 263,
          "isDefault": false,
          "params": "(key: string)"
        },
        {
          "name": "getStageInfo",
          "kind": "function",
          "line": 300,
          "isDefault": false,
          "params": "(stage: string | null | undefined)"
        },
        {
          "name": "getEntityTypeLabel",
          "kind": "function",
          "line": 326,
          "isDefault": false,
          "params": "(type: string)"
        },
        {
          "name": "formatCellValue",
          "kind": "function",
          "line": 337,
          "isDefault": false,
          "params": "(\n  key: string,\n  value: any,\n  options: { abbreviate?: boolean } = {}\n)"
        },
        {
          "name": "DEAL_STAGES",
          "kind": "constant",
          "line": 282,
          "isDefault": false
        },
        {
          "name": "ENTITY_TYPE_LABELS",
          "kind": "constant",
          "line": 315,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/duplicate-handler.ts",
      "name": "duplicate-handler.ts",
      "extension": ".ts",
      "lines": 65,
      "size": 2575,
      "type": "utility",
      "exports": [
        {
          "name": "scanAndHandleDuplicates",
          "kind": "function",
          "line": 13,
          "isDefault": false,
          "params": "(\n  db: any,\n  entityIds: string[],\n)"
        }
      ],
      "imports": [
        {
          "source": "./post-extraction",
          "names": [
            "scanForDuplicates"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/tools/entity-merge",
          "names": [
            "mergeEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/entity-synthesis.ts",
      "name": "entity-synthesis.ts",
      "extension": ".ts",
      "lines": 127,
      "size": 3792,
      "type": "utility",
      "exports": [
        {
          "name": "synthesizeEntityUpdates",
          "kind": "function",
          "line": 11,
          "isDefault": false,
          "params": "({\n  db,\n  workspaceId,\n  eventIds,\n}: {\n  db: any;\n  workspaceId: string;\n  eventIds: string[];\n})"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "events",
            "eventEntities",
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/extract-work.test.ts",
      "name": "extract-work.test.ts",
      "extension": ".ts",
      "lines": 60,
      "size": 1929,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./extract-work",
          "names": [
            "normalizeWorkExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/extract-work.ts",
      "name": "extract-work.ts",
      "extension": ".ts",
      "lines": 1784,
      "size": 75614,
      "type": "utility",
      "exports": [
        {
          "name": "normalizeStage",
          "kind": "function",
          "line": 271,
          "isDefault": false,
          "params": "(stage: string | null | undefined)"
        },
        {
          "name": "normalizeWorkExtraction",
          "kind": "function",
          "line": 688,
          "isDefault": false,
          "params": "(\n  extraction: CaptureExtraction,\n  rawText: string,\n  now?: Date,\n  config?: WorkAssistantConfig\n)"
        },
        {
          "name": "extractWorkFromText",
          "kind": "function",
          "line": 1508,
          "isDefault": false,
          "params": "(args: {\n  text: string;\n  entityResolutions?: Map<string, string | null>;\n  assistantConfig?: WorkAssistantConfig;\n  /**\n   * Known entities from database for better matching.\n   * Format: { id, name, entityType, metadata }\n   */\n  knownEntities?: Array<{ id: string; name: string; entityType: string; metadata?: any }>;\n  /**\n   * Optional override for \"today\" when computing relative dates.\n   * Useful for deterministic scripts/tests (e.g. using the row's Entry Date)"
        },
        {
          "name": "WorkEntity",
          "kind": "type",
          "line": 25,
          "isDefault": false
        },
        {
          "name": "WorkEvent",
          "kind": "type",
          "line": 35,
          "isDefault": false
        },
        {
          "name": "WorkExtraction",
          "kind": "type",
          "line": 49,
          "isDefault": false
        },
        {
          "name": "WorkAssistantConfig",
          "kind": "type",
          "line": 54,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/work/fee-utils",
          "names": [
            "calculateFeeSplits",
            "parseReferralSplit"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/registry",
          "names": [
            "workRegistry",
            "generateEntityExtractionSchema",
            "generateEventExtractionSchema",
            "generateWorkExtractionSchema",
            "normalizeEnumValue",
            "getExtractableEntityTypes"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 1704
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 1539
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 1713
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/extraction-cache.ts",
      "name": "extraction-cache.ts",
      "extension": ".ts",
      "lines": 292,
      "size": 7939,
      "type": "utility",
      "exports": [
        {
          "name": "normalizeForCache",
          "kind": "function",
          "line": 60,
          "isDefault": false,
          "params": "(input: string)"
        },
        {
          "name": "getCacheKey",
          "kind": "function",
          "line": 71,
          "isDefault": false,
          "params": "(input: string, userId?: string)"
        },
        {
          "name": "getCached",
          "kind": "function",
          "line": 105,
          "isDefault": false,
          "params": "(input: string, userId?: string)"
        },
        {
          "name": "getCachedFuzzy",
          "kind": "function",
          "line": 125,
          "isDefault": false,
          "params": "(\r\n  input: string, \r\n  minSimilarity: number = 0.9,\r\n  userId?: string\r\n)"
        },
        {
          "name": "setCached",
          "kind": "function",
          "line": 152,
          "isDefault": false,
          "params": "(\r\n  input: string,\r\n  extraction: CaptureExtraction,\r\n  confidence: number,\r\n  model: string,\r\n  userId?: string\r\n)"
        },
        {
          "name": "invalidateCached",
          "kind": "function",
          "line": 190,
          "isDefault": false,
          "params": "(input: string, userId?: string)"
        },
        {
          "name": "invalidateAll",
          "kind": "function",
          "line": 198,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "invalidateByEntityMention",
          "kind": "function",
          "line": 208,
          "isDefault": false,
          "params": "(entityName: string)"
        },
        {
          "name": "getCacheStats",
          "kind": "function",
          "line": 244,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "warmCacheFromDb",
          "kind": "function",
          "line": 279,
          "isDefault": false,
          "params": "(db: any, userId?: string)"
        },
        {
          "name": "persistCacheToDb",
          "kind": "function",
          "line": 288,
          "isDefault": false,
          "params": "(db: any)"
        },
        {
          "name": "CacheEntry",
          "kind": "type",
          "line": 20,
          "isDefault": false
        },
        {
          "name": "CacheStats",
          "kind": "type",
          "line": 41,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "crypto",
          "names": [
            "crypto"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "UPDATE",
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/lib/work/extraction-context.ts",
      "name": "extraction-context.ts",
      "extension": ".ts",
      "lines": 238,
      "size": 9787,
      "type": "utility",
      "exports": [
        {
          "name": "buildExtractionContext",
          "kind": "function",
          "line": 18,
          "isDefault": false,
          "params": "(\n  enterpriseContext: EnterpriseContext,\n  sessionEntities?: Array<{ id: string; name: string; entityType: string; messagesAgo: number }>,\n  sessionEvents?: Array<{ id: string; title: string; eventType: string; messagesAgo: number }>,\n  vipEntities?: VipEntity[],\n)"
        },
        {
          "name": "getSessionEntities",
          "kind": "function",
          "line": 131,
          "isDefault": false,
          "params": "(\n  threadId: string,\n  db: any,\n  limit: number = 10,\n)"
        },
        {
          "name": "getSessionEvents",
          "kind": "function",
          "line": 190,
          "isDefault": false,
          "params": "(\n  threadId: string,\n  db: any,\n  limit: number = 5,\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "inArray"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./vip-entities",
          "names": [
            "formatVipEntitiesForContext",
            "type VipEntity"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/extraction-examples.ts",
      "name": "extraction-examples.ts",
      "extension": ".ts",
      "lines": 516,
      "size": 20063,
      "type": "utility",
      "exports": [
        {
          "name": "formatExamplesForPrompt",
          "kind": "function",
          "line": 458,
          "isDefault": false,
          "params": "(examples: ExtractionExample[] = EXTRACTION_EXAMPLES)"
        },
        {
          "name": "EXTRACTION_EXAMPLES",
          "kind": "constant",
          "line": 31,
          "isDefault": false
        },
        {
          "name": "DEAL_STAGES",
          "kind": "constant",
          "line": 474,
          "isDefault": false
        },
        {
          "name": "LISTING_STATUSES",
          "kind": "constant",
          "line": 487,
          "isDefault": false
        },
        {
          "name": "TASK_STATUSES",
          "kind": "constant",
          "line": 498,
          "isDefault": false
        },
        {
          "name": "ACTIVITY_RESULTS",
          "kind": "constant",
          "line": 508,
          "isDefault": false
        },
        {
          "name": "ExtractionExample",
          "kind": "type",
          "line": 12,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/extraction-recovery.ts",
      "name": "extraction-recovery.ts",
      "extension": ".ts",
      "lines": 279,
      "size": 7440,
      "type": "utility",
      "exports": [
        {
          "name": "isValidExtraction",
          "kind": "function",
          "line": 50,
          "isDefault": false,
          "params": "(extraction: CaptureExtraction)"
        },
        {
          "name": "createFallbackNote",
          "kind": "function",
          "line": 68,
          "isDefault": false,
          "params": "(\n  input: string,\n  reason: string\n)"
        },
        {
          "name": "calculateConfidence",
          "kind": "function",
          "line": 100,
          "isDefault": false,
          "params": "(extraction: CaptureExtraction)"
        },
        {
          "name": "needsReview",
          "kind": "function",
          "line": 153,
          "isDefault": false,
          "params": "(extraction: CaptureExtraction, confidence: number)"
        },
        {
          "name": "extractWithRecovery",
          "kind": "function",
          "line": 173,
          "isDefault": false,
          "params": "(\n  input: string,\n  extractFn: (text: string, options?: any)"
        },
        {
          "name": "isExtractableInput",
          "kind": "function",
          "line": 254,
          "isDefault": false,
          "params": "(input: string)"
        },
        {
          "name": "RecoveryOptions",
          "kind": "type",
          "line": 22,
          "isDefault": false
        },
        {
          "name": "RecoveryResult",
          "kind": "type",
          "line": 33,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./alias-dictionary",
          "names": [
            "expandAliases",
            "type AliasDictionary"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/model-router",
          "names": [
            "selectModel",
            "chatCompletionWithFallback",
            "type ModelId"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/confidence-config",
          "names": [
            "CONFIDENCE"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/extraction-validation.ts",
      "name": "extraction-validation.ts",
      "extension": ".ts",
      "lines": 577,
      "size": 15409,
      "type": "utility",
      "exports": [
        {
          "name": "validateExtraction",
          "kind": "function",
          "line": 442,
          "isDefault": false,
          "params": "(extraction: CaptureExtraction)"
        },
        {
          "name": "isValidExtractionQuick",
          "kind": "function",
          "line": 494,
          "isDefault": false,
          "params": "(extraction: CaptureExtraction)"
        },
        {
          "name": "calculateExtractionConfidence",
          "kind": "function",
          "line": 526,
          "isDefault": false,
          "params": "(result: ValidationResult)"
        },
        {
          "name": "needsReview",
          "kind": "function",
          "line": 552,
          "isDefault": false,
          "params": "(result: ValidationResult)"
        },
        {
          "name": "getValidationSummary",
          "kind": "function",
          "line": 559,
          "isDefault": false,
          "params": "(result: ValidationResult)"
        },
        {
          "name": "CONFIDENCE",
          "kind": "constant",
          "line": 517,
          "isDefault": false
        },
        {
          "name": "ValidationIssue",
          "kind": "type",
          "line": 32,
          "isDefault": false
        },
        {
          "name": "ValidationResult",
          "kind": "type",
          "line": 40,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/fee-utils.ts",
      "name": "fee-utils.ts",
      "extension": ".ts",
      "lines": 90,
      "size": 2538,
      "type": "utility",
      "exports": [
        {
          "name": "calculateFeeSplits",
          "kind": "function",
          "line": 26,
          "isDefault": false,
          "params": "(fee: {\n  grossFee?: number;\n  splits?: FeeSplit[];\n})"
        },
        {
          "name": "parseReferralSplit",
          "kind": "function",
          "line": 49,
          "isDefault": false,
          "params": "(\n  text: string,\n  grossFee: number,\n)"
        },
        {
          "name": "FeeSplit",
          "kind": "type",
          "line": 8,
          "isDefault": false
        },
        {
          "name": "FeeCalculation",
          "kind": "type",
          "line": 17,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/field-registry-cache.ts",
      "name": "field-registry-cache.ts",
      "extension": ".ts",
      "lines": 241,
      "size": 6535,
      "type": "utility",
      "exports": [
        {
          "name": "getCachedFieldTypeMap",
          "kind": "function",
          "line": 67,
          "isDefault": false,
          "params": "(\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "getCachedFieldRegistry",
          "kind": "function",
          "line": 145,
          "isDefault": false,
          "params": "(\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "invalidateFieldRegistryCache",
          "kind": "function",
          "line": 208,
          "isDefault": false,
          "params": "(workspaceId: string)"
        },
        {
          "name": "clearAllFieldRegistryCache",
          "kind": "function",
          "line": 232,
          "isDefault": false,
          "params": "()"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/lib/work/field-registry-context.ts",
      "name": "field-registry-context.ts",
      "extension": ".ts",
      "lines": 379,
      "size": 17287,
      "type": "utility",
      "exports": [
        {
          "name": "fetchFieldRegistry",
          "kind": "function",
          "line": 83,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId?: string\r\n)"
        },
        {
          "name": "formatFieldsForPrompt",
          "kind": "function",
          "line": 322,
          "isDefault": false,
          "params": "(fields: FieldDefinition[])"
        },
        {
          "name": "formatSchemaForPrompt",
          "kind": "function",
          "line": 336,
          "isDefault": false,
          "params": "(ctx: FieldRegistryContext)"
        },
        {
          "name": "getFieldRegistryPromptSection",
          "kind": "function",
          "line": 375,
          "isDefault": false,
          "params": "(db?: any)"
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./extraction-examples",
          "names": [
            "DEAL_STAGES",
            "LISTING_STATUSES",
            "TASK_STATUSES",
            "ACTIVITY_RESULTS"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/grounding.test.ts",
      "name": "grounding.test.ts",
      "extension": ".ts",
      "lines": 53,
      "size": 2587,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./grounding",
          "names": [
            "needsWorkClarification",
            "rankWorkEntityCandidates"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/grounding.ts",
      "name": "grounding.ts",
      "extension": ".ts",
      "lines": 217,
      "size": 7752,
      "type": "utility",
      "exports": [
        {
          "name": "inferWorkPreferredEntityTypes",
          "kind": "function",
          "line": 39,
          "isDefault": false,
          "params": "(args: { \n  mentionText: string; \n  fullText: string;\n  config?: WorkAssistantConfig;\n})"
        },
        {
          "name": "rankWorkEntityCandidates",
          "kind": "function",
          "line": 137,
          "isDefault": false,
          "params": "(args: {\n  mention: EntityMention;\n  candidates: EntityCandidate[];\n  fullText: string;\n  config?: WorkAssistantConfig;\n})"
        },
        {
          "name": "needsWorkClarification",
          "kind": "function",
          "line": 197,
          "isDefault": false,
          "params": "(args: { mention: EntityMention; candidates: EntityCandidate[] })"
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/confidence-config",
          "names": [
            "CONFIDENCE"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/insights/index.ts",
      "name": "index.ts",
      "extension": ".ts",
      "lines": 346,
      "size": 10529,
      "type": "utility",
      "exports": [
        {
          "name": "executeInsightQuery",
          "kind": "function",
          "line": 42,
          "isDefault": false,
          "params": "(\n  naturalLanguage: string,\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "isLikelyInsightQuestion",
          "kind": "function",
          "line": 286,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "formatInsightForChat",
          "kind": "function",
          "line": 294,
          "isDefault": false,
          "params": "(result: InsightResult)"
        }
      ],
      "imports": [
        {
          "source": "./nl-to-query",
          "names": [
            "detectInsightQuery",
            "classifyWithLLM",
            "buildQuery"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./queries",
          "names": [
            "contactsInArea",
            "staleContacts",
            "dealsClosingSoon",
            "topTargets",
            "recentActivity",
            "relationshipGaps",
            "dealPipeline"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/insights/nl-to-query.ts",
      "name": "nl-to-query.ts",
      "extension": ".ts",
      "lines": 297,
      "size": 8642,
      "type": "utility",
      "exports": [
        {
          "name": "detectInsightQuery",
          "kind": "function",
          "line": 160,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "classifyWithLLM",
          "kind": "function",
          "line": 194,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "buildQuery",
          "kind": "function",
          "line": 256,
          "isDefault": false,
          "params": "(\n  detection: QueryDetection,\n  originalText: string\n)"
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/cost-tracking",
          "names": [
            "trackOpenAIUsage"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/router",
          "names": [
            "modelForTask"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 225
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 195
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 230
        }
      ],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/insights/queries.ts",
      "name": "queries.ts",
      "extension": ".ts",
      "lines": 457,
      "size": 13363,
      "type": "utility",
      "exports": [
        {
          "name": "contactsInArea",
          "kind": "function",
          "line": 17,
          "isDefault": false,
          "params": "(\n  params: QueryParams[\"contacts_in_area\"],\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "staleContacts",
          "kind": "function",
          "line": 69,
          "isDefault": false,
          "params": "(\n  params: QueryParams[\"stale_contacts\"],\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "dealsClosingSoon",
          "kind": "function",
          "line": 126,
          "isDefault": false,
          "params": "(\n  params: QueryParams[\"deals_closing_soon\"],\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "topTargets",
          "kind": "function",
          "line": 182,
          "isDefault": false,
          "params": "(\n  params: QueryParams[\"top_targets\"],\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "recentActivity",
          "kind": "function",
          "line": 295,
          "isDefault": false,
          "params": "(\n  params: QueryParams[\"recent_activity\"],\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "relationshipGaps",
          "kind": "function",
          "line": 338,
          "isDefault": false,
          "params": "(\n  params: QueryParams[\"relationship_gaps\"],\n  workspaceId: string,\n  db: any\n)"
        },
        {
          "name": "dealPipeline",
          "kind": "function",
          "line": 397,
          "isDefault": false,
          "params": "(\n  params: QueryParams[\"deal_pipeline\"],\n  workspaceId: string,\n  db: any\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "sql",
            "eq",
            "and",
            "or",
            "desc",
            "asc",
            "gt",
            "lt",
            "isNull"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/insights/types.ts",
      "name": "types.ts",
      "extension": ".ts",
      "lines": 125,
      "size": 2804,
      "type": "utility",
      "exports": [
        {
          "name": "InsightQueryType",
          "kind": "type",
          "line": 11,
          "isDefault": false
        },
        {
          "name": "QueryParams",
          "kind": "type",
          "line": 25,
          "isDefault": false
        },
        {
          "name": "InsightQuery",
          "kind": "type",
          "line": 72,
          "isDefault": false
        },
        {
          "name": "InsightResultItem",
          "kind": "type",
          "line": 81,
          "isDefault": false
        },
        {
          "name": "InsightResult",
          "kind": "type",
          "line": 101,
          "isDefault": false
        },
        {
          "name": "QueryDetection",
          "kind": "type",
          "line": 119,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/multi-pass-extraction.ts",
      "name": "multi-pass-extraction.ts",
      "extension": ".ts",
      "lines": 415,
      "size": 12562,
      "type": "utility",
      "exports": [
        {
          "name": "extractMultiPass",
          "kind": "function",
          "line": 368,
          "isDefault": false,
          "params": "(\r\n  input: string,\r\n  options: MultiPassOptions = {}\r\n)"
        },
        {
          "name": "shouldUseMultiPass",
          "kind": "function",
          "line": 411,
          "isDefault": false,
          "params": "(input: string)"
        },
        {
          "name": "MultiPassOptions",
          "kind": "type",
          "line": 345,
          "isDefault": false
        },
        {
          "name": "MultiPassResult",
          "kind": "type",
          "line": 353,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/model-router",
          "names": [
            "chatCompletion",
            "detectComplexity",
            "type ModelId",
            "type ChatMessage",
            "MODEL_CONFIGS"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./alias-dictionary",
          "names": [
            "formatAliasesForPrompt",
            "type AliasDictionary"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/optimistic.ts",
      "name": "optimistic.ts",
      "extension": ".ts",
      "lines": 20,
      "size": 432,
      "type": "utility",
      "exports": [
        {
          "name": "parseExpectedUpdatedAt",
          "kind": "function",
          "line": 8,
          "isDefault": false,
          "params": "(input: unknown)"
        },
        {
          "name": "sameInstant",
          "kind": "function",
          "line": 15,
          "isDefault": false,
          "params": "(a: Date, b: Date)"
        },
        {
          "name": "OptimisticConflict",
          "kind": "type",
          "line": 1,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/post-extraction.ts",
      "name": "post-extraction.ts",
      "extension": ".ts",
      "lines": 180,
      "size": 6728,
      "type": "utility",
      "exports": [
        {
          "name": "inferRelationshipsFromExtraction",
          "kind": "function",
          "line": 15,
          "isDefault": false,
          "params": "(\n  db: any,\n  touchedEntityIds: string[],\n)"
        },
        {
          "name": "scanForDuplicates",
          "kind": "function",
          "line": 127,
          "isDefault": false,
          "params": "(\n  db: any,\n  newEntityIds: string[],\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "and",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/production-debug-log.ts",
      "name": "production-debug-log.ts",
      "extension": ".ts",
      "lines": 222,
      "size": 6599,
      "type": "utility",
      "exports": [
        {
          "name": "logExtractionDebug",
          "kind": "function",
          "line": 65,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  entry: Omit<DebugLogEntry, \"id\" | \"timestamp\">\r\n)"
        },
        {
          "name": "getDebugLogs",
          "kind": "function",
          "line": 112,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  options: {\r\n    limit?: number;\r\n    feedbackFilter?: \"positive\" | \"negative\" | \"none\";\r\n    sinceHours?: number;\r\n  } = {}\r\n)"
        },
        {
          "name": "exportDebugLogs",
          "kind": "function",
          "line": 193,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  sinceHours: number = 168 // 1 week\r\n)"
        },
        {
          "name": "DebugLogEntry",
          "kind": "type",
          "line": 12,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/production-telemetry.ts",
      "name": "production-telemetry.ts",
      "extension": ".ts",
      "lines": 287,
      "size": 8350,
      "type": "utility",
      "exports": [
        {
          "name": "logExtractionTelemetry",
          "kind": "function",
          "line": 90,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  telemetry: ExtractionTelemetry\r\n)"
        },
        {
          "name": "hashInput",
          "kind": "function",
          "line": 149,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "createTelemetry",
          "kind": "function",
          "line": 156,
          "isDefault": false,
          "params": "(\r\n  input: string,\r\n  result: {\r\n    extraction: any;\r\n    model: string;\r\n    strategy: string;\r\n    confidence: number;\r\n    warnings: string[];\r\n    usedFallback?: boolean;\r\n    processingTimeMs: number;\r\n    promptTokens?: number;\r\n    completionTokens?: number;\r\n  },\r\n  autoApplied: boolean\r\n)"
        },
        {
          "name": "getTelemetryStats",
          "kind": "function",
          "line": 199,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  days: number = 7\r\n)"
        },
        {
          "name": "ExtractionTelemetry",
          "kind": "type",
          "line": 18,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "crypto",
          "names": [
            "crypto"
          ],
          "isDefault": true,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "UPDATE",
        "EXECUTE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/proposal-shaping.test.ts",
      "name": "proposal-shaping.test.ts",
      "extension": ".ts",
      "lines": 41,
      "size": 1573,
      "type": "test",
      "exports": [],
      "imports": [
        {
          "source": "vitest",
          "names": [
            "describe",
            "expect",
            "test"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "./proposal-shaping",
          "names": [
            "shapeWorkExtractionForProposals"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/proposal-shaping.ts",
      "name": "proposal-shaping.ts",
      "extension": ".ts",
      "lines": 421,
      "size": 17480,
      "type": "utility",
      "exports": [
        {
          "name": "shapeWorkExtractionForProposals",
          "kind": "function",
          "line": 21,
          "isDefault": false,
          "params": "(args: {\n  extraction: CaptureExtraction;\n  rawText: string;\n  /**\n   * For now, single-user defaults to \"master\".\n   * Later: resolve to real workspace membership user IDs.\n   */\n  defaultAssigneeUserId?: string;\n  /**\n   * Optional override for \"today\" when computing relative due dates.\n   */\n  now?: Date;\n})"
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/query-intelligence.ts",
      "name": "query-intelligence.ts",
      "extension": ".ts",
      "lines": 670,
      "size": 19986,
      "type": "utility",
      "exports": [
        {
          "name": "classifyIntent",
          "kind": "function",
          "line": 137,
          "isDefault": false,
          "params": "(question: string)"
        },
        {
          "name": "generateQueryPlan",
          "kind": "function",
          "line": 228,
          "isDefault": false,
          "params": "(\n  intent: IntentClassification\n)"
        },
        {
          "name": "executeQueryPlan",
          "kind": "function",
          "line": 316,
          "isDefault": false,
          "params": "(\n  plan: QueryPlan,\n  db: any\n)"
        },
        {
          "name": "answerWorkQuestion",
          "kind": "function",
          "line": 492,
          "isDefault": false,
          "params": "(\n  question: string,\n  db: any\n)"
        },
        {
          "name": "COMMON_QUERIES",
          "kind": "constant",
          "line": 535,
          "isDefault": false
        },
        {
          "name": "QueryIntent",
          "kind": "type",
          "line": 19,
          "isDefault": false
        },
        {
          "name": "IntentClassification",
          "kind": "type",
          "line": 28,
          "isDefault": false
        },
        {
          "name": "QueryFilter",
          "kind": "type",
          "line": 45,
          "isDefault": false
        },
        {
          "name": "QueryPlan",
          "kind": "type",
          "line": 51,
          "isDefault": false
        },
        {
          "name": "QueryResult",
          "kind": "type",
          "line": 85,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/ai/openai",
          "names": [
            "openai",
            "heliconeHeaders"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "or",
            "sql",
            "desc",
            "asc",
            "like",
            "ilike",
            "gt",
            "gte",
            "lt",
            "lte",
            "inArray",
            "isNull",
            "isNotNull"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 139
        },
        {
          "service": "openai",
          "detail": "openai.chat",
          "line": 232
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 13
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 147
        },
        {
          "service": "helicone",
          "detail": "helicone",
          "line": 249
        }
      ],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/query-plans.ts",
      "name": "query-plans.ts",
      "extension": ".ts",
      "lines": 111,
      "size": 3395,
      "type": "utility",
      "exports": [
        {
          "name": "workQueryPlanSchema",
          "kind": "constant",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "WorkQueryPlan",
          "kind": "type",
          "line": 110,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "zod",
          "names": [
            "z"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/resolve-relationships.ts",
      "name": "resolve-relationships.ts",
      "extension": ".ts",
      "lines": 921,
      "size": 30451,
      "type": "utility",
      "exports": [
        {
          "name": "resolveDealParties",
          "kind": "function",
          "line": 230,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  dealId: string,\r\n  dealMetadata: any\r\n)"
        },
        {
          "name": "resolveFeeRelationships",
          "kind": "function",
          "line": 309,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  feeId: string,\r\n  feeMetadata: any\r\n)"
        },
        {
          "name": "resolveExpenseRelationships",
          "kind": "function",
          "line": 394,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  expenseId: string,\r\n  expenseMetadata: any\r\n)"
        },
        {
          "name": "resolveDealLenderRelationships",
          "kind": "function",
          "line": 490,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  dealLenderId: string,\r\n  metadata: any\r\n)"
        },
        {
          "name": "resolveListingRelationships",
          "kind": "function",
          "line": 603,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  listingId: string,\r\n  metadata: any\r\n)"
        },
        {
          "name": "resolvePersonCompany",
          "kind": "function",
          "line": 723,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  personId: string,\r\n  personMetadata: any\r\n)"
        },
        {
          "name": "resolveListingBuyerRelationships",
          "kind": "function",
          "line": 783,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  listingBuyerId: string,\r\n  metadata: any\r\n)"
        },
        {
          "name": "resolveAllRelationships",
          "kind": "function",
          "line": 859,
          "isDefault": false,
          "params": "(\r\n  db: any,\r\n  workspaceId: string,\r\n  touchedEntityIds: string[]\r\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "and",
            "sql",
            "ilike",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "entityRelationships"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/schema-sanitizer.ts",
      "name": "schema-sanitizer.ts",
      "extension": ".ts",
      "lines": 77,
      "size": 2800,
      "type": "schema",
      "exports": [
        {
          "name": "getAllowedWorkFieldMap",
          "kind": "function",
          "line": 7,
          "isDefault": false,
          "params": "(db: any, workspace: \"work\" | string)"
        },
        {
          "name": "sanitizeWorkExtractionToFieldMap",
          "kind": "function",
          "line": 39,
          "isDefault": false,
          "params": "(extraction: CaptureExtraction, allowed: AllowedWorkFieldMap)"
        },
        {
          "name": "AllowedWorkFieldMap",
          "kind": "type",
          "line": 5,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/smart-briefing.ts",
      "name": "smart-briefing.ts",
      "extension": ".ts",
      "lines": 269,
      "size": 10572,
      "type": "utility",
      "exports": [
        {
          "name": "buildSmartBriefing",
          "kind": "function",
          "line": 20,
          "isDefault": false,
          "params": "(\n  db: any,\n  clientTime?: { iso: string; timezone: string }\n)"
        },
        {
          "name": "parseBriefingForNudges",
          "kind": "function",
          "line": 171,
          "isDefault": false,
          "params": "(briefingText: string)"
        },
        {
          "name": "generateProactiveOpener",
          "kind": "function",
          "line": 227,
          "isDefault": false,
          "params": "(nudges: BriefingNudges)"
        },
        {
          "name": "BriefingNudges",
          "kind": "type",
          "line": 160,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "desc",
            "sql",
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/smart-extraction.ts",
      "name": "smart-extraction.ts",
      "extension": ".ts",
      "lines": 348,
      "size": 10241,
      "type": "utility",
      "exports": [
        {
          "name": "smartExtract",
          "kind": "function",
          "line": 110,
          "isDefault": false,
          "params": "(\n  input: string,\n  options: SmartExtractionOptions = {}\n)"
        },
        {
          "name": "getExtractionStats",
          "kind": "function",
          "line": 301,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "clearExtractionCaches",
          "kind": "function",
          "line": 312,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "isSimpleInput",
          "kind": "function",
          "line": 320,
          "isDefault": false,
          "params": "(input: string)"
        },
        {
          "name": "estimateCost",
          "kind": "function",
          "line": 328,
          "isDefault": false,
          "params": "(input: string, preferredModel: ModelId = \"auto\")"
        },
        {
          "name": "SmartExtractionOptions",
          "kind": "type",
          "line": 47,
          "isDefault": false
        },
        {
          "name": "SmartExtractionResult",
          "kind": "type",
          "line": 72,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "./alias-dictionary",
          "names": [
            "expandAliases",
            "type AliasDictionary"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/model-router",
          "names": [
            "selectModel",
            "detectComplexity",
            "type ModelId",
            "type ModelSelectionResult"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./extraction-cache",
          "names": [
            "getCached",
            "setCached",
            "getCacheStats",
            "type CacheStats"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./extraction-recovery",
          "names": [
            "extractWithRecovery",
            "isValidExtraction",
            "calculateConfidence",
            "isExtractableInput"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./multi-pass-extraction",
          "names": [
            "extractMultiPass",
            "shouldUseMultiPass",
            "type MultiPassResult"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./extract-work",
          "names": [
            "extractWorkFromText"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/ai/production-telemetry",
          "names": [
            "logProductionExtraction"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "./extraction-validation",
          "names": [
            "validateExtraction",
            "getValidationSummary"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/suggestion-executor.ts",
      "name": "suggestion-executor.ts",
      "extension": ".ts",
      "lines": 106,
      "size": 3108,
      "type": "utility",
      "exports": [
        {
          "name": "executeSuggestion",
          "kind": "function",
          "line": 15,
          "isDefault": false,
          "params": "(\n  type: string,\n  actionParams: Record<string, any>,\n  db: any,\n  workspaceId: string,\n)"
        },
        {
          "name": "ExecutionResult",
          "kind": "type",
          "line": 10,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "INSERT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/thread-intent-memory.ts",
      "name": "thread-intent-memory.ts",
      "extension": ".ts",
      "lines": 102,
      "size": 2672,
      "type": "utility",
      "exports": [
        {
          "name": "recordThreadIntent",
          "kind": "function",
          "line": 24,
          "isDefault": false,
          "params": "(\n  db: any,\n  threadId: string,\n  intent: AgentIntent,\n)"
        },
        {
          "name": "getDominantThreadIntent",
          "kind": "function",
          "line": 68,
          "isDefault": false,
          "params": "(\n  db: any,\n  threadId: string,\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/types.ts",
      "name": "types.ts",
      "extension": ".ts",
      "lines": 321,
      "size": 10006,
      "type": "utility",
      "exports": [
        {
          "name": "isDealEntity",
          "kind": "function",
          "line": 264,
          "isDefault": false,
          "params": "(entity: WorkEntity)"
        },
        {
          "name": "isListingEntity",
          "kind": "function",
          "line": 268,
          "isDefault": false,
          "params": "(entity: WorkEntity)"
        },
        {
          "name": "isPersonEntity",
          "kind": "function",
          "line": 272,
          "isDefault": false,
          "params": "(entity: WorkEntity)"
        },
        {
          "name": "isCompanyEntity",
          "kind": "function",
          "line": 276,
          "isDefault": false,
          "params": "(entity: WorkEntity)"
        },
        {
          "name": "isTaskEvent",
          "kind": "function",
          "line": 280,
          "isDefault": false,
          "params": "(event: WorkEvent)"
        },
        {
          "name": "isCallEvent",
          "kind": "function",
          "line": 284,
          "isDefault": false,
          "params": "(event: WorkEvent)"
        },
        {
          "name": "getDealMeta",
          "kind": "function",
          "line": 292,
          "isDefault": false,
          "params": "(entity: WorkEntity)"
        },
        {
          "name": "getListingMeta",
          "kind": "function",
          "line": 297,
          "isDefault": false,
          "params": "(entity: WorkEntity)"
        },
        {
          "name": "getPersonMeta",
          "kind": "function",
          "line": 302,
          "isDefault": false,
          "params": "(entity: WorkEntity)"
        },
        {
          "name": "getCompanyMeta",
          "kind": "function",
          "line": 307,
          "isDefault": false,
          "params": "(entity: WorkEntity)"
        },
        {
          "name": "getTaskMeta",
          "kind": "function",
          "line": 312,
          "isDefault": false,
          "params": "(event: WorkEvent)"
        },
        {
          "name": "getCallMeta",
          "kind": "function",
          "line": 317,
          "isDefault": false,
          "params": "(event: WorkEvent)"
        },
        {
          "name": "DealMetadata",
          "kind": "type",
          "line": 10,
          "isDefault": false
        },
        {
          "name": "ListingMetadata",
          "kind": "type",
          "line": 37,
          "isDefault": false
        },
        {
          "name": "PersonMetadata",
          "kind": "type",
          "line": 57,
          "isDefault": false
        },
        {
          "name": "CompanyMetadata",
          "kind": "type",
          "line": 75,
          "isDefault": false
        },
        {
          "name": "ListingBuyerMetadata",
          "kind": "type",
          "line": 83,
          "isDefault": false
        },
        {
          "name": "FeeMetadata",
          "kind": "type",
          "line": 106,
          "isDefault": false
        },
        {
          "name": "ExpenseMetadata",
          "kind": "type",
          "line": 127,
          "isDefault": false
        },
        {
          "name": "DealLenderMetadata",
          "kind": "type",
          "line": 142,
          "isDefault": false
        },
        {
          "name": "EntityMetadata",
          "kind": "type",
          "line": 163,
          "isDefault": false
        },
        {
          "name": "TaskEventMetadata",
          "kind": "type",
          "line": 178,
          "isDefault": false
        },
        {
          "name": "CallEventMetadata",
          "kind": "type",
          "line": 188,
          "isDefault": false
        },
        {
          "name": "MeetingEventMetadata",
          "kind": "type",
          "line": 196,
          "isDefault": false
        },
        {
          "name": "WorkActivityMetadata",
          "kind": "type",
          "line": 204,
          "isDefault": false
        },
        {
          "name": "EventMetadata",
          "kind": "type",
          "line": 213,
          "isDefault": false
        },
        {
          "name": "WorkEntityType",
          "kind": "type",
          "line": 224,
          "isDefault": false
        },
        {
          "name": "WorkEntity",
          "kind": "type",
          "line": 226,
          "isDefault": false
        },
        {
          "name": "WorkEventType",
          "kind": "type",
          "line": 238,
          "isDefault": false
        },
        {
          "name": "WorkEvent",
          "kind": "type",
          "line": 240,
          "isDefault": false
        },
        {
          "name": "WorkExtraction",
          "kind": "type",
          "line": 255,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/view-execution.ts",
      "name": "view-execution.ts",
      "extension": ".ts",
      "lines": 176,
      "size": 5752,
      "type": "utility",
      "exports": [
        {
          "name": "executeSavedView",
          "kind": "function",
          "line": 105,
          "isDefault": false
        },
        {
          "name": "ViewFilter",
          "kind": "type",
          "line": 1,
          "isDefault": false
        },
        {
          "name": "ViewSort",
          "kind": "type",
          "line": 8,
          "isDefault": false
        },
        {
          "name": "SavedViewSpecLike",
          "kind": "type",
          "line": 15,
          "isDefault": false
        },
        {
          "name": "FieldIdToKey",
          "kind": "type",
          "line": 21,
          "isDefault": false
        }
      ],
      "imports": [],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/lib/work/view-query.ts",
      "name": "view-query.ts",
      "extension": ".ts",
      "lines": 345,
      "size": 10806,
      "type": "utility",
      "exports": [
        {
          "name": "getWorkFieldTypeMap",
          "kind": "function",
          "line": 167,
          "isDefault": false,
          "params": "(\n  db: any,\n  workspace: string,\n  workspaceId?: string\n)"
        },
        {
          "name": "getDefaultSavedView",
          "kind": "function",
          "line": 192,
          "isDefault": false,
          "params": "(db: any, workspace: string, objectType: string)"
        },
        {
          "name": "queryWorkEntitiesPage",
          "kind": "function",
          "line": 229,
          "isDefault": false,
          "params": "(args: {\n  db: any;\n  workspace: string;\n  entityType: string;\n  view: SavedViewSpecLike | null;\n  fieldIdToKey?: FieldIdToKey;\n  fieldTypeByKey?: Map<string, string>;\n  page: number;\n  pageSize: number;\n})"
        },
        {
          "name": "queryWorkEventsPage",
          "kind": "function",
          "line": 288,
          "isDefault": false,
          "params": "(args: {\n  db: any;\n  workspace: string;\n  eventType: string;\n  view: SavedViewSpecLike | null;\n  fieldIdToKey?: FieldIdToKey;\n  fieldTypeByKey?: Map<string, string>;\n  page: number;\n  pageSize: number;\n})"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "asc",
            "desc",
            "eq",
            "sql",
            "type SQL"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "fieldRegistry",
            "savedViews",
            "entities",
            "events"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/field-registry-cache",
          "names": [
            "getCachedFieldTypeMap"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/vip-entities.ts",
      "name": "vip-entities.ts",
      "extension": ".ts",
      "lines": 161,
      "size": 5113,
      "type": "utility",
      "exports": [
        {
          "name": "getVipEntities",
          "kind": "function",
          "line": 34,
          "isDefault": false,
          "params": "(db: any)"
        },
        {
          "name": "setVipTier",
          "kind": "function",
          "line": 74,
          "isDefault": false,
          "params": "(db: any, entityId: string, tier: VipTier)"
        },
        {
          "name": "removeVipTier",
          "kind": "function",
          "line": 92,
          "isDefault": false,
          "params": "(db: any, entityId: string)"
        },
        {
          "name": "detectVipIntent",
          "kind": "function",
          "line": 107,
          "isDefault": false,
          "params": "(text: string)"
        },
        {
          "name": "formatVipEntitiesForContext",
          "kind": "function",
          "line": 132,
          "isDefault": false,
          "params": "(vips: VipEntity[])"
        },
        {
          "name": "VipTier",
          "kind": "type",
          "line": 19,
          "isDefault": false
        },
        {
          "name": "VipEntity",
          "kind": "type",
          "line": 21,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql",
            "or"
          ],
          "isDefault": false,
          "isExternal": true
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "UPDATE",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/weekly-digest.ts",
      "name": "weekly-digest.ts",
      "extension": ".ts",
      "lines": 188,
      "size": 5495,
      "type": "utility",
      "exports": [
        {
          "name": "generateWeeklyDigest",
          "kind": "function",
          "line": 24,
          "isDefault": false,
          "params": "(db: any)"
        },
        {
          "name": "formatDigestAsMarkdown",
          "kind": "function",
          "line": 161,
          "isDefault": false,
          "params": "(digest: WeeklyDigest)"
        },
        {
          "name": "shouldGenerateDigest",
          "kind": "function",
          "line": 180,
          "isDefault": false,
          "params": "(lastDigestDate?: string)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "and",
            "desc",
            "eq",
            "gte",
            "lte",
            "sql",
            "count"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities",
            "events",
            "eventEntities"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/work/workspace-briefing.ts",
      "name": "workspace-briefing.ts",
      "extension": ".ts",
      "lines": 114,
      "size": 3321,
      "type": "utility",
      "exports": [
        {
          "name": "getWorkspaceBriefing",
          "kind": "function",
          "line": 23,
          "isDefault": false,
          "params": "(\n  workspaceId: string,\n  db: any,\n)"
        }
      ],
      "imports": [
        {
          "source": "drizzle-orm",
          "names": [
            "desc",
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/ai/confidence-config",
          "names": [
            "CACHE_TTL"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/workspace-guards.ts",
      "name": "workspace-guards.ts",
      "extension": ".ts",
      "lines": 177,
      "size": 6619,
      "type": "utility",
      "exports": [
        {
          "name": "withActiveWorkspaceDbReadOnly",
          "kind": "function",
          "line": 46,
          "isDefault": false
        },
        {
          "name": "withActiveWorkspaceDb",
          "kind": "function",
          "line": 75,
          "isDefault": false
        },
        {
          "name": "isUnauthenticatedError",
          "kind": "function",
          "line": 100,
          "isDefault": false,
          "params": "(err: any)"
        },
        {
          "name": "getActiveWorkspaceDbSessionClient",
          "kind": "function",
          "line": 108,
          "isDefault": false,
          "params": "(opts?: { userId?: string | null })"
        },
        {
          "name": "getActiveWorkspaceMeta",
          "kind": "function",
          "line": 131,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "isWorkLikeWorkspaceKind",
          "kind": "function",
          "line": 144,
          "isDefault": false,
          "params": "(kind: WorkspaceKind | null)"
        },
        {
          "name": "roleRank",
          "kind": "function",
          "line": 149,
          "isDefault": false,
          "params": "(role: WorkspaceRole | null)"
        },
        {
          "name": "hasMinRole",
          "kind": "function",
          "line": 164,
          "isDefault": false,
          "params": "(role: WorkspaceRole | null, minRole: WorkspaceRole)"
        },
        {
          "name": "getActiveWorkspaceRole",
          "kind": "function",
          "line": 168,
          "isDefault": false,
          "params": "(db: any, workspaceId: string)"
        },
        {
          "name": "WorkspaceKind",
          "kind": "type",
          "line": 37,
          "isDefault": false
        },
        {
          "name": "WorkspaceRole",
          "kind": "type",
          "line": 38,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "@/lib/db",
          "names": [
            "getDbSessionClient",
            "withDbSession",
            "withDbSessionReadOnly"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/supabase/server",
          "names": [
            "getSupabaseUserId"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "workspaces"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/workspace",
          "names": [
            "getWorkspaceContextFromCookies"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "workspaceMemberships"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "drizzle-orm",
          "names": [
            "and"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/env",
          "names": [
            "env"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "INSERT",
        "SCHEMA"
      ]
    },
    {
      "path": "apps/web/src/lib/workspace.ts",
      "name": "workspace.ts",
      "extension": ".ts",
      "lines": 82,
      "size": 2341,
      "type": "utility",
      "exports": [
        {
          "name": "getWorkspaceFromCookies",
          "kind": "function",
          "line": 12,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "parseWorkspace",
          "kind": "function",
          "line": 34,
          "isDefault": false,
          "params": "(value: unknown)"
        },
        {
          "name": "getWorkspaceIdFromCookies",
          "kind": "function",
          "line": 38,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "getWorkspaceContextFromCookies",
          "kind": "function",
          "line": 55,
          "isDefault": false,
          "params": "()"
        },
        {
          "name": "workspaceCookie",
          "kind": "constant",
          "line": 61,
          "isDefault": false
        },
        {
          "name": "workspaceIdCookie",
          "kind": "constant",
          "line": 71,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/headers",
          "names": [
            "cookies"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/tenancy-constants",
          "names": [
            "workspaceIdForKey"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": []
    },
    {
      "path": "apps/web/src/middleware.ts",
      "name": "middleware.ts",
      "extension": ".ts",
      "lines": 186,
      "size": 7452,
      "type": "other",
      "exports": [
        {
          "name": "middleware",
          "kind": "function",
          "line": 67,
          "isDefault": false,
          "params": "(req: NextRequest)"
        },
        {
          "name": "config",
          "kind": "constant",
          "line": 181,
          "isDefault": false
        }
      ],
      "imports": [
        {
          "source": "next/server",
          "names": [
            "NextResponse",
            "type NextRequest"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/supabase/middleware",
          "names": [
            "createSupabaseMiddlewareClient"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/auth/admin",
          "names": [
            "getAdminLoginPath",
            "isAdminUserId"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "DELETE"
      ]
    },
    {
      "path": "apps/web/src/scripts/migrate-relationships.ts",
      "name": "migrate-relationships.ts",
      "extension": ".ts",
      "lines": 211,
      "size": 8329,
      "type": "other",
      "exports": [],
      "imports": [
        {
          "source": "dotenv",
          "names": [
            "config"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "path",
          "names": [
            "resolve"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm/node-postgres",
          "names": [
            "drizzle"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "pg",
          "names": [
            "Pool"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "drizzle-orm",
          "names": [
            "eq",
            "sql"
          ],
          "isDefault": false,
          "isExternal": true
        },
        {
          "source": "@/lib/db/schema",
          "names": [
            "entities"
          ],
          "isDefault": false,
          "isExternal": false
        },
        {
          "source": "@/lib/work/resolve-relationships",
          "names": [
            "resolveDealParties",
            "resolveFeeRelationships",
            "resolveExpenseRelationships",
            "resolveDealLenderRelationships",
            "resolvePersonCompany"
          ],
          "isDefault": false,
          "isExternal": false
        }
      ],
      "externalCalls": [],
      "dbOperations": [
        "SELECT",
        "SCHEMA"
      ]
    }
  ],
  "api_routes": [
    {
      "path": "/api/approval",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/approval/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/artifacts",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/artifacts/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/auth/bootstrap",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/auth/bootstrap/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/auth/logout",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/auth/logout/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/auth/microsoft/callback",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/auth/microsoft/callback/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/auth/microsoft",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/auth/microsoft/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/capture",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/capture/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/chat/draft/clear",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/chat/draft/clear/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/chat/messages",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/chat/messages/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/chat",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/chat/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/chat/stream",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/chat/stream/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/chat/threads",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/chat/threads/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/collections",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/collections/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/collections/:slug/items",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/collections/[slug]/items/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/collections/:slug/items/:itemId",
      "methods": [
        "PATCH",
        "DELETE"
      ],
      "file": "apps/web/src/app/api/collections/[slug]/items/[itemId]/route.ts",
      "handlers": [
        "PATCH",
        "DELETE"
      ]
    },
    {
      "path": "/api/collections/:slug",
      "methods": [
        "GET",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/collections/[slug]/route.ts",
      "handlers": [
        "GET",
        "PATCH"
      ]
    },
    {
      "path": "/api/cron/intelligence",
      "methods": [
        "POST",
        "GET"
      ],
      "file": "apps/web/src/app/api/cron/intelligence/route.ts",
      "handlers": [
        "POST",
        "GET"
      ]
    },
    {
      "path": "/api/cron/knowledge",
      "methods": [
        "POST",
        "GET"
      ],
      "file": "apps/web/src/app/api/cron/knowledge/route.ts",
      "handlers": [
        "POST",
        "GET"
      ]
    },
    {
      "path": "/api/cron/start",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/cron/start/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/cron/trends",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/cron/trends/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/daily-brief",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/daily-brief/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/entities/bulk",
      "methods": [
        "DELETE",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/entities/bulk/route.ts",
      "handlers": [
        "DELETE",
        "PATCH"
      ]
    },
    {
      "path": "/api/entities/duplicates",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/entities/duplicates/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/entities/merge",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/entities/merge/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/entities",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/entities/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/entities/:id",
      "methods": [
        "GET",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/entities/[id]/route.ts",
      "handlers": [
        "GET",
        "PATCH"
      ]
    },
    {
      "path": "/api/events",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/events/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/events/:id",
      "methods": [
        "GET",
        "DELETE",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/events/[id]/route.ts",
      "handlers": [
        "GET",
        "DELETE",
        "PATCH"
      ]
    },
    {
      "path": "/api/fitness/events",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/events/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/exercises/:name",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/fitness/exercises/[name]/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/fitness/generate-plan",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/generate-plan/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/insights",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/fitness/insights/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/fitness/plan/activate",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/plan/activate/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/plan/clear",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/plan/clear/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/plan/generation/restart",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/plan/generation/restart/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/plan/generation",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/fitness/plan/generation/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/fitness/plan/materialized",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/fitness/plan/materialized/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/fitness/plan/propose",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/plan/propose/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/plan/range",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/fitness/plan/range/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/fitness/plan/review",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/plan/review/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/plan",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/plan/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/fitness/plan/schedule",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/plan/schedule/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/fitness/plan/schedule/run",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/plan/schedule/run/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/plan/today",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/fitness/plan/today/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/fitness/plan/week",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/fitness/plan/week/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/fitness/save-plan",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/save-plan/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/save-workout",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/fitness/save-workout/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/fitness/stats",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/fitness/stats/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/goals",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/goals/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/goals/:id",
      "methods": [
        "GET",
        "PUT",
        "DELETE"
      ],
      "file": "apps/web/src/app/api/goals/[id]/route.ts",
      "handlers": [
        "GET",
        "PUT",
        "DELETE"
      ]
    },
    {
      "path": "/api/goals/:id/versions",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/goals/[id]/versions/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/goals/:id/versions/:versionId",
      "methods": [
        "PUT"
      ],
      "file": "apps/web/src/app/api/goals/[id]/versions/[versionId]/route.ts",
      "handlers": [
        "PUT"
      ]
    },
    {
      "path": "/api/graph/health",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/graph/health/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/habits",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/habits/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/habits/:id/complete",
      "methods": [
        "POST",
        "DELETE"
      ],
      "file": "apps/web/src/app/api/habits/[id]/complete/route.ts",
      "handlers": [
        "POST",
        "DELETE"
      ]
    },
    {
      "path": "/api/health",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/health/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/inbox/apply",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/inbox/apply/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/inbox/edit",
      "methods": [
        "PUT"
      ],
      "file": "apps/web/src/app/api/inbox/edit/route.ts",
      "handlers": [
        "PUT"
      ]
    },
    {
      "path": "/api/inbox/reject",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/inbox/reject/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/inbox/rerun",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/inbox/rerun/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/inbox",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/inbox/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/integrations/whoop",
      "methods": [
        "POST",
        "GET"
      ],
      "file": "apps/web/src/app/api/integrations/whoop/route.ts",
      "handlers": [
        "POST",
        "GET"
      ]
    },
    {
      "path": "/api/intelligence/introductions",
      "methods": [
        "GET",
        "POST",
        "DELETE"
      ],
      "file": "apps/web/src/app/api/intelligence/introductions/route.ts",
      "handlers": [
        "GET",
        "POST",
        "DELETE"
      ]
    },
    {
      "path": "/api/intelligence/network",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/intelligence/network/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/intelligence/referrals",
      "methods": [
        "GET",
        "POST",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/intelligence/referrals/route.ts",
      "handlers": [
        "GET",
        "POST",
        "PATCH"
      ]
    },
    {
      "path": "/api/intelligence",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/intelligence/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/intelligence/suggestions",
      "methods": [
        "GET",
        "POST",
        "DELETE"
      ],
      "file": "apps/web/src/app/api/intelligence/suggestions/route.ts",
      "handlers": [
        "GET",
        "POST",
        "DELETE"
      ]
    },
    {
      "path": "/api/intelligence/targets",
      "methods": [
        "GET",
        "POST",
        "PATCH",
        "DELETE"
      ],
      "file": "apps/web/src/app/api/intelligence/targets/route.ts",
      "handlers": [
        "GET",
        "POST",
        "PATCH",
        "DELETE"
      ]
    },
    {
      "path": "/api/knowledge/clarification",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/knowledge/clarification/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/knowledge/context-brief",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/knowledge/context-brief/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/knowledge/maintenance",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/knowledge/maintenance/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/knowledge/memories",
      "methods": [
        "GET",
        "POST",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/knowledge/memories/route.ts",
      "handlers": [
        "GET",
        "POST",
        "PATCH"
      ]
    },
    {
      "path": "/api/knowledge/notifications",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/knowledge/notifications/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/knowledge/opinions",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/knowledge/opinions/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/knowledge/relationships",
      "methods": [
        "GET",
        "POST",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/knowledge/relationships/route.ts",
      "handlers": [
        "GET",
        "POST",
        "PATCH"
      ]
    },
    {
      "path": "/api/notifications/subscribe",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/notifications/subscribe/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/notifications/test",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/notifications/test/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/notifications/unsubscribe",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/notifications/unsubscribe/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/notifications/vapid-public-key",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/notifications/vapid-public-key/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/profile/ensure-onboarded",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/profile/ensure-onboarded/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/profile/init-turn",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/profile/init-turn/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/profile/initialize",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/profile/initialize/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/profile/process-initialization",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/profile/process-initialization/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/profile",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/profile/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/reflections",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/reflections/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/search",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/search/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/settings/language",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/settings/language/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/settings",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/settings/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/stt/deepgram-key",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/stt/deepgram-key/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/stt/keywords",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/stt/keywords/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/stt/metrics",
      "methods": [
        "GET",
        "DELETE"
      ],
      "file": "apps/web/src/app/api/stt/metrics/route.ts",
      "handlers": [
        "GET",
        "DELETE"
      ]
    },
    {
      "path": "/api/stt",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/stt/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/timeline/events",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/timeline/events/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/work/ask",
      "methods": [
        "POST",
        "GET"
      ],
      "file": "apps/web/src/app/api/work/ask/route.ts",
      "handlers": [
        "POST",
        "GET"
      ]
    },
    {
      "path": "/api/work/buyer-history",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/work/buyer-history/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/work/config/fields",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/work/config/fields/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/work/config/scaffolds",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/work/config/scaffolds/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/work/config/scaffolds/:id",
      "methods": [
        "GET",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/work/config/scaffolds/[id]/route.ts",
      "handlers": [
        "GET",
        "PATCH"
      ]
    },
    {
      "path": "/api/work/config/views",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/work/config/views/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/work/config/views/:id",
      "methods": [
        "GET",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/work/config/views/[id]/route.ts",
      "handlers": [
        "GET",
        "PATCH"
      ]
    },
    {
      "path": "/api/work/debug-log",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/work/debug-log/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/work/entities",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/work/entities/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/work/entities/:id",
      "methods": [
        "GET",
        "PATCH"
      ],
      "file": "apps/web/src/app/api/work/entities/[id]/route.ts",
      "handlers": [
        "GET",
        "PATCH"
      ]
    },
    {
      "path": "/api/work/export",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/work/export/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/work/feedback",
      "methods": [
        "POST",
        "GET"
      ],
      "file": "apps/web/src/app/api/work/feedback/route.ts",
      "handlers": [
        "POST",
        "GET"
      ]
    },
    {
      "path": "/api/work/import/execute",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/work/import/execute/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/work/import/preview",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/work/import/preview/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/work/ingest-email",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/work/ingest-email/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/work/quick-edit",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/work/quick-edit/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/work/relationships/entity",
      "methods": [
        "POST",
        "DELETE"
      ],
      "file": "apps/web/src/app/api/work/relationships/entity/route.ts",
      "handlers": [
        "POST",
        "DELETE"
      ]
    },
    {
      "path": "/api/work/relationships/event-entities",
      "methods": [
        "POST",
        "DELETE"
      ],
      "file": "apps/web/src/app/api/work/relationships/event-entities/route.ts",
      "handlers": [
        "POST",
        "DELETE"
      ]
    },
    {
      "path": "/api/work/search",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/work/search/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/work/settings",
      "methods": [
        "POST",
        "GET"
      ],
      "file": "apps/web/src/app/api/work/settings/route.ts",
      "handlers": [
        "POST",
        "GET"
      ]
    },
    {
      "path": "/api/work/suggestions/accept",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/work/suggestions/accept/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/work/suggestions",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/work/suggestions/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/work/tasks",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/work/tasks/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/work/telemetry",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/work/telemetry/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/work/undo",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/work/undo/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/work/undo-multi-target",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/work/undo-multi-target/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/workouts",
      "methods": [
        "GET",
        "POST"
      ],
      "file": "apps/web/src/app/api/workouts/route.ts",
      "handlers": [
        "GET",
        "POST"
      ]
    },
    {
      "path": "/api/workouts/start",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/workouts/start/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/workouts/:id/finish",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/workouts/[id]/finish/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/workouts/:id/log",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/workouts/[id]/log/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/workouts/:id",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/workouts/[id]/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/workspace/debug",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/workspace/debug/route.ts",
      "handlers": [
        "GET"
      ]
    },
    {
      "path": "/api/workspace",
      "methods": [
        "POST"
      ],
      "file": "apps/web/src/app/api/workspace/route.ts",
      "handlers": [
        "POST"
      ]
    },
    {
      "path": "/api/workspaces",
      "methods": [
        "GET"
      ],
      "file": "apps/web/src/app/api/workspaces/route.ts",
      "handlers": [
        "GET"
      ]
    }
  ],
  "pages": [
    {
      "path": "/admin/ai-logs",
      "file": "apps/web/src/app/admin/ai-logs/page.tsx",
      "components": []
    },
    {
      "path": "/admin/database",
      "file": "apps/web/src/app/admin/database/page.tsx",
      "components": []
    },
    {
      "path": "/admin/health",
      "file": "apps/web/src/app/admin/health/page.tsx",
      "components": []
    },
    {
      "path": "/admin/models",
      "file": "apps/web/src/app/admin/models/page.tsx",
      "components": []
    },
    {
      "path": "/admin/monitoring",
      "file": "apps/web/src/app/admin/monitoring/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle",
        "Badge"
      ]
    },
    {
      "path": "/admin",
      "file": "apps/web/src/app/admin/page.tsx",
      "components": []
    },
    {
      "path": "/admin/performance",
      "file": "apps/web/src/app/admin/performance/page.tsx",
      "components": []
    },
    {
      "path": "/admin/stt-metrics",
      "file": "apps/web/src/app/admin/stt-metrics/page.tsx",
      "components": [
        "STTMetricsClient"
      ]
    },
    {
      "path": "/admin/traces",
      "file": "apps/web/src/app/admin/traces/page.tsx",
      "components": [
        "TraceList"
      ]
    },
    {
      "path": "/admin/vectors",
      "file": "apps/web/src/app/admin/vectors/page.tsx",
      "components": []
    },
    {
      "path": "/admin/work-architecture",
      "file": "apps/web/src/app/admin/work-architecture/page.tsx",
      "components": []
    },
    {
      "path": "/admin/workouts",
      "file": "apps/web/src/app/admin/workouts/page.tsx",
      "components": []
    },
    {
      "path": "/admin-login",
      "file": "apps/web/src/app/admin-login/page.tsx",
      "components": [
        "LoginClient"
      ]
    },
    {
      "path": "/calendar",
      "file": "apps/web/src/app/calendar/page.tsx",
      "components": [
        "CalendarClient"
      ]
    },
    {
      "path": "/chat",
      "file": "apps/web/src/app/chat/page.tsx",
      "components": [
        "ChatCapture"
      ]
    },
    {
      "path": "/collections",
      "file": "apps/web/src/app/collections/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardDescription",
        "CardHeader",
        "CardTitle",
        "Button"
      ]
    },
    {
      "path": "/collections/:slug",
      "file": "apps/web/src/app/collections/[slug]/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardDescription",
        "CardHeader",
        "CardTitle",
        "Button",
        "CollectionItemsClient"
      ]
    },
    {
      "path": "/context",
      "file": "apps/web/src/app/context/page.tsx",
      "components": []
    },
    {
      "path": "/context/:id",
      "file": "apps/web/src/app/context/[id]/page.tsx",
      "components": []
    },
    {
      "path": "/entities",
      "file": "apps/web/src/app/entities/page.tsx",
      "components": []
    },
    {
      "path": "/fitness",
      "file": "apps/web/src/app/fitness/page.tsx",
      "components": []
    },
    {
      "path": "/fitness/plan",
      "file": "apps/web/src/app/fitness/plan/page.tsx",
      "components": []
    },
    {
      "path": "/fitness/workouts/new",
      "file": "apps/web/src/app/fitness/workouts/new/page.tsx",
      "components": []
    },
    {
      "path": "/goals",
      "file": "apps/web/src/app/goals/page.tsx",
      "components": [
        "GoalsClient"
      ]
    },
    {
      "path": "/habits",
      "file": "apps/web/src/app/habits/page.tsx",
      "components": [
        "HabitsClient"
      ]
    },
    {
      "path": "/journal",
      "file": "apps/web/src/app/journal/page.tsx",
      "components": [
        "InboxClient"
      ]
    },
    {
      "path": "/login",
      "file": "apps/web/src/app/login/page.tsx",
      "components": [
        "LoginClient"
      ]
    },
    {
      "path": "/onboarding",
      "file": "apps/web/src/app/onboarding/page.tsx",
      "components": [
        "OnboardingClient"
      ]
    },
    {
      "path": "/",
      "file": "apps/web/src/app/page.tsx",
      "components": []
    },
    {
      "path": "/people",
      "file": "apps/web/src/app/people/page.tsx",
      "components": []
    },
    {
      "path": "/pillar/brief",
      "file": "apps/web/src/app/pillar/brief/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardDescription",
        "CardHeader",
        "CardTitle",
        "Badge",
        "Button",
        "Skeleton"
      ]
    },
    {
      "path": "/pillar/fitness/execute/:id",
      "file": "apps/web/src/app/pillar/fitness/execute/[id]/page.tsx",
      "components": [
        "WorkoutExecuteClient"
      ]
    },
    {
      "path": "/pillar/fitness/get-started",
      "file": "apps/web/src/app/pillar/fitness/get-started/page.tsx",
      "components": [
        "FitnessGetStartedClient"
      ]
    },
    {
      "path": "/pillar/fitness/history",
      "file": "apps/web/src/app/pillar/fitness/history/page.tsx",
      "components": []
    },
    {
      "path": "/pillar/fitness/history/:id",
      "file": "apps/web/src/app/pillar/fitness/history/[id]/page.tsx",
      "components": [
        "MarkdownCard"
      ]
    },
    {
      "path": "/pillar/fitness",
      "file": "apps/web/src/app/pillar/fitness/page.tsx",
      "components": [
        "PlanSummaryCard",
        "TodayPreviewCard",
        "FitnessProgressCard"
      ]
    },
    {
      "path": "/pillar/fitness/plan/archive",
      "file": "apps/web/src/app/pillar/fitness/plan/archive/page.tsx",
      "components": [
        "MarkdownCard"
      ]
    },
    {
      "path": "/pillar/fitness/plan/day/:date",
      "file": "apps/web/src/app/pillar/fitness/plan/day/[date]/page.tsx",
      "components": [
        "FitnessSessionIcon",
        "FitnessStatusBadge",
        "FitnessTypeBadge",
        "MarkdownCard"
      ]
    },
    {
      "path": "/pillar/fitness/plan",
      "file": "apps/web/src/app/pillar/fitness/plan/page.tsx",
      "components": [
        "FitnessSessionIcon",
        "FitnessStatusBadge",
        "FitnessTypeBadge",
        "FitnessLegend",
        "MarkdownCard",
        "WeeklyReviewClient",
        "ClearPlanButton",
        "PlanGenerationStatusClient"
      ]
    },
    {
      "path": "/pillar/fitness/plan/session/:id",
      "file": "apps/web/src/app/pillar/fitness/plan/session/[id]/page.tsx",
      "components": [
        "PlannedSessionEditorClient",
        "PlannedSessionActionsClient",
        "WorkoutRenderer"
      ]
    },
    {
      "path": "/pillar/fitness/plan-v2/execute/:date",
      "file": "apps/web/src/app/pillar/fitness/plan-v2/execute/[date]/page.tsx",
      "components": [
        "WorkoutExecutionClient"
      ]
    },
    {
      "path": "/pillar/fitness/plan-v2/generate",
      "file": "apps/web/src/app/pillar/fitness/plan-v2/generate/page.tsx",
      "components": [
        "PlanGeneratorClient"
      ]
    },
    {
      "path": "/pillar/fitness/plan-v2",
      "file": "apps/web/src/app/pillar/fitness/plan-v2/page.tsx",
      "components": [
        "PlanViewerClient"
      ]
    },
    {
      "path": "/pillar/fitness/today",
      "file": "apps/web/src/app/pillar/fitness/today/page.tsx",
      "components": [
        "TodayExecutionClient",
        "FitnessStatusBadge",
        "FitnessTypeBadge"
      ]
    },
    {
      "path": "/pillar/growth",
      "file": "apps/web/src/app/pillar/growth/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardDescription",
        "CardHeader",
        "CardTitle",
        "Button",
        "Badge",
        "Progress"
      ]
    },
    {
      "path": "/pillar/health",
      "file": "apps/web/src/app/pillar/health/page.tsx",
      "components": [
        "HealthDashboardClient"
      ]
    },
    {
      "path": "/pillar/life",
      "file": "apps/web/src/app/pillar/life/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardDescription",
        "CardHeader",
        "CardTitle",
        "Button",
        "Badge",
        "Progress"
      ]
    },
    {
      "path": "/pillar/people",
      "file": "apps/web/src/app/pillar/people/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardDescription",
        "CardHeader",
        "CardTitle",
        "Button",
        "Badge"
      ]
    },
    {
      "path": "/pillar/wealth",
      "file": "apps/web/src/app/pillar/wealth/page.tsx",
      "components": [
        "WealthDashboardClient"
      ]
    },
    {
      "path": "/profile",
      "file": "apps/web/src/app/profile/page.tsx",
      "components": [
        "ProfileClient"
      ]
    },
    {
      "path": "/reflections",
      "file": "apps/web/src/app/reflections/page.tsx",
      "components": [
        "ReflectionsClient"
      ]
    },
    {
      "path": "/search",
      "file": "apps/web/src/app/search/page.tsx",
      "components": [
        "SearchClient",
        "SearchFilters"
      ]
    },
    {
      "path": "/settings",
      "file": "apps/web/src/app/settings/page.tsx",
      "components": [
        "SettingsClient"
      ]
    },
    {
      "path": "/timeline",
      "file": "apps/web/src/app/timeline/page.tsx",
      "components": [
        "TimelineClient",
        "TimelineFilters"
      ]
    },
    {
      "path": "/work/activity",
      "file": "apps/web/src/app/work/activity/page.tsx",
      "components": [
        "WorkActivityClient",
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle"
      ]
    },
    {
      "path": "/work/calendar",
      "file": "apps/web/src/app/work/calendar/page.tsx",
      "components": [
        "WorkCalendarClient"
      ]
    },
    {
      "path": "/work/chat",
      "file": "apps/web/src/app/work/chat/page.tsx",
      "components": [
        "ChatCapture"
      ]
    },
    {
      "path": "/work/companies",
      "file": "apps/web/src/app/work/companies/page.tsx",
      "components": []
    },
    {
      "path": "/work/contacts",
      "file": "apps/web/src/app/work/contacts/page.tsx",
      "components": []
    },
    {
      "path": "/work/dashboard",
      "file": "apps/web/src/app/work/dashboard/page.tsx",
      "components": [
        "PriorityDashboardClient"
      ]
    },
    {
      "path": "/work/dashboards/fees",
      "file": "apps/web/src/app/work/dashboards/fees/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle",
        "Badge"
      ]
    },
    {
      "path": "/work/dashboards",
      "file": "apps/web/src/app/work/dashboards/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle"
      ]
    },
    {
      "path": "/work/deals",
      "file": "apps/web/src/app/work/deals/page.tsx",
      "components": [
        "WorkEntityPillarPage"
      ]
    },
    {
      "path": "/work/duplicates",
      "file": "apps/web/src/app/work/duplicates/page.tsx",
      "components": [
        "DuplicatesClient"
      ]
    },
    {
      "path": "/work/events/:eventId",
      "file": "apps/web/src/app/work/events/[eventId]/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle",
        "WorkEventDetailsEditorClient",
        "WorkEventLinkedEntitiesClient",
        "TaskActionsPanel",
        "LocationMapPreview",
        "PhotoAttachment"
      ]
    },
    {
      "path": "/work/expenses",
      "file": "apps/web/src/app/work/expenses/page.tsx",
      "components": []
    },
    {
      "path": "/work/fees",
      "file": "apps/web/src/app/work/fees/page.tsx",
      "components": []
    },
    {
      "path": "/work/history",
      "file": "apps/web/src/app/work/history/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle"
      ]
    },
    {
      "path": "/work/import",
      "file": "apps/web/src/app/work/import/page.tsx",
      "components": []
    },
    {
      "path": "/work/insights",
      "file": "apps/web/src/app/work/insights/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle",
        "CardDescription",
        "Badge",
        "Button"
      ]
    },
    {
      "path": "/work/listing-logs",
      "file": "apps/web/src/app/work/listing-logs/page.tsx",
      "components": []
    },
    {
      "path": "/work/listings",
      "file": "apps/web/src/app/work/listings/page.tsx",
      "components": []
    },
    {
      "path": "/work/network",
      "file": "apps/web/src/app/work/network/page.tsx",
      "components": [
        "NetworkClient"
      ]
    },
    {
      "path": "/work",
      "file": "apps/web/src/app/work/page.tsx",
      "components": []
    },
    {
      "path": "/work/pipeline",
      "file": "apps/web/src/app/work/pipeline/page.tsx",
      "components": [
        "PipelineBoard"
      ]
    },
    {
      "path": "/work/records/:entityId",
      "file": "apps/web/src/app/work/records/[entityId]/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle",
        "Badge",
        "Button",
        "Tabs",
        "TabsContent",
        "TabsList",
        "TabsTrigger",
        "WorkEntityDetailsEditorClient",
        "WorkEntityRelationshipsClient",
        "DealTimelineView",
        "ConversationTimeline",
        "ListingBuyerBulkImport",
        "BuyerHistoryPanel",
        "ListingBuyerQuickAdd",
        "LenderComparisonTable",
        "ContextBriefCard",
        "EntityOpinionSummary",
        "SoftRelationshipsDisplay",
        "EntityIntelligencePanel"
      ]
    },
    {
      "path": "/work/relationships",
      "file": "apps/web/src/app/work/relationships/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle",
        "Button",
        "Badge"
      ]
    },
    {
      "path": "/work/scaffolds/:scaffoldId/edit",
      "file": "apps/web/src/app/work/scaffolds/[scaffoldId]/edit/page.tsx",
      "components": [
        "WorkScaffoldEditorClient"
      ]
    },
    {
      "path": "/work/settings/integrations",
      "file": "apps/web/src/app/work/settings/integrations/page.tsx",
      "components": []
    },
    {
      "path": "/work/settings",
      "file": "apps/web/src/app/work/settings/page.tsx",
      "components": [
        "WorkSettingsClient"
      ]
    },
    {
      "path": "/work/setup",
      "file": "apps/web/src/app/work/setup/page.tsx",
      "components": [
        "ChatCapture"
      ]
    },
    {
      "path": "/work/tasks",
      "file": "apps/web/src/app/work/tasks/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle",
        "Button",
        "Badge",
        "WorkTasksClient",
        "TaskIntelligencePanel"
      ]
    },
    {
      "path": "/work/today",
      "file": "apps/web/src/app/work/today/page.tsx",
      "components": [
        "Card",
        "CardContent",
        "CardHeader",
        "CardTitle",
        "Button",
        "Badge",
        "StaleContactsAlert",
        "TargetContactsWidget",
        "QuickCapturePanel",
        "QuickCaptureFAB",
        "ActionSuggestions"
      ]
    },
    {
      "path": "/work/views/:viewId/edit",
      "file": "apps/web/src/app/work/views/[viewId]/edit/page.tsx",
      "components": [
        "WorkSavedViewEditorClient"
      ]
    },
    {
      "path": "/work/_components/WorkEntityPillarPage.tsx",
      "file": "apps/web/src/app/work/_components/WorkEntityPillarPage.tsx",
      "components": [
        "WorkEntitiesClient",
        "Button",
        "InterestsSearch",
        "AdvancedFilters",
        "QuickSearch"
      ]
    },
    {
      "path": "/workspace-debug",
      "file": "apps/web/src/app/workspace-debug/page.tsx",
      "components": []
    },
    {
      "path": "/workspaces",
      "file": "apps/web/src/app/workspaces/page.tsx",
      "components": [
        "WorkspacePickerClient"
      ]
    }
  ],
  "modules": [
    {
      "name": "api",
      "description": "127 files, 0 functions",
      "files": [
        "apps/web/src/app/api/approval/route.ts",
        "apps/web/src/app/api/artifacts/route.ts",
        "apps/web/src/app/api/auth/bootstrap/route.ts",
        "apps/web/src/app/api/auth/logout/route.ts",
        "apps/web/src/app/api/auth/microsoft/callback/route.ts",
        "apps/web/src/app/api/auth/microsoft/route.ts",
        "apps/web/src/app/api/capture/route.ts",
        "apps/web/src/app/api/chat/draft/clear/route.ts",
        "apps/web/src/app/api/chat/messages/route.ts",
        "apps/web/src/app/api/chat/route.ts",
        "apps/web/src/app/api/chat/stream/route.ts",
        "apps/web/src/app/api/chat/threads/route.ts",
        "apps/web/src/app/api/collections/route.ts",
        "apps/web/src/app/api/collections/[slug]/items/route.ts",
        "apps/web/src/app/api/collections/[slug]/items/[itemId]/route.ts",
        "apps/web/src/app/api/collections/[slug]/route.ts",
        "apps/web/src/app/api/cron/intelligence/route.ts",
        "apps/web/src/app/api/cron/knowledge/route.ts",
        "apps/web/src/app/api/cron/start/route.ts",
        "apps/web/src/app/api/cron/trends/route.ts",
        "apps/web/src/app/api/daily-brief/route.ts",
        "apps/web/src/app/api/entities/bulk/route.ts",
        "apps/web/src/app/api/entities/duplicates/route.ts",
        "apps/web/src/app/api/entities/merge/route.ts",
        "apps/web/src/app/api/entities/route.ts",
        "apps/web/src/app/api/entities/[id]/route.ts",
        "apps/web/src/app/api/events/route.ts",
        "apps/web/src/app/api/events/[id]/route.ts",
        "apps/web/src/app/api/fitness/events/route.ts",
        "apps/web/src/app/api/fitness/exercises/[name]/route.ts",
        "apps/web/src/app/api/fitness/generate-plan/route.ts",
        "apps/web/src/app/api/fitness/insights/route.ts",
        "apps/web/src/app/api/fitness/plan/activate/route.ts",
        "apps/web/src/app/api/fitness/plan/clear/route.ts",
        "apps/web/src/app/api/fitness/plan/generation/restart/route.ts",
        "apps/web/src/app/api/fitness/plan/generation/route.ts",
        "apps/web/src/app/api/fitness/plan/materialized/route.ts",
        "apps/web/src/app/api/fitness/plan/propose/route.ts",
        "apps/web/src/app/api/fitness/plan/range/route.ts",
        "apps/web/src/app/api/fitness/plan/review/route.ts",
        "apps/web/src/app/api/fitness/plan/route.ts",
        "apps/web/src/app/api/fitness/plan/schedule/route.ts",
        "apps/web/src/app/api/fitness/plan/schedule/run/route.ts",
        "apps/web/src/app/api/fitness/plan/today/route.ts",
        "apps/web/src/app/api/fitness/plan/week/route.ts",
        "apps/web/src/app/api/fitness/save-plan/route.ts",
        "apps/web/src/app/api/fitness/save-workout/route.ts",
        "apps/web/src/app/api/fitness/stats/route.ts",
        "apps/web/src/app/api/goals/route.ts",
        "apps/web/src/app/api/goals/[id]/route.ts",
        "apps/web/src/app/api/goals/[id]/versions/route.ts",
        "apps/web/src/app/api/goals/[id]/versions/[versionId]/route.ts",
        "apps/web/src/app/api/graph/health/route.ts",
        "apps/web/src/app/api/habits/route.ts",
        "apps/web/src/app/api/habits/[id]/complete/route.ts",
        "apps/web/src/app/api/health/route.ts",
        "apps/web/src/app/api/inbox/apply/route.ts",
        "apps/web/src/app/api/inbox/edit/route.ts",
        "apps/web/src/app/api/inbox/reject/route.ts",
        "apps/web/src/app/api/inbox/rerun/route.ts",
        "apps/web/src/app/api/inbox/route.ts",
        "apps/web/src/app/api/integrations/whoop/route.ts",
        "apps/web/src/app/api/intelligence/introductions/route.ts",
        "apps/web/src/app/api/intelligence/network/route.ts",
        "apps/web/src/app/api/intelligence/referrals/route.ts",
        "apps/web/src/app/api/intelligence/route.ts",
        "apps/web/src/app/api/intelligence/suggestions/route.ts",
        "apps/web/src/app/api/intelligence/targets/route.ts",
        "apps/web/src/app/api/knowledge/clarification/route.ts",
        "apps/web/src/app/api/knowledge/context-brief/route.ts",
        "apps/web/src/app/api/knowledge/maintenance/route.ts",
        "apps/web/src/app/api/knowledge/memories/route.ts",
        "apps/web/src/app/api/knowledge/notifications/route.ts",
        "apps/web/src/app/api/knowledge/opinions/route.ts",
        "apps/web/src/app/api/knowledge/relationships/route.ts",
        "apps/web/src/app/api/notifications/subscribe/route.ts",
        "apps/web/src/app/api/notifications/test/route.ts",
        "apps/web/src/app/api/notifications/unsubscribe/route.ts",
        "apps/web/src/app/api/notifications/vapid-public-key/route.ts",
        "apps/web/src/app/api/profile/ensure-onboarded/route.ts",
        "apps/web/src/app/api/profile/init-turn/route.ts",
        "apps/web/src/app/api/profile/initialize/route.ts",
        "apps/web/src/app/api/profile/process-initialization/route.ts",
        "apps/web/src/app/api/profile/route.ts",
        "apps/web/src/app/api/reflections/route.ts",
        "apps/web/src/app/api/search/route.ts",
        "apps/web/src/app/api/settings/language/route.ts",
        "apps/web/src/app/api/settings/route.ts",
        "apps/web/src/app/api/stt/deepgram-key/route.ts",
        "apps/web/src/app/api/stt/keywords/route.ts",
        "apps/web/src/app/api/stt/metrics/route.ts",
        "apps/web/src/app/api/stt/route.ts",
        "apps/web/src/app/api/timeline/events/route.ts",
        "apps/web/src/app/api/work/ask/route.ts",
        "apps/web/src/app/api/work/buyer-history/route.ts",
        "apps/web/src/app/api/work/config/fields/route.ts",
        "apps/web/src/app/api/work/config/scaffolds/route.ts",
        "apps/web/src/app/api/work/config/scaffolds/[id]/route.ts",
        "apps/web/src/app/api/work/config/views/route.ts",
        "apps/web/src/app/api/work/config/views/[id]/route.ts",
        "apps/web/src/app/api/work/debug-log/route.ts",
        "apps/web/src/app/api/work/entities/route.ts",
        "apps/web/src/app/api/work/entities/[id]/route.ts",
        "apps/web/src/app/api/work/export/route.ts",
        "apps/web/src/app/api/work/feedback/route.ts",
        "apps/web/src/app/api/work/import/execute/route.ts",
        "apps/web/src/app/api/work/import/preview/route.ts",
        "apps/web/src/app/api/work/ingest-email/route.ts",
        "apps/web/src/app/api/work/quick-edit/route.ts",
        "apps/web/src/app/api/work/relationships/entity/route.ts",
        "apps/web/src/app/api/work/relationships/event-entities/route.ts",
        "apps/web/src/app/api/work/search/route.ts",
        "apps/web/src/app/api/work/settings/route.ts",
        "apps/web/src/app/api/work/suggestions/accept/route.ts",
        "apps/web/src/app/api/work/suggestions/route.ts",
        "apps/web/src/app/api/work/tasks/route.ts",
        "apps/web/src/app/api/work/telemetry/route.ts",
        "apps/web/src/app/api/work/undo/route.ts",
        "apps/web/src/app/api/work/undo-multi-target/route.ts",
        "apps/web/src/app/api/workouts/route.ts",
        "apps/web/src/app/api/workouts/start/route.ts",
        "apps/web/src/app/api/workouts/[id]/finish/route.ts",
        "apps/web/src/app/api/workouts/[id]/log/route.ts",
        "apps/web/src/app/api/workouts/[id]/route.ts",
        "apps/web/src/app/api/workspace/debug/route.ts",
        "apps/web/src/app/api/workspace/route.ts",
        "apps/web/src/app/api/workspaces/route.ts"
      ],
      "exports": [
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/approval/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/artifacts/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/auth/bootstrap/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/auth/logout/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/auth/microsoft/callback/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/auth/microsoft/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/capture/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/chat/draft/clear/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/chat/messages/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/chat/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/chat/stream/route.ts"
        },
        {
          "name": "runtime",
          "kind": "constant",
          "file": "apps/web/src/app/api/chat/stream/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/chat/threads/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/collections/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/collections/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/collections/[slug]/items/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/collections/[slug]/items/route.ts"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "file": "apps/web/src/app/api/collections/[slug]/items/[itemId]/route.ts"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "file": "apps/web/src/app/api/collections/[slug]/items/[itemId]/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/collections/[slug]/route.ts"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "file": "apps/web/src/app/api/collections/[slug]/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/cron/intelligence/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/cron/intelligence/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/cron/knowledge/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/cron/knowledge/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/cron/start/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/cron/trends/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/daily-brief/route.ts"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "file": "apps/web/src/app/api/entities/bulk/route.ts"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "file": "apps/web/src/app/api/entities/bulk/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/entities/duplicates/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/entities/merge/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/entities/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/entities/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/entities/[id]/route.ts"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "file": "apps/web/src/app/api/entities/[id]/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/events/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/events/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/events/[id]/route.ts"
        },
        {
          "name": "DELETE",
          "kind": "component",
          "file": "apps/web/src/app/api/events/[id]/route.ts"
        },
        {
          "name": "PATCH",
          "kind": "component",
          "file": "apps/web/src/app/api/events/[id]/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/fitness/events/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/fitness/exercises/[name]/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/fitness/generate-plan/route.ts"
        },
        {
          "name": "runtime",
          "kind": "constant",
          "file": "apps/web/src/app/api/fitness/generate-plan/route.ts"
        },
        {
          "name": "maxDuration",
          "kind": "constant",
          "file": "apps/web/src/app/api/fitness/generate-plan/route.ts"
        },
        {
          "name": "GET",
          "kind": "component",
          "file": "apps/web/src/app/api/fitness/insights/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/fitness/plan/activate/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/fitness/plan/clear/route.ts"
        },
        {
          "name": "POST",
          "kind": "component",
          "file": "apps/web/src/app/api/fitness/plan/generation/restart/route.ts"
        }
      ],
      "dependencies": [
        "@/lib/workspace-guards",
        "@/lib/db/schema",
        "@/lib/tools/capture",
        "@/lib/tools/entity-merge",
        "@/lib/ai/context-cache",
        "@/lib/tools/collections",
        "@/lib/tools/work-config",
        "@/lib/ai/chat/self-entity",
        "@/lib/ai/chat/drafts",
        "@/lib/env",
        "@/lib/db/tenancy-constants",
        "@/lib/workspace",
        "@/lib/supabase/server",
        "@/lib/integrations/microsoft/auth",
        "@/lib/db",
        "@/lib/ai/extract",
        "@/lib/tools/audit",
        "@/lib/work/extract-work",
        "@/lib/work/smart-extraction",
        "@/lib/work/alias-dictionary",
        "@/lib/work/proposal-shaping",
        "@/lib/work/schema-sanitizer",
        "@/lib/tools/user-settings",
        "@/lib/ai/context",
        "@/lib/ai/insights",
        "@/lib/ai/goals-extraction",
        "@/lib/ai/emotion-extraction",
        "@/lib/ai/enterprise-context",
        "@/lib/ai/initialization-completion",
        "@/lib/ai/thread-router",
        "@/lib/ai/entity-resolver",
        "@/lib/ai/clarification",
        "@/lib/ai/memory",
        "@/lib/ai/thread-context",
        "@/lib/ai/router",
        "@/lib/ai/embeddings",
        "@/lib/ai/thread-markers",
        "@/lib/ai/agent/runtime",
        "@/lib/ai/chat/prepare-agent-input",
        "@/lib/ai/experience/selector",
        "@/lib/ai/chat/shared-context",
        "@/lib/ai/chat/threading",
        "@/lib/ai/chat/approvals",
        "@/lib/ai/chat/persistence",
        "@/lib/ai/chat/drafting",
        "@/lib/ai/chat/preflight",
        "@/lib/ai/chat/merge-intent",
        "@/lib/ai/chat/merge-resolution",
        "@/lib/ai/chat/merge-changes",
        "@/lib/ai/chat/draft-merge",
        "@/lib/ai/approval",
        "@/lib/ai/risk-classifier",
        "@/lib/ai/chat/fitness-plan-intent",
        "@/lib/tools/trainingPlan",
        "@/lib/fitness/schedule",
        "@/lib/fitness/planSchema",
        "@/lib/ai/agent-events",
        "@/lib/ai/agent/intent",
        "@/lib/ai/agent/significance",
        "@/lib/ai/agent/mode",
        "@/lib/ai/agent/checkpoints",
        "@/lib/ai/digest-attachments",
        "@/lib/work/extraction-context",
        "@/lib/work/vip-entities",
        "@/lib/work/post-extraction",
        "@/lib/work/thread-intent-memory",
        "@/lib/work/disambiguation-memory",
        "@/lib/ai/extraction/integration",
        "@/lib/work/query-intelligence",
        "@/lib/work/insights",
        "@/lib/work/entity-synthesis",
        "@/lib/cron/intelligence-maintenance",
        "@/lib/cron/knowledge-maintenance",
        "@/lib/cron/scheduler",
        "@/lib/cron/trends",
        "@/lib/daily-brief",
        "@/lib/tools/seed",
        "@/lib/work/optimistic",
        "@/lib/utils/1rm",
        "@/lib/fitness/plan-generator",
        "@/lib/fitness/plan-storage",
        "@/lib/fitness/plan-parser",
        "@/lib/graph",
        "@/lib/integrations/whoop",
        "@/lib/intelligence",
        "@/lib/knowledge",
        "@/lib/notifications/subscription-manager",
        "@/lib/notifications/push-sender",
        "@/lib/ai/openai",
        "@/lib/ai/vector-search",
        "@/lib/ai/stt-performance",
        "@/lib/tenancy/roles",
        "@/lib/work/production-debug-log",
        "@/lib/work/view-query",
        "@/lib/work/display-utils",
        "@/lib/work/csv-import",
        "@/lib/integrations/microsoft/email-classification",
        "@/lib/work/suggestion-executor",
        "@/lib/work/action-suggestions",
        "@/lib/work/production-telemetry"
      ],
      "externalServices": [
        "openai",
        "deepgram"
      ]
    },
    {
      "name": "pages",
      "description": "115 files, 2 functions",
      "files": [
        "apps/web/src/app/admin/ai-logs/page.tsx",
        "apps/web/src/app/admin/database/page.tsx",
        "apps/web/src/app/admin/health/page.tsx",
        "apps/web/src/app/admin/layout.tsx",
        "apps/web/src/app/admin/models/page.tsx",
        "apps/web/src/app/admin/monitoring/page.tsx",
        "apps/web/src/app/admin/page.tsx",
        "apps/web/src/app/admin/performance/page.tsx",
        "apps/web/src/app/admin/stt-metrics/page.tsx",
        "apps/web/src/app/admin/traces/actions.ts",
        "apps/web/src/app/admin/traces/page.tsx",
        "apps/web/src/app/admin/traces/trace-list.tsx",
        "apps/web/src/app/admin/vectors/page.tsx",
        "apps/web/src/app/admin/work-architecture/page.tsx",
        "apps/web/src/app/admin/workouts/page.tsx",
        "apps/web/src/app/admin-login/page.tsx",
        "apps/web/src/app/calendar/page.tsx",
        "apps/web/src/app/chat/page.tsx",
        "apps/web/src/app/collections/page.tsx",
        "apps/web/src/app/collections/[slug]/page.tsx",
        "apps/web/src/app/context/page.tsx",
        "apps/web/src/app/context/[id]/page.tsx",
        "apps/web/src/app/entities/page.tsx",
        "apps/web/src/app/fitness/page.tsx",
        "apps/web/src/app/fitness/plan/page.tsx",
        "apps/web/src/app/fitness/workouts/new/page.tsx",
        "apps/web/src/app/global-error.tsx",
        "apps/web/src/app/goals/page.tsx",
        "apps/web/src/app/habits/page.tsx",
        "apps/web/src/app/journal/page.tsx",
        "apps/web/src/app/layout.tsx",
        "apps/web/src/app/login/login-client.tsx",
        "apps/web/src/app/login/page.tsx",
        "apps/web/src/app/onboarding/page.tsx",
        "apps/web/src/app/onboarding/ui.tsx",
        "apps/web/src/app/page.tsx",
        "apps/web/src/app/people/page.tsx",
        "apps/web/src/app/pillar/brief/page.tsx",
        "apps/web/src/app/pillar/fitness/execute/[id]/page.tsx",
        "apps/web/src/app/pillar/fitness/get-started/page.tsx",
        "apps/web/src/app/pillar/fitness/history/page.tsx",
        "apps/web/src/app/pillar/fitness/history/[id]/page.tsx",
        "apps/web/src/app/pillar/fitness/layout.tsx",
        "apps/web/src/app/pillar/fitness/page.tsx",
        "apps/web/src/app/pillar/fitness/plan/archive/page.tsx",
        "apps/web/src/app/pillar/fitness/plan/day/[date]/page.tsx",
        "apps/web/src/app/pillar/fitness/plan/page.tsx",
        "apps/web/src/app/pillar/fitness/plan/session/[id]/page.tsx",
        "apps/web/src/app/pillar/fitness/plan-v2/execute/[date]/page.tsx",
        "apps/web/src/app/pillar/fitness/plan-v2/generate/page.tsx",
        "apps/web/src/app/pillar/fitness/plan-v2/page.tsx",
        "apps/web/src/app/pillar/fitness/today/page.tsx",
        "apps/web/src/app/pillar/growth/page.tsx",
        "apps/web/src/app/pillar/health/HealthDashboardClient.tsx",
        "apps/web/src/app/pillar/health/page.tsx",
        "apps/web/src/app/pillar/life/page.tsx",
        "apps/web/src/app/pillar/people/page.tsx",
        "apps/web/src/app/pillar/wealth/page.tsx",
        "apps/web/src/app/pillar/wealth/WealthDashboardClient.tsx",
        "apps/web/src/app/profile/page.tsx",
        "apps/web/src/app/reflections/page.tsx",
        "apps/web/src/app/robots.ts",
        "apps/web/src/app/search/page.tsx",
        "apps/web/src/app/settings/page.tsx",
        "apps/web/src/app/timeline/page.tsx",
        "apps/web/src/app/work/activity/page.tsx",
        "apps/web/src/app/work/calendar/page.tsx",
        "apps/web/src/app/work/chat/page.tsx",
        "apps/web/src/app/work/companies/page.tsx",
        "apps/web/src/app/work/contacts/loading.tsx",
        "apps/web/src/app/work/contacts/page.tsx",
        "apps/web/src/app/work/dashboard/loading.tsx",
        "apps/web/src/app/work/dashboard/page.tsx",
        "apps/web/src/app/work/dashboard/PriorityDashboardClient.tsx",
        "apps/web/src/app/work/dashboards/fees/page.tsx",
        "apps/web/src/app/work/dashboards/page.tsx",
        "apps/web/src/app/work/deals/loading.tsx",
        "apps/web/src/app/work/deals/page.tsx",
        "apps/web/src/app/work/duplicates/DuplicatesClient.tsx",
        "apps/web/src/app/work/duplicates/page.tsx",
        "apps/web/src/app/work/error.tsx",
        "apps/web/src/app/work/events/[eventId]/page.tsx",
        "apps/web/src/app/work/expenses/page.tsx",
        "apps/web/src/app/work/fees/page.tsx",
        "apps/web/src/app/work/history/page.tsx",
        "apps/web/src/app/work/import/page.tsx",
        "apps/web/src/app/work/insights/page.tsx",
        "apps/web/src/app/work/layout.tsx",
        "apps/web/src/app/work/listing-logs/page.tsx",
        "apps/web/src/app/work/listings/page.tsx",
        "apps/web/src/app/work/loading.tsx",
        "apps/web/src/app/work/network/loading.tsx",
        "apps/web/src/app/work/network/NetworkClient.tsx",
        "apps/web/src/app/work/network/page.tsx",
        "apps/web/src/app/work/not-found.tsx",
        "apps/web/src/app/work/page.tsx",
        "apps/web/src/app/work/pipeline/loading.tsx",
        "apps/web/src/app/work/pipeline/page.tsx",
        "apps/web/src/app/work/records/[entityId]/loading.tsx",
        "apps/web/src/app/work/records/[entityId]/page.tsx",
        "apps/web/src/app/work/relationships/page.tsx",
        "apps/web/src/app/work/scaffolds/[scaffoldId]/edit/page.tsx",
        "apps/web/src/app/work/settings/integrations/page.tsx",
        "apps/web/src/app/work/settings/page.tsx",
        "apps/web/src/app/work/settings/WorkSettingsClient.tsx",
        "apps/web/src/app/work/setup/page.tsx",
        "apps/web/src/app/work/tasks/loading.tsx",
        "apps/web/src/app/work/tasks/page.tsx",
        "apps/web/src/app/work/today/loading.tsx",
        "apps/web/src/app/work/today/page.tsx",
        "apps/web/src/app/work/views/[viewId]/edit/page.tsx",
        "apps/web/src/app/work/_components/WorkEntityPillarPage.tsx",
        "apps/web/src/app/workspace-debug/page.tsx",
        "apps/web/src/app/workspaces/page.tsx",
        "apps/web/src/app/workspaces/workspace-picker-client.tsx"
      ],
      "exports": [
        {
          "name": "AdminAILogsPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/ai-logs/page.tsx"
        },
        {
          "name": "AdminDatabasePage",
          "kind": "component",
          "file": "apps/web/src/app/admin/database/page.tsx"
        },
        {
          "name": "AdminHealthPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/health/page.tsx"
        },
        {
          "name": "AdminLayout",
          "kind": "component",
          "file": "apps/web/src/app/admin/layout.tsx"
        },
        {
          "name": "ModelsPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/models/page.tsx"
        },
        {
          "name": "AdminMonitoringPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/monitoring/page.tsx"
        },
        {
          "name": "AdminPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/page.tsx"
        },
        {
          "name": "PerformancePage",
          "kind": "component",
          "file": "apps/web/src/app/admin/performance/page.tsx"
        },
        {
          "name": "STTMetricsPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/stt-metrics/page.tsx"
        },
        {
          "name": "getTraceCalls",
          "kind": "function",
          "file": "apps/web/src/app/admin/traces/actions.ts"
        },
        {
          "name": "TracesPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/traces/page.tsx"
        },
        {
          "name": "TraceList",
          "kind": "component",
          "file": "apps/web/src/app/admin/traces/trace-list.tsx"
        },
        {
          "name": "AdminVectorsPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/vectors/page.tsx"
        },
        {
          "name": "WorkArchitectureAdminPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/work-architecture/page.tsx"
        },
        {
          "name": "AdminWorkoutsPage",
          "kind": "component",
          "file": "apps/web/src/app/admin/workouts/page.tsx"
        },
        {
          "name": "AdminLoginPage",
          "kind": "component",
          "file": "apps/web/src/app/admin-login/page.tsx"
        },
        {
          "name": "dynamic",
          "kind": "constant",
          "file": "apps/web/src/app/admin-login/page.tsx"
        },
        {
          "name": "CalendarPage",
          "kind": "component",
          "file": "apps/web/src/app/calendar/page.tsx"
        },
        {
          "name": "ChatPage",
          "kind": "component",
          "file": "apps/web/src/app/chat/page.tsx"
        },
        {
          "name": "CollectionsPage",
          "kind": "component",
          "file": "apps/web/src/app/collections/page.tsx"
        },
        {
          "name": "CollectionDetailPage",
          "kind": "component",
          "file": "apps/web/src/app/collections/[slug]/page.tsx"
        },
        {
          "name": "ContextPage",
          "kind": "component",
          "file": "apps/web/src/app/context/page.tsx"
        },
        {
          "name": "EntityDetailPage",
          "kind": "component",
          "file": "apps/web/src/app/context/[id]/page.tsx"
        },
        {
          "name": "EntitiesPage",
          "kind": "component",
          "file": "apps/web/src/app/entities/page.tsx"
        },
        {
          "name": "FitnessPageRedirect",
          "kind": "component",
          "file": "apps/web/src/app/fitness/page.tsx"
        },
        {
          "name": "FitnessPlanRedirect",
          "kind": "component",
          "file": "apps/web/src/app/fitness/plan/page.tsx"
        },
        {
          "name": "NewWorkoutRedirect",
          "kind": "component",
          "file": "apps/web/src/app/fitness/workouts/new/page.tsx"
        },
        {
          "name": "GlobalError",
          "kind": "component",
          "file": "apps/web/src/app/global-error.tsx"
        },
        {
          "name": "GoalsPage",
          "kind": "component",
          "file": "apps/web/src/app/goals/page.tsx"
        },
        {
          "name": "HabitsPage",
          "kind": "component",
          "file": "apps/web/src/app/habits/page.tsx"
        },
        {
          "name": "JournalPage",
          "kind": "component",
          "file": "apps/web/src/app/journal/page.tsx"
        },
        {
          "name": "RootLayout",
          "kind": "component",
          "file": "apps/web/src/app/layout.tsx"
        },
        {
          "name": "metadata",
          "kind": "constant",
          "file": "apps/web/src/app/layout.tsx"
        },
        {
          "name": "LoginClient",
          "kind": "component",
          "file": "apps/web/src/app/login/login-client.tsx"
        },
        {
          "name": "LoginPage",
          "kind": "component",
          "file": "apps/web/src/app/login/page.tsx"
        },
        {
          "name": "dynamic",
          "kind": "constant",
          "file": "apps/web/src/app/login/page.tsx"
        },
        {
          "name": "OnboardingPage",
          "kind": "component",
          "file": "apps/web/src/app/onboarding/page.tsx"
        },
        {
          "name": "dynamic",
          "kind": "constant",
          "file": "apps/web/src/app/onboarding/page.tsx"
        },
        {
          "name": "OnboardingClient",
          "kind": "component",
          "file": "apps/web/src/app/onboarding/ui.tsx"
        },
        {
          "name": "Home",
          "kind": "component",
          "file": "apps/web/src/app/page.tsx"
        },
        {
          "name": "dynamic",
          "kind": "constant",
          "file": "apps/web/src/app/page.tsx"
        },
        {
          "name": "PeoplePage",
          "kind": "component",
          "file": "apps/web/src/app/people/page.tsx"
        },
        {
          "name": "DailyBriefPage",
          "kind": "component",
          "file": "apps/web/src/app/pillar/brief/page.tsx"
        },
        {
          "name": "FitnessExecutePage",
          "kind": "component",
          "file": "apps/web/src/app/pillar/fitness/execute/[id]/page.tsx"
        },
        {
          "name": "FitnessGetStartedPage",
          "kind": "component",
          "file": "apps/web/src/app/pillar/fitness/get-started/page.tsx"
        },
        {
          "name": "FitnessHistoryPage",
          "kind": "component",
          "file": "apps/web/src/app/pillar/fitness/history/page.tsx"
        },
        {
          "name": "WorkoutDetailPage",
          "kind": "component",
          "file": "apps/web/src/app/pillar/fitness/history/[id]/page.tsx"
        },
        {
          "name": "FitnessLayout",
          "kind": "component",
          "file": "apps/web/src/app/pillar/fitness/layout.tsx"
        },
        {
          "name": "FitnessPage",
          "kind": "component",
          "file": "apps/web/src/app/pillar/fitness/page.tsx"
        },
        {
          "name": "FitnessPlanArchivePage",
          "kind": "component",
          "file": "apps/web/src/app/pillar/fitness/plan/archive/page.tsx"
        }
      ],
      "dependencies": [
        "@/lib/workspace-guards",
        "@/lib/db/schema",
        "@/lib/ai/model-catalog",
        "@/lib/workspace",
        "@/lib/monitoring/sentry-api",
        "@/lib/monitoring/helicone-api",
        "@/lib/ai/cost-tracking",
        "@/components/ui/card",
        "@/components/ui/badge",
        "@/components/STTMetricsClient",
        "@/lib/utils/1rm",
        "@/app/login/login-client",
        "@/components/CalendarClient",
        "@/components/ChatCapture",
        "@/components/ui/button",
        "@/components/collections/CollectionItemsClient",
        "@/components/GoalsClient",
        "@/components/HabitsClient",
        "@/components/InboxClient",
        "@/components/Sidebar",
        "@/hooks/useSidebarChat",
        "@/components/SidebarChatContainer",
        "@/components/LayoutContent",
        "@/components/ThemeProvider",
        "@/components/QueryProvider",
        "@/components/KeyboardShortcuts",
        "@/lib/supabase/client",
        "@/lib/supabase/server",
        "@/lib/auth/admin",
        "@/components/ui/skeleton",
        "@/lib/tools/trainingPlan",
        "@/lib/fitness/planSchema",
        "@/components/fitness/WorkoutExecuteClient",
        "@/components/fitness/FitnessGetStartedClient",
        "@/components/MarkdownCard",
        "@/components/fitness/PlanSummaryCard",
        "@/components/fitness/TodayPreviewCard",
        "@/components/fitness/FitnessProgressCard",
        "@/lib/fitness/rendering",
        "@/components/fitness/FitnessSessionIcon",
        "@/components/fitness/FitnessBadges",
        "@/components/fitness/FitnessLegend",
        "@/components/fitness/WeeklyReviewClient",
        "@/components/fitness/ClearPlanButton",
        "@/components/fitness/PlanGenerationStatusClient",
        "@/components/fitness/PlannedSessionEditorClient",
        "@/components/fitness/PlannedSessionActionsClient",
        "@/components/fitness/WorkoutRenderer",
        "@/lib/fitness/plan-storage",
        "@/lib/fitness/plan-parser",
        "@/lib/fitness/workout-parser",
        "@/components/fitness/WorkoutExecutionClient",
        "@/components/fitness/PlanGeneratorClient",
        "@/components/fitness/PlanViewerClient",
        "@/components/fitness/TodayExecutionClient",
        "@/components/ui/progress",
        "@/lib/utils",
        "@/components/ProfileClient",
        "@/components/ReflectionsClient",
        "@/components/SearchClient",
        "@/components/SearchFilters",
        "@/lib/tools/user-settings",
        "@/components/SettingsClient",
        "@/components/TimelineClient",
        "@/components/TimelineFilters",
        "@/lib/tools/work-config-seed",
        "@/components/WorkActivityClient",
        "@/components/work/WorkCalendarClient",
        "@/components/ui/tabs",
        "@/components/intelligence",
        "@/lib/work/display-utils",
        "@/components/work/WorkEventDetailsEditorClient",
        "@/components/work/WorkEventLinkedEntitiesClient",
        "@/components/work/TaskActionsPanel",
        "@/components/work/LocationMapPreview",
        "@/components/work/PhotoAttachment",
        "@/components/work/MobileBottomNav",
        "@/components/work/QuickTaskFAB",
        "@/components/PWARegistration",
        "@/components/work/NotificationPrompt",
        "@/components/work/OfflineIndicator",
        "@/components/PatternNotifications",
        "@/components/ui/input",
        "@/components/ui/select",
        "@/components/intelligence/NetworkGraph",
        "@/components/work/WorkSkeletons",
        "@/components/work/PipelineBoard",
        "@/components/work/WorkEntityDetailsEditorClient",
        "@/components/work/WorkEntityRelationshipsClient",
        "@/components/work/DealTimelineView",
        "@/components/work/ConversationTimeline",
        "@/components/work/ListingBuyerBulkImport",
        "@/components/work/BuyerHistoryPanel",
        "@/components/work/ListingBuyerQuickAdd",
        "@/components/work/LenderComparisonTable",
        "@/components/work/knowledge",
        "@/components/work/EntityIntelligencePanel",
        "@/components/work/WorkScaffoldEditorClient",
        "@/lib/db",
        "@/lib/ai/model-router",
        "@/components/ui/label",
        "@/components/ui/switch",
        "@/lib/ai/embeddings",
        "@/components/work/WorkTasksClient",
        "@/components/work/TaskIntelligencePanel",
        "@/components/work/StaleContactsAlert",
        "@/components/work/TargetContactsWidget",
        "@/components/work/QuickCapturePanel",
        "@/components/work/ActionSuggestions",
        "@/components/work/WorkSavedViewEditorClient",
        "@/components/WorkEntitiesClient",
        "@/lib/work/view-query",
        "@/components/work/InterestsSearch",
        "@/components/work/AdvancedFilters"
      ],
      "externalServices": [
        "helicone",
        "deepgram",
        "sentry"
      ]
    },
    {
      "name": "ai",
      "description": "96 files, 190 functions",
      "files": [
        "apps/web/src/lib/ai/agent/checkpoints.ts",
        "apps/web/src/lib/ai/agent/intent.test.ts",
        "apps/web/src/lib/ai/agent/intent.ts",
        "apps/web/src/lib/ai/agent/mode.ts",
        "apps/web/src/lib/ai/agent/runtime.ts",
        "apps/web/src/lib/ai/agent/significance.ts",
        "apps/web/src/lib/ai/agent/state.ts",
        "apps/web/src/lib/ai/agent/__tests__/harness.ts",
        "apps/web/src/lib/ai/agent/__tests__/run-harness.test.ts",
        "apps/web/src/lib/ai/agent/__tests__/scenarios/edge-cases.scenarios.ts",
        "apps/web/src/lib/ai/agent/__tests__/scenarios/query.scenarios.ts",
        "apps/web/src/lib/ai/agent/__tests__/scenarios/recall.scenarios.ts",
        "apps/web/src/lib/ai/agent/__tests__/scenarios/work-capture.scenarios.ts",
        "apps/web/src/lib/ai/agent/__tests__/scratch.test.ts",
        "apps/web/src/lib/ai/agent/__tests__/test-helpers.ts",
        "apps/web/src/lib/ai/agent-events.ts",
        "apps/web/src/lib/ai/anthropic.ts",
        "apps/web/src/lib/ai/approval.ts",
        "apps/web/src/lib/ai/chat/approvals.ts",
        "apps/web/src/lib/ai/chat/collections-drafting.ts",
        "apps/web/src/lib/ai/chat/draft-merge.ts",
        "apps/web/src/lib/ai/chat/drafting.ts",
        "apps/web/src/lib/ai/chat/drafts.ts",
        "apps/web/src/lib/ai/chat/fitness-plan-intent.ts",
        "apps/web/src/lib/ai/chat/fitness-preamble.ts",
        "apps/web/src/lib/ai/chat/merge-changes.ts",
        "apps/web/src/lib/ai/chat/merge-intent.ts",
        "apps/web/src/lib/ai/chat/merge-resolution.ts",
        "apps/web/src/lib/ai/chat/persistence.ts",
        "apps/web/src/lib/ai/chat/preflight.ts",
        "apps/web/src/lib/ai/chat/prepare-agent-input.ts",
        "apps/web/src/lib/ai/chat/self-entity.ts",
        "apps/web/src/lib/ai/chat/shared-context.ts",
        "apps/web/src/lib/ai/chat/threading.ts",
        "apps/web/src/lib/ai/clarification.ts",
        "apps/web/src/lib/ai/client.ts",
        "apps/web/src/lib/ai/confidence-config.ts",
        "apps/web/src/lib/ai/context-cache.ts",
        "apps/web/src/lib/ai/context-scoring.ts",
        "apps/web/src/lib/ai/context.ts",
        "apps/web/src/lib/ai/cost-tracking.ts",
        "apps/web/src/lib/ai/cross-pillar-insights.ts",
        "apps/web/src/lib/ai/deepgram-streaming.ts",
        "apps/web/src/lib/ai/digest-attachments.test.ts",
        "apps/web/src/lib/ai/digest-attachments.ts",
        "apps/web/src/lib/ai/embeddings.ts",
        "apps/web/src/lib/ai/emotion-extraction.ts",
        "apps/web/src/lib/ai/enterprise-context.ts",
        "apps/web/src/lib/ai/entity-resolver.ts",
        "apps/web/src/lib/ai/experience/packs.ts",
        "apps/web/src/lib/ai/experience/selector.ts",
        "apps/web/src/lib/ai/experience/types.ts",
        "apps/web/src/lib/ai/extract.ts",
        "apps/web/src/lib/ai/extraction/apply-operations.ts",
        "apps/web/src/lib/ai/extraction/context-fetch.ts",
        "apps/web/src/lib/ai/extraction/deduplication.ts",
        "apps/web/src/lib/ai/extraction/extraction-e2e.test.ts",
        "apps/web/src/lib/ai/extraction/extraction-integration.test.ts",
        "apps/web/src/lib/ai/extraction/extraction-simulation.test.ts",
        "apps/web/src/lib/ai/extraction/extraction.test.ts",
        "apps/web/src/lib/ai/extraction/index.ts",
        "apps/web/src/lib/ai/extraction/integration.ts",
        "apps/web/src/lib/ai/extraction/mention-detection.ts",
        "apps/web/src/lib/ai/extraction/multi-target-extract.ts",
        "apps/web/src/lib/ai/extraction/task-completion.ts",
        "apps/web/src/lib/ai/extraction/types.ts",
        "apps/web/src/lib/ai/extraction/voice-scenario.test.ts",
        "apps/web/src/lib/ai/fuzzy-matching.ts",
        "apps/web/src/lib/ai/goals-extraction.ts",
        "apps/web/src/lib/ai/initialization-completion.ts",
        "apps/web/src/lib/ai/insights.ts",
        "apps/web/src/lib/ai/major-updates-detector.ts",
        "apps/web/src/lib/ai/memory-extractor.ts",
        "apps/web/src/lib/ai/memory.ts",
        "apps/web/src/lib/ai/model-catalog.ts",
        "apps/web/src/lib/ai/model-router.ts",
        "apps/web/src/lib/ai/openai.ts",
        "apps/web/src/lib/ai/production-telemetry.ts",
        "apps/web/src/lib/ai/response-calibration.ts",
        "apps/web/src/lib/ai/response-strategy.ts",
        "apps/web/src/lib/ai/risk-classifier.ts",
        "apps/web/src/lib/ai/router.ts",
        "apps/web/src/lib/ai/stt-performance.ts",
        "apps/web/src/lib/ai/task-classifier.ts",
        "apps/web/src/lib/ai/temporal-context.ts",
        "apps/web/src/lib/ai/thread-context.ts",
        "apps/web/src/lib/ai/thread-markers.ts",
        "apps/web/src/lib/ai/thread-router.ts",
        "apps/web/src/lib/ai/tools/executor-intelligence.ts",
        "apps/web/src/lib/ai/tools/executor.ts",
        "apps/web/src/lib/ai/tools/registry.ts",
        "apps/web/src/lib/ai/tracing.ts",
        "apps/web/src/lib/ai/trends.ts",
        "apps/web/src/lib/ai/unified-streaming.ts",
        "apps/web/src/lib/ai/vector-search.ts",
        "apps/web/src/lib/ai/vector-utils.ts"
      ],
      "exports": [
        {
          "name": "detectCheckpoint",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/checkpoints.ts"
        },
        {
          "name": "detectIntent",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/intent.ts"
        },
        {
          "name": "decideMode",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/mode.ts"
        },
        {
          "name": "runAgentTurnToText",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/runtime.ts"
        },
        {
          "name": "scoreSignificance",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/significance.ts"
        },
        {
          "name": "runScenario",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/__tests__/harness.ts"
        },
        {
          "name": "runAllScenarios",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/__tests__/harness.ts"
        },
        {
          "name": "edgeCaseScenarios",
          "kind": "constant",
          "file": "apps/web/src/lib/ai/agent/__tests__/scenarios/edge-cases.scenarios.ts"
        },
        {
          "name": "queryScenarios",
          "kind": "constant",
          "file": "apps/web/src/lib/ai/agent/__tests__/scenarios/query.scenarios.ts"
        },
        {
          "name": "recallScenarios",
          "kind": "constant",
          "file": "apps/web/src/lib/ai/agent/__tests__/scenarios/recall.scenarios.ts"
        },
        {
          "name": "workCaptureScenarios",
          "kind": "constant",
          "file": "apps/web/src/lib/ai/agent/__tests__/scenarios/work-capture.scenarios.ts"
        },
        {
          "name": "getTestDb",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/__tests__/test-helpers.ts"
        },
        {
          "name": "makeArgs",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/__tests__/test-helpers.ts"
        },
        {
          "name": "seedTestEntities",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/__tests__/test-helpers.ts"
        },
        {
          "name": "cleanupTestData",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent/__tests__/test-helpers.ts"
        },
        {
          "name": "sseEncode",
          "kind": "function",
          "file": "apps/web/src/lib/ai/agent-events.ts"
        },
        {
          "name": "getAnthropic",
          "kind": "function",
          "file": "apps/web/src/lib/ai/anthropic.ts"
        },
        {
          "name": "isAnthropicConfigured",
          "kind": "function",
          "file": "apps/web/src/lib/ai/anthropic.ts"
        },
        {
          "name": "anthropic",
          "kind": "constant",
          "file": "apps/web/src/lib/ai/anthropic.ts"
        },
        {
          "name": "needsApproval",
          "kind": "function",
          "file": "apps/web/src/lib/ai/approval.ts"
        },
        {
          "name": "generateProposedChanges",
          "kind": "function",
          "file": "apps/web/src/lib/ai/approval.ts"
        },
        {
          "name": "formatProposedChanges",
          "kind": "function",
          "file": "apps/web/src/lib/ai/approval.ts"
        },
        {
          "name": "categorizeChanges",
          "kind": "function",
          "file": "apps/web/src/lib/ai/approval.ts"
        },
        {
          "name": "setPendingApprovalMessageId",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/approvals.ts"
        },
        {
          "name": "upsertPendingApproval",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/approvals.ts"
        },
        {
          "name": "draftCollectionChangesFromText",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/collections-drafting.ts"
        },
        {
          "name": "mergeDraftChangeSet",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/draft-merge.ts"
        },
        {
          "name": "runPostTurnDrafting",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/drafting.ts"
        },
        {
          "name": "upsertDraftSnapshot",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/drafts.ts"
        },
        {
          "name": "getActiveDraftSnapshot",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/drafts.ts"
        },
        {
          "name": "clearActiveDraftSnapshot",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/drafts.ts"
        },
        {
          "name": "isFitnessPlanApproval",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/fitness-plan-intent.ts"
        },
        {
          "name": "isFitnessPlanRequest",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/fitness-plan-intent.ts"
        },
        {
          "name": "FITNESS_SYSTEM_APPENDIX",
          "kind": "constant",
          "file": "apps/web/src/lib/ai/chat/fitness-preamble.ts"
        },
        {
          "name": "applyPendingMergesToProposedChanges",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/merge-changes.ts"
        },
        {
          "name": "detectMergeIntents",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/merge-intent.ts"
        },
        {
          "name": "resolveMergeIntents",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/merge-resolution.ts"
        },
        {
          "name": "storeChatArtifact",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/persistence.ts"
        },
        {
          "name": "insertUserChatMessage",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/persistence.ts"
        },
        {
          "name": "insertAssistantChatMessage",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/persistence.ts"
        },
        {
          "name": "bumpThreadCounts",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/persistence.ts"
        },
        {
          "name": "preflightChatTurn",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/preflight.ts"
        },
        {
          "name": "prepareAgentInputText",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/prepare-agent-input.ts"
        },
        {
          "name": "ensureSelfEntity",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/self-entity.ts"
        },
        {
          "name": "getSelfEntityResolutions",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/self-entity.ts"
        },
        {
          "name": "buildChatContext",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/shared-context.ts"
        },
        {
          "name": "resolveChatThread",
          "kind": "function",
          "file": "apps/web/src/lib/ai/chat/threading.ts"
        },
        {
          "name": "needsClarification",
          "kind": "function",
          "file": "apps/web/src/lib/ai/clarification.ts"
        },
        {
          "name": "generateClarificationPrompt",
          "kind": "function",
          "file": "apps/web/src/lib/ai/clarification.ts"
        },
        {
          "name": "formatClarificationPrompt",
          "kind": "function",
          "file": "apps/web/src/lib/ai/clarification.ts"
        }
      ],
      "dependencies": [
        "@/lib/ai/tools/registry",
        "@/lib/ai/tools/executor",
        "@/lib/ai/unified-streaming",
        "@/lib/ai/cost-tracking",
        "@/lib/ai/tracing",
        "@/lib/work/smart-briefing",
        "@/lib/db/tenancy-constants",
        "@/lib/env",
        "@/lib/db",
        "@/lib/db/schema",
        "@/lib/ai/openai",
        "@/lib/ai/router",
        "@/lib/tools/user-settings",
        "@/lib/ai/enterprise-context",
        "@/lib/ai/extract",
        "@/lib/tools/capture",
        "@/lib/ai/context-cache",
        "@/lib/ai/approval",
        "@/lib/ai/chat/approvals",
        "@/lib/ai/risk-classifier",
        "@/lib/tools/audit",
        "@/lib/ai/production-telemetry",
        "@/lib/tools/entity-merge",
        "@/lib/ai/embeddings",
        "@/lib/workspace-guards",
        "@/lib/ai/chat/threading",
        "@/lib/ai/chat/persistence",
        "@/lib/ai/entity-resolver",
        "@/lib/ai/clarification",
        "@/lib/work/grounding",
        "@/lib/work/disambiguation-memory",
        "@/lib/ai/thread-context",
        "@/lib/ai/memory",
        "@/lib/ai/context",
        "@/lib/ai/experience/selector",
        "@/lib/ai/response-calibration",
        "@/lib/ai/agent/intent",
        "@/lib/work/workspace-briefing",
        "@/lib/work/daily-context",
        "@/lib/ai/thread-router",
        "@/lib/ai/chat/fitness-preamble",
        "@/lib/work/insights/nl-to-query",
        "@/lib/registry",
        "@/lib/ai/chat/drafts",
        "@/lib/ai/chat/draft-merge",
        "@/lib/ai/chat/merge-resolution",
        "@/lib/enrichment",
        "@/lib/tools/trainingPlan",
        "@/lib/fitness/readiness",
        "@/lib/fitness/planSchema",
        "@/lib/fitness/schedule",
        "@/lib/work/query-plans",
        "@/lib/ai/anthropic"
      ],
      "externalServices": [
        "helicone",
        "openai",
        "deepgram",
        "anthropic"
      ]
    },
    {
      "name": "work",
      "description": "62 files, 3 functions",
      "files": [
        "apps/web/src/components/work/ActionSuggestions.tsx",
        "apps/web/src/components/work/ActivityFeed.tsx",
        "apps/web/src/components/work/AdvancedFilters.tsx",
        "apps/web/src/components/work/BuyerHistoryPanel.tsx",
        "apps/web/src/components/work/CaptureReviewCard.tsx",
        "apps/web/src/components/work/ClarificationCard.tsx",
        "apps/web/src/components/work/ContactsSearchWithInterests.tsx",
        "apps/web/src/components/work/ConversationTimeline.tsx",
        "apps/web/src/components/work/DealTimeline.tsx",
        "apps/web/src/components/work/DealTimelineView.tsx",
        "apps/web/src/components/work/EntityIntelligencePanel.tsx",
        "apps/web/src/components/work/ExtractionFeedback.tsx",
        "apps/web/src/components/work/GlobalSearch.tsx",
        "apps/web/src/components/work/InlineDateField.tsx",
        "apps/web/src/components/work/InlineEditableField.tsx",
        "apps/web/src/components/work/InlineSelectField.tsx",
        "apps/web/src/components/work/InterestsSearch.tsx",
        "apps/web/src/components/work/KeyboardShortcuts.tsx",
        "apps/web/src/components/work/knowledge/ContextBriefCard.tsx",
        "apps/web/src/components/work/knowledge/EntityOpinionSummary.tsx",
        "apps/web/src/components/work/knowledge/EntitySentimentBadge.tsx",
        "apps/web/src/components/work/knowledge/index.ts",
        "apps/web/src/components/work/knowledge/SoftRelationshipsDisplay.tsx",
        "apps/web/src/components/work/LenderComparisonTable.tsx",
        "apps/web/src/components/work/ListingBuyerBulkImport.tsx",
        "apps/web/src/components/work/ListingBuyerQuickAdd.tsx",
        "apps/web/src/components/work/LocationCaptureButton.tsx",
        "apps/web/src/components/work/LocationIndicator.tsx",
        "apps/web/src/components/work/LocationMapPreview.tsx",
        "apps/web/src/components/work/MobileBottomNav.tsx",
        "apps/web/src/components/work/MobileHeader.tsx",
        "apps/web/src/components/work/MobileTouchList.tsx",
        "apps/web/src/components/work/NotificationPrompt.tsx",
        "apps/web/src/components/work/OfflineIndicator.tsx",
        "apps/web/src/components/work/PhotoAttachment.tsx",
        "apps/web/src/components/work/PipelineBoard.tsx",
        "apps/web/src/components/work/PipelineChart.tsx",
        "apps/web/src/components/work/PullToRefresh.tsx",
        "apps/web/src/components/work/QueryResultsCard.tsx",
        "apps/web/src/components/work/QuickCallButton.tsx",
        "apps/web/src/components/work/QuickCapturePanel.tsx",
        "apps/web/src/components/work/QuickTaskFAB.tsx",
        "apps/web/src/components/work/SessionActivityTray.tsx",
        "apps/web/src/components/work/StaleContactsAlert.tsx",
        "apps/web/src/components/work/TargetContactsWidget.tsx",
        "apps/web/src/components/work/TaskActionsPanel.tsx",
        "apps/web/src/components/work/TaskIntelligencePanel.tsx",
        "apps/web/src/components/work/TodayClientWrapper.tsx",
        "apps/web/src/components/work/VoiceCaptureModal.tsx",
        "apps/web/src/components/work/WorkCalendarClient.tsx",
        "apps/web/src/components/work/WorkEntityDetailsEditorClient.tsx",
        "apps/web/src/components/work/WorkEntityRelationshipsClient.tsx",
        "apps/web/src/components/work/WorkEventDetailsEditorClient.tsx",
        "apps/web/src/components/work/WorkEventLinkedEntitiesClient.tsx",
        "apps/web/src/components/work/WorkEventRowActions.tsx",
        "apps/web/src/components/work/WorkLinkEntityRelationshipClient.tsx",
        "apps/web/src/components/work/WorkLinkEventEntityClient.tsx",
        "apps/web/src/components/work/WorkSavedViewEditorClient.tsx",
        "apps/web/src/components/work/WorkScaffoldEditorClient.tsx",
        "apps/web/src/components/work/WorkSkeletons.tsx",
        "apps/web/src/components/work/WorkTasksClient.tsx",
        "apps/web/src/components/work/WorkTasksTableClient.tsx"
      ],
      "exports": [
        {
          "name": "ActionSuggestions",
          "kind": "component",
          "file": "apps/web/src/components/work/ActionSuggestions.tsx"
        },
        {
          "name": "ActivityFeed",
          "kind": "component",
          "file": "apps/web/src/components/work/ActivityFeed.tsx"
        },
        {
          "name": "AdvancedFilters",
          "kind": "component",
          "file": "apps/web/src/components/work/AdvancedFilters.tsx"
        },
        {
          "name": "QuickSearch",
          "kind": "component",
          "file": "apps/web/src/components/work/AdvancedFilters.tsx"
        },
        {
          "name": "BuyerHistoryPanel",
          "kind": "component",
          "file": "apps/web/src/components/work/BuyerHistoryPanel.tsx"
        },
        {
          "name": "CaptureReviewCard",
          "kind": "component",
          "file": "apps/web/src/components/work/CaptureReviewCard.tsx"
        },
        {
          "name": "useCaptureToast",
          "kind": "hook",
          "file": "apps/web/src/components/work/CaptureReviewCard.tsx"
        },
        {
          "name": "ClarificationCard",
          "kind": "component",
          "file": "apps/web/src/components/work/ClarificationCard.tsx"
        },
        {
          "name": "InlineClarification",
          "kind": "component",
          "file": "apps/web/src/components/work/ClarificationCard.tsx"
        },
        {
          "name": "ContactsSearchWithInterests",
          "kind": "component",
          "file": "apps/web/src/components/work/ContactsSearchWithInterests.tsx"
        },
        {
          "name": "ConversationTimeline",
          "kind": "component",
          "file": "apps/web/src/components/work/ConversationTimeline.tsx"
        },
        {
          "name": "DealTimeline",
          "kind": "component",
          "file": "apps/web/src/components/work/DealTimeline.tsx"
        },
        {
          "name": "DealTimelineView",
          "kind": "component",
          "file": "apps/web/src/components/work/DealTimelineView.tsx"
        },
        {
          "name": "EntityIntelligencePanel",
          "kind": "component",
          "file": "apps/web/src/components/work/EntityIntelligencePanel.tsx"
        },
        {
          "name": "ExtractionFeedback",
          "kind": "component",
          "file": "apps/web/src/components/work/ExtractionFeedback.tsx"
        },
        {
          "name": "ExtractionError",
          "kind": "component",
          "file": "apps/web/src/components/work/ExtractionFeedback.tsx"
        },
        {
          "name": "ExtractionLoading",
          "kind": "component",
          "file": "apps/web/src/components/work/ExtractionFeedback.tsx"
        },
        {
          "name": "GlobalSearch",
          "kind": "component",
          "file": "apps/web/src/components/work/GlobalSearch.tsx"
        },
        {
          "name": "GlobalSearchProvider",
          "kind": "component",
          "file": "apps/web/src/components/work/GlobalSearch.tsx"
        },
        {
          "name": "InlineDateField",
          "kind": "component",
          "file": "apps/web/src/components/work/InlineDateField.tsx"
        },
        {
          "name": "InlineEditableField",
          "kind": "component",
          "file": "apps/web/src/components/work/InlineEditableField.tsx"
        },
        {
          "name": "InlineEditableCurrency",
          "kind": "component",
          "file": "apps/web/src/components/work/InlineEditableField.tsx"
        },
        {
          "name": "InlineEditableDate",
          "kind": "component",
          "file": "apps/web/src/components/work/InlineEditableField.tsx"
        },
        {
          "name": "InlineSelectField",
          "kind": "component",
          "file": "apps/web/src/components/work/InlineSelectField.tsx"
        },
        {
          "name": "InterestsSearch",
          "kind": "component",
          "file": "apps/web/src/components/work/InterestsSearch.tsx"
        },
        {
          "name": "KeyboardShortcuts",
          "kind": "component",
          "file": "apps/web/src/components/work/KeyboardShortcuts.tsx"
        },
        {
          "name": "useKeyboardShortcuts",
          "kind": "hook",
          "file": "apps/web/src/components/work/KeyboardShortcuts.tsx"
        },
        {
          "name": "ContextBriefCard",
          "kind": "component",
          "file": "apps/web/src/components/work/knowledge/ContextBriefCard.tsx"
        },
        {
          "name": "EntityOpinionSummary",
          "kind": "component",
          "file": "apps/web/src/components/work/knowledge/EntityOpinionSummary.tsx"
        },
        {
          "name": "EntitySentimentBadge",
          "kind": "component",
          "file": "apps/web/src/components/work/knowledge/EntitySentimentBadge.tsx"
        },
        {
          "name": "EntitySentimentDot",
          "kind": "component",
          "file": "apps/web/src/components/work/knowledge/EntitySentimentBadge.tsx"
        },
        {
          "name": "SoftRelationshipsDisplay",
          "kind": "component",
          "file": "apps/web/src/components/work/knowledge/SoftRelationshipsDisplay.tsx"
        },
        {
          "name": "LenderComparisonTable",
          "kind": "component",
          "file": "apps/web/src/components/work/LenderComparisonTable.tsx"
        },
        {
          "name": "ListingBuyerBulkImport",
          "kind": "component",
          "file": "apps/web/src/components/work/ListingBuyerBulkImport.tsx"
        },
        {
          "name": "ListingBuyerQuickAdd",
          "kind": "component",
          "file": "apps/web/src/components/work/ListingBuyerQuickAdd.tsx"
        },
        {
          "name": "LocationCaptureButton",
          "kind": "component",
          "file": "apps/web/src/components/work/LocationCaptureButton.tsx"
        },
        {
          "name": "LocationIndicator",
          "kind": "component",
          "file": "apps/web/src/components/work/LocationIndicator.tsx"
        },
        {
          "name": "LocationBadge",
          "kind": "component",
          "file": "apps/web/src/components/work/LocationIndicator.tsx"
        },
        {
          "name": "LocationMapPreview",
          "kind": "component",
          "file": "apps/web/src/components/work/LocationMapPreview.tsx"
        },
        {
          "name": "LocationMapBadge",
          "kind": "component",
          "file": "apps/web/src/components/work/LocationMapPreview.tsx"
        },
        {
          "name": "MobileBottomNav",
          "kind": "component",
          "file": "apps/web/src/components/work/MobileBottomNav.tsx"
        },
        {
          "name": "MobileHeader",
          "kind": "component",
          "file": "apps/web/src/components/work/MobileHeader.tsx"
        },
        {
          "name": "SwipeNavigation",
          "kind": "component",
          "file": "apps/web/src/components/work/MobileHeader.tsx"
        },
        {
          "name": "MobileTouchListItem",
          "kind": "component",
          "file": "apps/web/src/components/work/MobileTouchList.tsx"
        },
        {
          "name": "TaskListItem",
          "kind": "component",
          "file": "apps/web/src/components/work/MobileTouchList.tsx"
        },
        {
          "name": "NotificationPrompt",
          "kind": "component",
          "file": "apps/web/src/components/work/NotificationPrompt.tsx"
        },
        {
          "name": "OfflineIndicator",
          "kind": "component",
          "file": "apps/web/src/components/work/OfflineIndicator.tsx"
        },
        {
          "name": "PhotoAttachment",
          "kind": "component",
          "file": "apps/web/src/components/work/PhotoAttachment.tsx"
        },
        {
          "name": "PhotoIndicator",
          "kind": "component",
          "file": "apps/web/src/components/work/PhotoAttachment.tsx"
        },
        {
          "name": "PipelineBoard",
          "kind": "component",
          "file": "apps/web/src/components/work/PipelineBoard.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/components/ui/input",
        "@/components/ui/popover",
        "@/components/ui/select",
        "@/components/ui/badge",
        "@/lib/utils",
        "@/components/ui/card",
        "@/components/ui/textarea",
        "@/components/ui/dropdown-menu",
        "@/lib/work/display-utils",
        "@/components/intelligence/IntroductionChain",
        "@/components/intelligence/ReferralTracker",
        "@/lib/ai/production-telemetry",
        "@/components/ui/command",
        "@/components/ui/dialog",
        "@/components/ui/skeleton",
        "@/hooks/useGeolocation",
        "@/components/ui/sheet",
        "@/lib/notifications/client",
        "@/lib/offline/queue",
        "@/components/ui/animated-counter",
        "@/components/ui/label",
        "@/components/intelligence/SuggestionCard",
        "@/components/intelligence/PriorityBadge",
        "@/components/intelligence/AttentionBadge",
        "@/components/ui/empty-state",
        "@/components/work/PipelineChart",
        "@/components/work/WorkLinkEntityRelationshipClient",
        "@/components/work/WorkLinkEventEntityClient",
        "@/components/ui/checkbox",
        "@/hooks/useWorkEntities",
        "@/components/work/WorkEventRowActions"
      ],
      "externalServices": []
    },
    {
      "name": "work",
      "description": "57 files, 171 functions",
      "files": [
        "apps/web/src/lib/work/action-suggestions.ts",
        "apps/web/src/lib/work/alias-dictionary.ts",
        "apps/web/src/lib/work/conversation-matching.ts",
        "apps/web/src/lib/work/core-fixtures/cache.ts",
        "apps/web/src/lib/work/core-fixtures/golden-flows.test.ts",
        "apps/web/src/lib/work/core-fixtures/golden-flows.ts",
        "apps/web/src/lib/work/core-fixtures/runner.ts",
        "apps/web/src/lib/work/core-fixtures/test-telemetry.ts",
        "apps/web/src/lib/work/core-fixtures/types.ts",
        "apps/web/src/lib/work/core-fixtures/work-full-pipeline.test.ts",
        "apps/web/src/lib/work/core-fixtures/work-io-csv.test.ts",
        "apps/web/src/lib/work/core-fixtures/work-io-integration.test.ts",
        "apps/web/src/lib/work/csv-import.ts",
        "apps/web/src/lib/work/daily-context.ts",
        "apps/web/src/lib/work/deal-brief.ts",
        "apps/web/src/lib/work/deal-detection.ts",
        "apps/web/src/lib/work/disambiguation-memory.ts",
        "apps/web/src/lib/work/display-utils.ts",
        "apps/web/src/lib/work/duplicate-handler.ts",
        "apps/web/src/lib/work/entity-synthesis.ts",
        "apps/web/src/lib/work/extract-work.test.ts",
        "apps/web/src/lib/work/extract-work.ts",
        "apps/web/src/lib/work/extraction-cache.ts",
        "apps/web/src/lib/work/extraction-context.ts",
        "apps/web/src/lib/work/extraction-examples.ts",
        "apps/web/src/lib/work/extraction-recovery.ts",
        "apps/web/src/lib/work/extraction-validation.ts",
        "apps/web/src/lib/work/fee-utils.ts",
        "apps/web/src/lib/work/field-registry-cache.ts",
        "apps/web/src/lib/work/field-registry-context.ts",
        "apps/web/src/lib/work/grounding.test.ts",
        "apps/web/src/lib/work/grounding.ts",
        "apps/web/src/lib/work/insights/index.ts",
        "apps/web/src/lib/work/insights/nl-to-query.ts",
        "apps/web/src/lib/work/insights/queries.ts",
        "apps/web/src/lib/work/insights/types.ts",
        "apps/web/src/lib/work/multi-pass-extraction.ts",
        "apps/web/src/lib/work/optimistic.ts",
        "apps/web/src/lib/work/post-extraction.ts",
        "apps/web/src/lib/work/production-debug-log.ts",
        "apps/web/src/lib/work/production-telemetry.ts",
        "apps/web/src/lib/work/proposal-shaping.test.ts",
        "apps/web/src/lib/work/proposal-shaping.ts",
        "apps/web/src/lib/work/query-intelligence.ts",
        "apps/web/src/lib/work/query-plans.ts",
        "apps/web/src/lib/work/resolve-relationships.ts",
        "apps/web/src/lib/work/schema-sanitizer.ts",
        "apps/web/src/lib/work/smart-briefing.ts",
        "apps/web/src/lib/work/smart-extraction.ts",
        "apps/web/src/lib/work/suggestion-executor.ts",
        "apps/web/src/lib/work/thread-intent-memory.ts",
        "apps/web/src/lib/work/types.ts",
        "apps/web/src/lib/work/view-execution.ts",
        "apps/web/src/lib/work/view-query.ts",
        "apps/web/src/lib/work/vip-entities.ts",
        "apps/web/src/lib/work/weekly-digest.ts",
        "apps/web/src/lib/work/workspace-briefing.ts"
      ],
      "exports": [
        {
          "name": "generateSuggestions",
          "kind": "function",
          "file": "apps/web/src/lib/work/action-suggestions.ts"
        },
        {
          "name": "expandAliases",
          "kind": "function",
          "file": "apps/web/src/lib/work/alias-dictionary.ts"
        },
        {
          "name": "getCommonCREAliases",
          "kind": "function",
          "file": "apps/web/src/lib/work/alias-dictionary.ts"
        },
        {
          "name": "detectPotentialAlias",
          "kind": "function",
          "file": "apps/web/src/lib/work/alias-dictionary.ts"
        },
        {
          "name": "addAlias",
          "kind": "function",
          "file": "apps/web/src/lib/work/alias-dictionary.ts"
        },
        {
          "name": "removeAlias",
          "kind": "function",
          "file": "apps/web/src/lib/work/alias-dictionary.ts"
        },
        {
          "name": "getAllAliases",
          "kind": "function",
          "file": "apps/web/src/lib/work/alias-dictionary.ts"
        },
        {
          "name": "formatAliasesForPrompt",
          "kind": "function",
          "file": "apps/web/src/lib/work/alias-dictionary.ts"
        },
        {
          "name": "mergeAliases",
          "kind": "function",
          "file": "apps/web/src/lib/work/alias-dictionary.ts"
        },
        {
          "name": "findConversation",
          "kind": "function",
          "file": "apps/web/src/lib/work/conversation-matching.ts"
        },
        {
          "name": "checkEmailDedup",
          "kind": "function",
          "file": "apps/web/src/lib/work/conversation-matching.ts"
        },
        {
          "name": "setConversationRoot",
          "kind": "function",
          "file": "apps/web/src/lib/work/conversation-matching.ts"
        },
        {
          "name": "getConversationEvents",
          "kind": "function",
          "file": "apps/web/src/lib/work/conversation-matching.ts"
        },
        {
          "name": "getCacheKey",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/cache.ts"
        },
        {
          "name": "getCachedExtraction",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/cache.ts"
        },
        {
          "name": "cacheExtraction",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/cache.ts"
        },
        {
          "name": "shouldUseCache",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/cache.ts"
        },
        {
          "name": "getCacheStats",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/cache.ts"
        },
        {
          "name": "WORK_GOLDEN_FLOWS",
          "kind": "constant",
          "file": "apps/web/src/lib/work/core-fixtures/golden-flows.ts"
        },
        {
          "name": "normalizeProposedChanges",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/runner.ts"
        },
        {
          "name": "runGoldenFlowDryRun",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/runner.ts"
        },
        {
          "name": "incrementChatCompletions",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts"
        },
        {
          "name": "incrementEmbeddings",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts"
        },
        {
          "name": "getRequestCounts",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts"
        },
        {
          "name": "resetCounts",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts"
        },
        {
          "name": "printTelemetry",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts"
        },
        {
          "name": "assertWithinThreshold",
          "kind": "function",
          "file": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts"
        },
        {
          "name": "parseCSV",
          "kind": "function",
          "file": "apps/web/src/lib/work/csv-import.ts"
        },
        {
          "name": "detectColumnMapping",
          "kind": "function",
          "file": "apps/web/src/lib/work/csv-import.ts"
        },
        {
          "name": "previewImport",
          "kind": "function",
          "file": "apps/web/src/lib/work/csv-import.ts"
        },
        {
          "name": "executeBatchImport",
          "kind": "function",
          "file": "apps/web/src/lib/work/csv-import.ts"
        },
        {
          "name": "buildDailyContext",
          "kind": "function",
          "file": "apps/web/src/lib/work/daily-context.ts"
        },
        {
          "name": "assembleDealBrief",
          "kind": "function",
          "file": "apps/web/src/lib/work/deal-brief.ts"
        },
        {
          "name": "getActiveDealNames",
          "kind": "function",
          "file": "apps/web/src/lib/work/deal-detection.ts"
        },
        {
          "name": "detectDealMention",
          "kind": "function",
          "file": "apps/web/src/lib/work/deal-detection.ts"
        },
        {
          "name": "recordDisambiguationChoice",
          "kind": "function",
          "file": "apps/web/src/lib/work/disambiguation-memory.ts"
        },
        {
          "name": "getLearnedPreference",
          "kind": "function",
          "file": "apps/web/src/lib/work/disambiguation-memory.ts"
        },
        {
          "name": "storePendingDisambiguations",
          "kind": "function",
          "file": "apps/web/src/lib/work/disambiguation-memory.ts"
        },
        {
          "name": "getPendingDisambiguations",
          "kind": "function",
          "file": "apps/web/src/lib/work/disambiguation-memory.ts"
        },
        {
          "name": "clearPendingDisambiguations",
          "kind": "function",
          "file": "apps/web/src/lib/work/disambiguation-memory.ts"
        },
        {
          "name": "matchDisambiguationReply",
          "kind": "function",
          "file": "apps/web/src/lib/work/disambiguation-memory.ts"
        },
        {
          "name": "formatFieldLabel",
          "kind": "function",
          "file": "apps/web/src/lib/work/display-utils.ts"
        },
        {
          "name": "formatCurrency",
          "kind": "function",
          "file": "apps/web/src/lib/work/display-utils.ts"
        },
        {
          "name": "parseAmount",
          "kind": "function",
          "file": "apps/web/src/lib/work/display-utils.ts"
        },
        {
          "name": "formatDate",
          "kind": "function",
          "file": "apps/web/src/lib/work/display-utils.ts"
        },
        {
          "name": "formatRelativeDate",
          "kind": "function",
          "file": "apps/web/src/lib/work/display-utils.ts"
        },
        {
          "name": "getHumanReadableLabel",
          "kind": "function",
          "file": "apps/web/src/lib/work/display-utils.ts"
        },
        {
          "name": "getStageInfo",
          "kind": "function",
          "file": "apps/web/src/lib/work/display-utils.ts"
        },
        {
          "name": "getEntityTypeLabel",
          "kind": "function",
          "file": "apps/web/src/lib/work/display-utils.ts"
        },
        {
          "name": "formatCellValue",
          "kind": "function",
          "file": "apps/web/src/lib/work/display-utils.ts"
        }
      ],
      "dependencies": [
        "@/lib/db/schema",
        "@/lib/ai/approval",
        "@/lib/work/extract-work",
        "@/lib/work/proposal-shaping",
        "@/lib/tools/capture",
        "@/lib/db",
        "@/lib/db/tenancy-constants",
        "@/lib/tools/entity-merge",
        "@/lib/work/fee-utils",
        "@/lib/registry",
        "@/lib/ai/model-router",
        "@/lib/ai/confidence-config",
        "@/lib/ai/cost-tracking",
        "@/lib/ai/router",
        "@/lib/ai/openai",
        "@/lib/ai/production-telemetry",
        "@/lib/work/field-registry-cache"
      ],
      "externalServices": [
        "openai",
        "helicone"
      ]
    },
    {
      "name": "fitness",
      "description": "19 files, 1 functions",
      "files": [
        "apps/web/src/components/fitness/ClearPlanButton.tsx",
        "apps/web/src/components/fitness/FitnessBadges.tsx",
        "apps/web/src/components/fitness/FitnessGetStartedClient.tsx",
        "apps/web/src/components/fitness/FitnessLegend.tsx",
        "apps/web/src/components/fitness/FitnessProgressCard.tsx",
        "apps/web/src/components/fitness/FitnessSessionIcon.tsx",
        "apps/web/src/components/fitness/PlanGenerationStatusClient.tsx",
        "apps/web/src/components/fitness/PlanGeneratorClient.tsx",
        "apps/web/src/components/fitness/PlannedSessionActionsClient.tsx",
        "apps/web/src/components/fitness/PlannedSessionEditorClient.tsx",
        "apps/web/src/components/fitness/PlanSummaryCard.tsx",
        "apps/web/src/components/fitness/PlanViewerClient.tsx",
        "apps/web/src/components/fitness/ScheduleJobsClient.tsx",
        "apps/web/src/components/fitness/TodayExecutionClient.tsx",
        "apps/web/src/components/fitness/TodayPreviewCard.tsx",
        "apps/web/src/components/fitness/WeeklyReviewClient.tsx",
        "apps/web/src/components/fitness/WorkoutExecuteClient.tsx",
        "apps/web/src/components/fitness/WorkoutExecutionClient.tsx",
        "apps/web/src/components/fitness/WorkoutRenderer.tsx"
      ],
      "exports": [
        {
          "name": "ClearPlanButton",
          "kind": "component",
          "file": "apps/web/src/components/fitness/ClearPlanButton.tsx"
        },
        {
          "name": "getFitnessTypeBadgeStyle",
          "kind": "function",
          "file": "apps/web/src/components/fitness/FitnessBadges.tsx"
        },
        {
          "name": "FitnessTypeBadge",
          "kind": "component",
          "file": "apps/web/src/components/fitness/FitnessBadges.tsx"
        },
        {
          "name": "FitnessStatusBadge",
          "kind": "component",
          "file": "apps/web/src/components/fitness/FitnessBadges.tsx"
        },
        {
          "name": "FitnessGetStartedClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/FitnessGetStartedClient.tsx"
        },
        {
          "name": "FitnessLegend",
          "kind": "component",
          "file": "apps/web/src/components/fitness/FitnessLegend.tsx"
        },
        {
          "name": "FitnessProgressCard",
          "kind": "component",
          "file": "apps/web/src/components/fitness/FitnessProgressCard.tsx"
        },
        {
          "name": "FitnessSessionIcon",
          "kind": "component",
          "file": "apps/web/src/components/fitness/FitnessSessionIcon.tsx"
        },
        {
          "name": "PlanGenerationStatusClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/PlanGenerationStatusClient.tsx"
        },
        {
          "name": "PlanGeneratorClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/PlanGeneratorClient.tsx"
        },
        {
          "name": "PlannedSessionActionsClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/PlannedSessionActionsClient.tsx"
        },
        {
          "name": "PlannedSessionEditorClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/PlannedSessionEditorClient.tsx"
        },
        {
          "name": "PlanSummaryCard",
          "kind": "component",
          "file": "apps/web/src/components/fitness/PlanSummaryCard.tsx"
        },
        {
          "name": "PlanViewerClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/PlanViewerClient.tsx"
        },
        {
          "name": "ScheduleJobsClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/ScheduleJobsClient.tsx"
        },
        {
          "name": "TodayExecutionClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/TodayExecutionClient.tsx"
        },
        {
          "name": "TodayPreviewCard",
          "kind": "component",
          "file": "apps/web/src/components/fitness/TodayPreviewCard.tsx"
        },
        {
          "name": "WeeklyReviewClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/WeeklyReviewClient.tsx"
        },
        {
          "name": "WorkoutExecuteClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/WorkoutExecuteClient.tsx"
        },
        {
          "name": "WorkoutExecutionClient",
          "kind": "component",
          "file": "apps/web/src/components/fitness/WorkoutExecutionClient.tsx"
        },
        {
          "name": "WorkoutRenderer",
          "kind": "component",
          "file": "apps/web/src/components/fitness/WorkoutRenderer.tsx"
        }
      ],
      "dependencies": [
        "@/lib/utils",
        "@/components/fitness/FitnessSessionIcon",
        "@/components/fitness/FitnessBadges",
        "@/lib/fitness/planSchema",
        "@/lib/fitness/rendering"
      ],
      "externalServices": []
    },
    {
      "name": "ui",
      "description": "19 files, 0 functions",
      "files": [
        "apps/web/src/components/ui/animated-counter.tsx",
        "apps/web/src/components/ui/badge.tsx",
        "apps/web/src/components/ui/button.tsx",
        "apps/web/src/components/ui/card.tsx",
        "apps/web/src/components/ui/checkbox.tsx",
        "apps/web/src/components/ui/command.tsx",
        "apps/web/src/components/ui/dialog.tsx",
        "apps/web/src/components/ui/dropdown-menu.tsx",
        "apps/web/src/components/ui/empty-state.tsx",
        "apps/web/src/components/ui/input.tsx",
        "apps/web/src/components/ui/label.tsx",
        "apps/web/src/components/ui/popover.tsx",
        "apps/web/src/components/ui/progress.tsx",
        "apps/web/src/components/ui/select.tsx",
        "apps/web/src/components/ui/sheet.tsx",
        "apps/web/src/components/ui/skeleton.tsx",
        "apps/web/src/components/ui/switch.tsx",
        "apps/web/src/components/ui/tabs.tsx",
        "apps/web/src/components/ui/textarea.tsx"
      ],
      "exports": [
        {
          "name": "AnimatedCounter",
          "kind": "component",
          "file": "apps/web/src/components/ui/animated-counter.tsx"
        },
        {
          "name": "AnimatedCurrency",
          "kind": "component",
          "file": "apps/web/src/components/ui/animated-counter.tsx"
        },
        {
          "name": "EmptyState",
          "kind": "component",
          "file": "apps/web/src/components/ui/empty-state.tsx"
        },
        {
          "name": "EmptyStateCompact",
          "kind": "component",
          "file": "apps/web/src/components/ui/empty-state.tsx"
        }
      ],
      "dependencies": [
        "@/lib/utils",
        "@/components/ui/dialog",
        "@/components/ui/button"
      ],
      "externalServices": []
    },
    {
      "name": "db",
      "description": "16 files, 12 functions",
      "files": [
        "apps/web/src/lib/db/index.ts",
        "apps/web/src/lib/db/schema-collections.ts",
        "apps/web/src/lib/db/schema-drafts.ts",
        "apps/web/src/lib/db/schema-fitness-plan.ts",
        "apps/web/src/lib/db/schema-fitness-v2.ts",
        "apps/web/src/lib/db/schema-goals.ts",
        "apps/web/src/lib/db/schema-habits.ts",
        "apps/web/src/lib/db/schema-intelligence.ts",
        "apps/web/src/lib/db/schema-knowledge.ts",
        "apps/web/src/lib/db/schema-reflections.ts",
        "apps/web/src/lib/db/schema-tenancy.ts",
        "apps/web/src/lib/db/schema-user-profiles.ts",
        "apps/web/src/lib/db/schema-work-config.ts",
        "apps/web/src/lib/db/schema.ts",
        "apps/web/src/lib/db/tenancy-columns.ts",
        "apps/web/src/lib/db/tenancy-constants.ts"
      ],
      "exports": [
        {
          "name": "getDb",
          "kind": "function",
          "file": "apps/web/src/lib/db/index.ts"
        },
        {
          "name": "getSystemDb",
          "kind": "function",
          "file": "apps/web/src/lib/db/index.ts"
        },
        {
          "name": "getDbByWorkspaceId",
          "kind": "function",
          "file": "apps/web/src/lib/db/index.ts"
        },
        {
          "name": "withDbSessionReadOnly",
          "kind": "function",
          "file": "apps/web/src/lib/db/index.ts"
        },
        {
          "name": "withDbSession",
          "kind": "function",
          "file": "apps/web/src/lib/db/index.ts"
        },
        {
          "name": "getDbSessionClient",
          "kind": "function",
          "file": "apps/web/src/lib/db/index.ts"
        },
        {
          "name": "collections",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-collections.ts"
        },
        {
          "name": "collectionItems",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-collections.ts"
        },
        {
          "name": "fieldRegistry",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-collections.ts"
        },
        {
          "name": "draftSnapshots",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-drafts.ts"
        },
        {
          "name": "fitnessPlanDays",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-fitness-plan.ts"
        },
        {
          "name": "fitnessPlanArtifacts",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-fitness-plan.ts"
        },
        {
          "name": "fitnessPlansV2",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-fitness-v2.ts"
        },
        {
          "name": "fitnessPlanChunks",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-fitness-v2.ts"
        },
        {
          "name": "fitnessExecutedWorkoutsV2",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-fitness-v2.ts"
        },
        {
          "name": "goals",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-goals.ts"
        },
        {
          "name": "goalVersions",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-goals.ts"
        },
        {
          "name": "habitCompletions",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-habits.ts"
        },
        {
          "name": "entityIntelligence",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-intelligence.ts"
        },
        {
          "name": "smartSuggestions",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-intelligence.ts"
        },
        {
          "name": "suggestionFeedback",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-intelligence.ts"
        },
        {
          "name": "introductions",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-intelligence.ts"
        },
        {
          "name": "referralObligations",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-intelligence.ts"
        },
        {
          "name": "referralPayments",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-intelligence.ts"
        },
        {
          "name": "memories",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-knowledge.ts"
        },
        {
          "name": "softRelationships",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-knowledge.ts"
        },
        {
          "name": "memoryPatterns",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-knowledge.ts"
        },
        {
          "name": "surfacePreferences",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-knowledge.ts"
        },
        {
          "name": "dealOutcomes",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-knowledge.ts"
        },
        {
          "name": "memoryOpinions",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-knowledge.ts"
        },
        {
          "name": "reflections",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-reflections.ts"
        },
        {
          "name": "orgs",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-tenancy.ts"
        },
        {
          "name": "workspaces",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-tenancy.ts"
        },
        {
          "name": "workspaceMemberships",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-tenancy.ts"
        },
        {
          "name": "userProfiles",
          "kind": "hook",
          "file": "apps/web/src/lib/db/schema-user-profiles.ts"
        },
        {
          "name": "savedViews",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-work-config.ts"
        },
        {
          "name": "workScaffolds",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema-work-config.ts"
        },
        {
          "name": "pillars",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "entities",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "events",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "eventEntities",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "observations",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "artifacts",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "workoutSets",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "plans",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "planVersions",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "planGenerationJobs",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "auditLog",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "entityRelationships",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        },
        {
          "name": "aggregatedObservations",
          "kind": "constant",
          "file": "apps/web/src/lib/db/schema.ts"
        }
      ],
      "dependencies": [
        "@/lib/env",
        "@/lib/db/tenancy-constants"
      ],
      "externalServices": []
    },
    {
      "name": "knowledge",
      "description": "14 files, 74 functions",
      "files": [
        "apps/web/src/lib/knowledge/clarification.ts",
        "apps/web/src/lib/knowledge/context-brief.ts",
        "apps/web/src/lib/knowledge/extraction.ts",
        "apps/web/src/lib/knowledge/index.ts",
        "apps/web/src/lib/knowledge/integration.ts",
        "apps/web/src/lib/knowledge/lifecycle.ts",
        "apps/web/src/lib/knowledge/memories.ts",
        "apps/web/src/lib/knowledge/notifications.ts",
        "apps/web/src/lib/knowledge/opinions.ts",
        "apps/web/src/lib/knowledge/patterns.ts",
        "apps/web/src/lib/knowledge/preferences.ts",
        "apps/web/src/lib/knowledge/relationship-promotion.ts",
        "apps/web/src/lib/knowledge/relationships.ts",
        "apps/web/src/lib/knowledge/types.ts"
      ],
      "exports": [
        {
          "name": "getKnowledgeProfile",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/clarification.ts"
        },
        {
          "name": "generateClarificationPrompts",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/clarification.ts"
        },
        {
          "name": "processClarificationResponse",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/clarification.ts"
        },
        {
          "name": "getEntitiesWithKnowledgeGaps",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/clarification.ts"
        },
        {
          "name": "getChatClarificationSuggestions",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/clarification.ts"
        },
        {
          "name": "generateContextBrief",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/context-brief.ts"
        },
        {
          "name": "generatePreCallBrief",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/context-brief.ts"
        },
        {
          "name": "generateDealBrief",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/context-brief.ts"
        },
        {
          "name": "extractMemories",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/extraction.ts"
        },
        {
          "name": "storeExtractedMemories",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/extraction.ts"
        },
        {
          "name": "checkForContradiction",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/extraction.ts"
        },
        {
          "name": "moderateContent",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/extraction.ts"
        },
        {
          "name": "extractKnowledgeFromText",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/integration.ts"
        },
        {
          "name": "extractKnowledgeForMentionedEntities",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/integration.ts"
        },
        {
          "name": "afterWorkExtractionApplied",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/integration.ts"
        },
        {
          "name": "processMemoryDecay",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/lifecycle.ts"
        },
        {
          "name": "processDealClose",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/lifecycle.ts"
        },
        {
          "name": "recalculateRelevanceScores",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/lifecycle.ts"
        },
        {
          "name": "refreshAllPatterns",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/lifecycle.ts"
        },
        {
          "name": "consolidateEntityMemories",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/lifecycle.ts"
        },
        {
          "name": "runMaintenanceForWorkspace",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/lifecycle.ts"
        },
        {
          "name": "createMemory",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "getMemoriesForEntity",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "getMemoriesForDeal",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "getMemory",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "searchMemories",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "updateMemoryFeedback",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "verifyMemory",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "trackMemorySurfaced",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "archiveMemory",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "convertToHistorical",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "calculateRelevanceScore",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "updateRelevanceScores",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "archiveDecayedMemories",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/memories.ts"
        },
        {
          "name": "detectPatternChanges",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "generateNotificationsFromChanges",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "storeNotifications",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "getNotifications",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "markNotificationsRead",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "dismissNotifications",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "getNotificationPreferences",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "updateNotificationPreferences",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "processPatternNotifications",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "getNotificationSummary",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/notifications.ts"
        },
        {
          "name": "getEntityOpinions",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/opinions.ts"
        },
        {
          "name": "getEntityOpinionSummary",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/opinions.ts"
        },
        {
          "name": "findOpinionDivergences",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/opinions.ts"
        },
        {
          "name": "getTeamSentiment",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/opinions.ts"
        },
        {
          "name": "compareUserOpinions",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/opinions.ts"
        },
        {
          "name": "detectEntityPatterns",
          "kind": "function",
          "file": "apps/web/src/lib/knowledge/patterns.ts"
        }
      ],
      "dependencies": [
        "@/lib/db",
        "@/lib/db/schema",
        "@/lib/ai/model-router",
        "@/lib/ai/embeddings",
        "@/lib/graph"
      ],
      "externalServices": []
    },
    {
      "name": "intelligence",
      "description": "13 files, 3 functions",
      "files": [
        "apps/web/src/components/intelligence/AttentionBadge.tsx",
        "apps/web/src/components/intelligence/ContextualSuggestions.tsx",
        "apps/web/src/components/intelligence/EntityIntelligenceCard.tsx",
        "apps/web/src/components/intelligence/HealthBadge.tsx",
        "apps/web/src/components/intelligence/index.ts",
        "apps/web/src/components/intelligence/IntroductionChain.tsx",
        "apps/web/src/components/intelligence/NetworkGraph.tsx",
        "apps/web/src/components/intelligence/PriorityBadge.tsx",
        "apps/web/src/components/intelligence/PriorityEntitiesList.tsx",
        "apps/web/src/components/intelligence/ReferralTracker.tsx",
        "apps/web/src/components/intelligence/SuggestionCard.tsx",
        "apps/web/src/components/intelligence/SuggestionsList.tsx",
        "apps/web/src/components/intelligence/TargetBadge.tsx"
      ],
      "exports": [
        {
          "name": "AttentionBadge",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/AttentionBadge.tsx"
        },
        {
          "name": "ContextualSuggestions",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/ContextualSuggestions.tsx"
        },
        {
          "name": "useContextualContext",
          "kind": "hook",
          "file": "apps/web/src/components/intelligence/ContextualSuggestions.tsx"
        },
        {
          "name": "EntityIntelligenceCard",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/EntityIntelligenceCard.tsx"
        },
        {
          "name": "HealthBadge",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/HealthBadge.tsx"
        },
        {
          "name": "IntroductionChain",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/IntroductionChain.tsx"
        },
        {
          "name": "useIntroductionChain",
          "kind": "hook",
          "file": "apps/web/src/components/intelligence/IntroductionChain.tsx"
        },
        {
          "name": "NetworkGraph",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/NetworkGraph.tsx"
        },
        {
          "name": "PriorityBadge",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/PriorityBadge.tsx"
        },
        {
          "name": "PriorityEntitiesList",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/PriorityEntitiesList.tsx"
        },
        {
          "name": "ReferralTracker",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/ReferralTracker.tsx"
        },
        {
          "name": "useReferralTracker",
          "kind": "hook",
          "file": "apps/web/src/components/intelligence/ReferralTracker.tsx"
        },
        {
          "name": "SuggestionCard",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/SuggestionCard.tsx"
        },
        {
          "name": "SuggestionsList",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/SuggestionsList.tsx"
        },
        {
          "name": "TargetBadge",
          "kind": "component",
          "file": "apps/web/src/components/intelligence/TargetBadge.tsx"
        }
      ],
      "dependencies": [
        "@/lib/utils",
        "@/components/ui/card",
        "@/components/ui/button"
      ],
      "externalServices": []
    },
    {
      "name": "tools",
      "description": "10 files, 29 functions",
      "files": [
        "apps/web/src/lib/tools/audit.ts",
        "apps/web/src/lib/tools/capture.ts",
        "apps/web/src/lib/tools/collections.ts",
        "apps/web/src/lib/tools/entity-merge.ts",
        "apps/web/src/lib/tools/seed-demo.ts",
        "apps/web/src/lib/tools/seed.ts",
        "apps/web/src/lib/tools/trainingPlan.ts",
        "apps/web/src/lib/tools/user-settings.ts",
        "apps/web/src/lib/tools/work-config-seed.ts",
        "apps/web/src/lib/tools/work-config.ts"
      ],
      "exports": [
        {
          "name": "writeAudit",
          "kind": "function",
          "file": "apps/web/src/lib/tools/audit.ts"
        },
        {
          "name": "applyCaptureExtraction",
          "kind": "function",
          "file": "apps/web/src/lib/tools/capture.ts"
        },
        {
          "name": "extractKnowledgeFromAppliedEvents",
          "kind": "function",
          "file": "apps/web/src/lib/tools/capture.ts"
        },
        {
          "name": "ensureCollection",
          "kind": "function",
          "file": "apps/web/src/lib/tools/collections.ts"
        },
        {
          "name": "updateCollection",
          "kind": "function",
          "file": "apps/web/src/lib/tools/collections.ts"
        },
        {
          "name": "addCollectionItem",
          "kind": "function",
          "file": "apps/web/src/lib/tools/collections.ts"
        },
        {
          "name": "updateCollectionItem",
          "kind": "function",
          "file": "apps/web/src/lib/tools/collections.ts"
        },
        {
          "name": "deleteCollectionItem",
          "kind": "function",
          "file": "apps/web/src/lib/tools/collections.ts"
        },
        {
          "name": "mergeEntities",
          "kind": "function",
          "file": "apps/web/src/lib/tools/entity-merge.ts"
        },
        {
          "name": "findEntitiesByName",
          "kind": "function",
          "file": "apps/web/src/lib/tools/entity-merge.ts"
        },
        {
          "name": "seedPersonalDemoData",
          "kind": "function",
          "file": "apps/web/src/lib/tools/seed-demo.ts"
        },
        {
          "name": "seedWorkDemoData",
          "kind": "function",
          "file": "apps/web/src/lib/tools/seed-demo.ts"
        },
        {
          "name": "ensureDefaultPillars",
          "kind": "function",
          "file": "apps/web/src/lib/tools/seed.ts"
        },
        {
          "name": "ensureTrainingPlan",
          "kind": "function",
          "file": "apps/web/src/lib/tools/trainingPlan.ts"
        },
        {
          "name": "getUserProfile",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "updateApprovalLevel",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "updateTrackingPreferences",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "updateSTTStreaming",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "getSTTStreaming",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "getSTTProvider",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "updateSTTProvider",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "updateSTTLanguage",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "updateChatStreaming",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "getChatStreaming",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "getSTTLanguage",
          "kind": "function",
          "file": "apps/web/src/lib/tools/user-settings.ts"
        },
        {
          "name": "ensureWorkDefaultConfig",
          "kind": "function",
          "file": "apps/web/src/lib/tools/work-config-seed.ts"
        },
        {
          "name": "upsertWorkField",
          "kind": "function",
          "file": "apps/web/src/lib/tools/work-config.ts"
        },
        {
          "name": "upsertSavedView",
          "kind": "function",
          "file": "apps/web/src/lib/tools/work-config.ts"
        },
        {
          "name": "upsertWorkScaffold",
          "kind": "function",
          "file": "apps/web/src/lib/tools/work-config.ts"
        }
      ],
      "dependencies": [
        "@/lib/db/schema",
        "@/lib/db",
        "@/lib/tools/seed",
        "@/lib/ai/embeddings",
        "@/lib/ai/context-cache",
        "@/lib/work/conversation-matching",
        "@/lib/db/tenancy-constants",
        "@/lib/enrichment",
        "@/lib/tools/work-config-seed",
        "@/lib/workspace-guards",
        "@/lib/fitness/planSchema"
      ],
      "externalServices": [
        "deepgram"
      ]
    },
    {
      "name": "fitness",
      "description": "9 files, 40 functions",
      "files": [
        "apps/web/src/lib/fitness/briefs.ts",
        "apps/web/src/lib/fitness/plan-generator.ts",
        "apps/web/src/lib/fitness/plan-parser.ts",
        "apps/web/src/lib/fitness/plan-storage.ts",
        "apps/web/src/lib/fitness/planSchema.ts",
        "apps/web/src/lib/fitness/readiness.ts",
        "apps/web/src/lib/fitness/rendering.ts",
        "apps/web/src/lib/fitness/schedule.ts",
        "apps/web/src/lib/fitness/workout-parser.ts"
      ],
      "exports": [
        {
          "name": "generateDayBriefMarkdown",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/briefs.ts"
        },
        {
          "name": "generateWeekBriefMarkdown",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/briefs.ts"
        },
        {
          "name": "generatePlan",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-generator.ts"
        },
        {
          "name": "adaptPlan",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-generator.ts"
        },
        {
          "name": "generateQuickPlan",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-generator.ts"
        },
        {
          "name": "parseDate",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "parseDateRange",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "parseFitnessPlan",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "findDayByDate",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "findDayByWeekAndDay",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "getDaysForWeek",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "getWeeksForPhase",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "getCurrentWeek",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "getCurrentPhase",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "getTodayWorkout",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "extractContentForDateRange",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "getPlanStats",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-parser.ts"
        },
        {
          "name": "getActivePlan",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-storage.ts"
        },
        {
          "name": "getAllPlans",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-storage.ts"
        },
        {
          "name": "createDraftPlan",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-storage.ts"
        },
        {
          "name": "activatePlan",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-storage.ts"
        },
        {
          "name": "updatePlanContent",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-storage.ts"
        },
        {
          "name": "recordExecutedWorkout",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-storage.ts"
        },
        {
          "name": "getExecutedWorkouts",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/plan-storage.ts"
        },
        {
          "name": "sessionToTemplateLike",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "inferPlanEndDate",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "resolveTemplates",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "materializeRange",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "resolveDay",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "resolveWeek",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "withDayOverride",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "withDayOverrideSessions",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "withBulkDayOverrides",
          "kind": "function",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "strengthExerciseSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "cardioBlockSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "intervalBlockSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "mobilityDrillSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "workoutBlockSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "sessionTemplateSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "scheduleItemSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "phaseSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "planRulesSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "calendarSessionSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "calendarSessionWithContentSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "calendarDaySchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "calendarSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "planOverrideSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "trainingPlanSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "DEFAULT_TRAINING_PLAN",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        },
        {
          "name": "EMPTY_TRAINING_PLAN",
          "kind": "constant",
          "file": "apps/web/src/lib/fitness/planSchema.ts"
        }
      ],
      "dependencies": [
        "@/lib/fitness/planSchema",
        "@/lib/ai/model-router",
        "@/lib/db/schema",
        "@/lib/fitness/briefs",
        "@/lib/ai/openai",
        "@/lib/env",
        "@/lib/fitness/readiness"
      ],
      "externalServices": []
    },
    {
      "name": "track-anything",
      "description": "8 files, 16 functions",
      "files": [
        "apps/web/src/lib/track-anything/chat-integration.ts",
        "apps/web/src/lib/track-anything/executor.ts",
        "apps/web/src/lib/track-anything/extract.ts",
        "apps/web/src/lib/track-anything/index.ts",
        "apps/web/src/lib/track-anything/router.ts",
        "apps/web/src/lib/track-anything/templates.ts",
        "apps/web/src/lib/track-anything/track-anything.test.ts",
        "apps/web/src/lib/track-anything/types.ts"
      ],
      "exports": [
        {
          "name": "shouldUseTrackAnything",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/chat-integration.ts"
        },
        {
          "name": "runTrackAnythingExtraction",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/chat-integration.ts"
        },
        {
          "name": "runHybridExtraction",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/chat-integration.ts"
        },
        {
          "name": "generateTrackAnythingResponse",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/chat-integration.ts"
        },
        {
          "name": "executeExtraction",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/executor.ts"
        },
        {
          "name": "executeIntent",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/executor.ts"
        },
        {
          "name": "extractUnified",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/extract.ts"
        },
        {
          "name": "shouldAutoApply",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/extract.ts"
        },
        {
          "name": "detectQuickIntent",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/extract.ts"
        },
        {
          "name": "buildExtractionContext",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/extract.ts"
        },
        {
          "name": "routeIntent",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/router.ts"
        },
        {
          "name": "routeExtraction",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/router.ts"
        },
        {
          "name": "executeWithRouting",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/router.ts"
        },
        {
          "name": "detectObservations",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/router.ts"
        },
        {
          "name": "findMatchingTemplate",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/templates.ts"
        },
        {
          "name": "getTemplateBySlug",
          "kind": "function",
          "file": "apps/web/src/lib/track-anything/templates.ts"
        },
        {
          "name": "COLLECTION_TEMPLATES",
          "kind": "constant",
          "file": "apps/web/src/lib/track-anything/templates.ts"
        },
        {
          "name": "collectionTemplateSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/track-anything/types.ts"
        },
        {
          "name": "extractionIntentSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/track-anything/types.ts"
        },
        {
          "name": "unifiedExtractionSchema",
          "kind": "constant",
          "file": "apps/web/src/lib/track-anything/types.ts"
        },
        {
          "name": "DEFAULT_AUTO_APPLY_RULES",
          "kind": "constant",
          "file": "apps/web/src/lib/track-anything/types.ts"
        }
      ],
      "dependencies": [
        "@/lib/enrichment",
        "@/lib/ai/openai",
        "@/lib/ai/router"
      ],
      "externalServices": [
        "openai"
      ]
    },
    {
      "name": "other",
      "description": "7 files, 14 functions",
      "files": [
        "apps/web/src/hooks/useGeolocation.ts",
        "apps/web/src/hooks/useKeyboardShortcuts.ts",
        "apps/web/src/hooks/useSidebarChat.tsx",
        "apps/web/src/hooks/useWorkEntities.ts",
        "apps/web/src/hooks/useWorkspaceId.ts",
        "apps/web/src/middleware.ts",
        "apps/web/src/scripts/migrate-relationships.ts"
      ],
      "exports": [
        {
          "name": "useGeolocation",
          "kind": "hook",
          "file": "apps/web/src/hooks/useGeolocation.ts"
        },
        {
          "name": "useKeyboardShortcuts",
          "kind": "hook",
          "file": "apps/web/src/hooks/useKeyboardShortcuts.ts"
        },
        {
          "name": "useGlobalShortcuts",
          "kind": "hook",
          "file": "apps/web/src/hooks/useKeyboardShortcuts.ts"
        },
        {
          "name": "formatShortcutKey",
          "kind": "function",
          "file": "apps/web/src/hooks/useKeyboardShortcuts.ts"
        },
        {
          "name": "SidebarChatProvider",
          "kind": "component",
          "file": "apps/web/src/hooks/useSidebarChat.tsx"
        },
        {
          "name": "useSidebarChat",
          "kind": "hook",
          "file": "apps/web/src/hooks/useSidebarChat.tsx"
        },
        {
          "name": "useEntityList",
          "kind": "hook",
          "file": "apps/web/src/hooks/useWorkEntities.ts"
        },
        {
          "name": "useEntity",
          "kind": "hook",
          "file": "apps/web/src/hooks/useWorkEntities.ts"
        },
        {
          "name": "useUpdateEntity",
          "kind": "hook",
          "file": "apps/web/src/hooks/useWorkEntities.ts"
        },
        {
          "name": "useTasks",
          "kind": "hook",
          "file": "apps/web/src/hooks/useWorkEntities.ts"
        },
        {
          "name": "useCompleteTask",
          "kind": "hook",
          "file": "apps/web/src/hooks/useWorkEntities.ts"
        },
        {
          "name": "usePrefetchEntityList",
          "kind": "hook",
          "file": "apps/web/src/hooks/useWorkEntities.ts"
        },
        {
          "name": "useInvalidateWorkQueries",
          "kind": "hook",
          "file": "apps/web/src/hooks/useWorkEntities.ts"
        },
        {
          "name": "useWorkspaceId",
          "kind": "hook",
          "file": "apps/web/src/hooks/useWorkspaceId.ts"
        },
        {
          "name": "middleware",
          "kind": "function",
          "file": "apps/web/src/middleware.ts"
        },
        {
          "name": "config",
          "kind": "constant",
          "file": "apps/web/src/middleware.ts"
        }
      ],
      "dependencies": [
        "@/lib/supabase/middleware",
        "@/lib/auth/admin",
        "@/lib/db/schema",
        "@/lib/work/resolve-relationships"
      ],
      "externalServices": [
        "openstreetmap.org"
      ]
    },
    {
      "name": "cron",
      "description": "7 files, 16 functions",
      "files": [
        "apps/web/src/lib/cron/agent-tasks.ts",
        "apps/web/src/lib/cron/fitness-schedule.ts",
        "apps/web/src/lib/cron/intelligence-maintenance.ts",
        "apps/web/src/lib/cron/knowledge-maintenance.ts",
        "apps/web/src/lib/cron/memory-extraction.ts",
        "apps/web/src/lib/cron/scheduler.ts",
        "apps/web/src/lib/cron/trends.ts"
      ],
      "exports": [
        {
          "name": "processAgentTasks",
          "kind": "function",
          "file": "apps/web/src/lib/cron/agent-tasks.ts"
        },
        {
          "name": "getAgentTaskSummary",
          "kind": "function",
          "file": "apps/web/src/lib/cron/agent-tasks.ts"
        },
        {
          "name": "processFitnessScheduleJobs",
          "kind": "function",
          "file": "apps/web/src/lib/cron/fitness-schedule.ts"
        },
        {
          "name": "refreshEntityScores",
          "kind": "function",
          "file": "apps/web/src/lib/cron/intelligence-maintenance.ts"
        },
        {
          "name": "generateProactiveSuggestions",
          "kind": "function",
          "file": "apps/web/src/lib/cron/intelligence-maintenance.ts"
        },
        {
          "name": "cleanupExpiredSuggestions",
          "kind": "function",
          "file": "apps/web/src/lib/cron/intelligence-maintenance.ts"
        },
        {
          "name": "runIntelligenceMaintenance",
          "kind": "function",
          "file": "apps/web/src/lib/cron/intelligence-maintenance.ts"
        },
        {
          "name": "runQuickIntelligenceMaintenance",
          "kind": "function",
          "file": "apps/web/src/lib/cron/intelligence-maintenance.ts"
        },
        {
          "name": "runKnowledgeMaintenance",
          "kind": "function",
          "file": "apps/web/src/lib/cron/knowledge-maintenance.ts"
        },
        {
          "name": "runQuickMaintenance",
          "kind": "function",
          "file": "apps/web/src/lib/cron/knowledge-maintenance.ts"
        },
        {
          "name": "updateRelevanceScores",
          "kind": "function",
          "file": "apps/web/src/lib/cron/knowledge-maintenance.ts"
        },
        {
          "name": "refreshPatterns",
          "kind": "function",
          "file": "apps/web/src/lib/cron/knowledge-maintenance.ts"
        },
        {
          "name": "resolveRelationships",
          "kind": "function",
          "file": "apps/web/src/lib/cron/knowledge-maintenance.ts"
        },
        {
          "name": "extractMemoryFromThreads",
          "kind": "function",
          "file": "apps/web/src/lib/cron/memory-extraction.ts"
        },
        {
          "name": "startCronJobs",
          "kind": "function",
          "file": "apps/web/src/lib/cron/scheduler.ts"
        },
        {
          "name": "updateTrends",
          "kind": "function",
          "file": "apps/web/src/lib/cron/trends.ts"
        }
      ],
      "dependencies": [
        "@/lib/db",
        "@/lib/db/schema",
        "@/lib/fitness/schedule",
        "@/lib/intelligence",
        "@/lib/db/tenancy-constants",
        "@/lib/knowledge",
        "@/lib/ai/memory-extractor",
        "@/lib/ai/trends"
      ],
      "externalServices": []
    },
    {
      "name": "integrations",
      "description": "6 files, 16 functions",
      "files": [
        "apps/web/src/lib/integrations/microsoft/auth.ts",
        "apps/web/src/lib/integrations/microsoft/calendar-sync.ts",
        "apps/web/src/lib/integrations/microsoft/email-classification.ts",
        "apps/web/src/lib/integrations/microsoft/email-sync.ts",
        "apps/web/src/lib/integrations/microsoft/graph-client.ts",
        "apps/web/src/lib/integrations/whoop.ts"
      ],
      "exports": [
        {
          "name": "getMicrosoftConfig",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/auth.ts"
        },
        {
          "name": "isConfigured",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/auth.ts"
        },
        {
          "name": "buildAuthUrl",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/auth.ts"
        },
        {
          "name": "exchangeCodeForTokens",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/auth.ts"
        },
        {
          "name": "refreshAccessToken",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/auth.ts"
        },
        {
          "name": "storeConnection",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/auth.ts"
        },
        {
          "name": "getValidAccessToken",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/auth.ts"
        },
        {
          "name": "syncCalendar",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/calendar-sync.ts"
        },
        {
          "name": "classifyEmail",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/email-classification.ts"
        },
        {
          "name": "syncEmails",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/email-sync.ts"
        },
        {
          "name": "graphGet",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/graph-client.ts"
        },
        {
          "name": "fetchCalendarEvents",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/graph-client.ts"
        },
        {
          "name": "fetchRecentEmails",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/microsoft/graph-client.ts"
        },
        {
          "name": "ingestWhoopData",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/whoop.ts"
        },
        {
          "name": "hasWhoopConfig",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/whoop.ts"
        },
        {
          "name": "initiateWhoopOAuth",
          "kind": "function",
          "file": "apps/web/src/lib/integrations/whoop.ts"
        }
      ],
      "dependencies": [
        "@/lib/env",
        "@/lib/db/schema",
        "@/lib/db"
      ],
      "externalServices": []
    },
    {
      "name": "registry",
      "description": "5 files, 25 functions",
      "files": [
        "apps/web/src/lib/registry/generators.ts",
        "apps/web/src/lib/registry/index.ts",
        "apps/web/src/lib/registry/introspection.ts",
        "apps/web/src/lib/registry/types.ts",
        "apps/web/src/lib/registry/work-registry.ts"
      ],
      "exports": [
        {
          "name": "generateEntityExtractionSchema",
          "kind": "function",
          "file": "apps/web/src/lib/registry/generators.ts"
        },
        {
          "name": "generateEventExtractionSchema",
          "kind": "function",
          "file": "apps/web/src/lib/registry/generators.ts"
        },
        {
          "name": "generateWorkExtractionSchema",
          "kind": "function",
          "file": "apps/web/src/lib/registry/generators.ts"
        },
        {
          "name": "generateSchemaManifest",
          "kind": "function",
          "file": "apps/web/src/lib/registry/generators.ts"
        },
        {
          "name": "generateExtractionPromptContext",
          "kind": "function",
          "file": "apps/web/src/lib/registry/generators.ts"
        },
        {
          "name": "generateToolParameterSchema",
          "kind": "function",
          "file": "apps/web/src/lib/registry/generators.ts"
        },
        {
          "name": "getEntityTypeKeys",
          "kind": "function",
          "file": "apps/web/src/lib/registry/generators.ts"
        },
        {
          "name": "getEventTypeKeys",
          "kind": "function",
          "file": "apps/web/src/lib/registry/generators.ts"
        },
        {
          "name": "listEntityTypes",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "getEntityType",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "listEventTypes",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "getEventType",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "listRelationships",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "getRelationshipsFor",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "listEnums",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "getEnum",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "searchFields",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "getSchemaOverview",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "introspectSchema",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "getIntrospectionToolDefinition",
          "kind": "function",
          "file": "apps/web/src/lib/registry/introspection.ts"
        },
        {
          "name": "getWorkRegistry",
          "kind": "function",
          "file": "apps/web/src/lib/registry/work-registry.ts"
        },
        {
          "name": "getExtractableEntityTypes",
          "kind": "function",
          "file": "apps/web/src/lib/registry/work-registry.ts"
        },
        {
          "name": "getExtractableFields",
          "kind": "function",
          "file": "apps/web/src/lib/registry/work-registry.ts"
        },
        {
          "name": "getEnumValues",
          "kind": "function",
          "file": "apps/web/src/lib/registry/work-registry.ts"
        },
        {
          "name": "normalizeEnumValue",
          "kind": "function",
          "file": "apps/web/src/lib/registry/work-registry.ts"
        },
        {
          "name": "workEnums",
          "kind": "constant",
          "file": "apps/web/src/lib/registry/work-registry.ts"
        },
        {
          "name": "workRegistry",
          "kind": "constant",
          "file": "apps/web/src/lib/registry/work-registry.ts"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "intelligence",
      "description": "4 files, 26 functions",
      "files": [
        "apps/web/src/lib/intelligence/index.ts",
        "apps/web/src/lib/intelligence/relationships.ts",
        "apps/web/src/lib/intelligence/scoring.ts",
        "apps/web/src/lib/intelligence/suggestions.ts"
      ],
      "exports": [
        {
          "name": "recordIntroduction",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "getIntroductionChain",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "getIntroductionsByIntroducer",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "createReferralObligation",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "getReferrerObligations",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "getReferrerSummary",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "recordReferralPayment",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "getReferrerPayments",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "getNetworkData",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "getFullNetworkData",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/relationships.ts"
        },
        {
          "name": "computeEntityScores",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/scoring.ts"
        },
        {
          "name": "refreshAllEntityScores",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/scoring.ts"
        },
        {
          "name": "updateEntityIntelligence",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/scoring.ts"
        },
        {
          "name": "setEntityTarget",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/scoring.ts"
        },
        {
          "name": "removeEntityTarget",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/scoring.ts"
        },
        {
          "name": "getTopPriorityEntities",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/scoring.ts"
        },
        {
          "name": "getEntitiesNeedingAttention",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/scoring.ts"
        },
        {
          "name": "getEntityIntelligence",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/scoring.ts"
        },
        {
          "name": "generateSuggestions",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/suggestions.ts"
        },
        {
          "name": "getActiveSuggestions",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/suggestions.ts"
        },
        {
          "name": "getSuggestionsWithEntities",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/suggestions.ts"
        },
        {
          "name": "dismissSuggestion",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/suggestions.ts"
        },
        {
          "name": "snoozeSuggestion",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/suggestions.ts"
        },
        {
          "name": "convertSuggestionToTask",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/suggestions.ts"
        },
        {
          "name": "expireOldSuggestions",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/suggestions.ts"
        },
        {
          "name": "getLocationSuggestions",
          "kind": "function",
          "file": "apps/web/src/lib/intelligence/suggestions.ts"
        }
      ],
      "dependencies": [
        "@/lib/db",
        "@/lib/db/schema"
      ],
      "externalServices": []
    },
    {
      "name": "notifications",
      "description": "4 files, 10 functions",
      "files": [
        "apps/web/src/lib/notifications/client.ts",
        "apps/web/src/lib/notifications/push-sender.ts",
        "apps/web/src/lib/notifications/rules.ts",
        "apps/web/src/lib/notifications/subscription-manager.ts"
      ],
      "exports": [
        {
          "name": "getPushStatus",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/client.ts"
        },
        {
          "name": "subscribeToPush",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/client.ts"
        },
        {
          "name": "unsubscribeFromPush",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/client.ts"
        },
        {
          "name": "sendPush",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/push-sender.ts"
        },
        {
          "name": "sendPushToAll",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/push-sender.ts"
        },
        {
          "name": "evaluateNotificationRules",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/rules.ts"
        },
        {
          "name": "upsertSubscription",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/subscription-manager.ts"
        },
        {
          "name": "removeSubscription",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/subscription-manager.ts"
        },
        {
          "name": "getWorkspaceSubscriptions",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/subscription-manager.ts"
        },
        {
          "name": "removeExpiredSubscriptions",
          "kind": "function",
          "file": "apps/web/src/lib/notifications/subscription-manager.ts"
        }
      ],
      "dependencies": [
        "@/lib/env",
        "@/lib/db/schema"
      ],
      "externalServices": []
    },
    {
      "name": "supabase",
      "description": "4 files, 5 functions",
      "files": [
        "apps/web/src/lib/supabase/client.ts",
        "apps/web/src/lib/supabase/middleware.ts",
        "apps/web/src/lib/supabase/server.ts",
        "apps/web/src/lib/supabase/upload-client.ts"
      ],
      "exports": [
        {
          "name": "createSupabaseBrowserClient",
          "kind": "function",
          "file": "apps/web/src/lib/supabase/client.ts"
        },
        {
          "name": "createSupabaseMiddlewareClient",
          "kind": "function",
          "file": "apps/web/src/lib/supabase/middleware.ts"
        },
        {
          "name": "createSupabaseServerClient",
          "kind": "function",
          "file": "apps/web/src/lib/supabase/server.ts"
        },
        {
          "name": "getSupabaseUserId",
          "kind": "function",
          "file": "apps/web/src/lib/supabase/server.ts"
        },
        {
          "name": "uploadArtifactFromBrowser",
          "kind": "function",
          "file": "apps/web/src/lib/supabase/upload-client.ts"
        }
      ],
      "dependencies": [
        "@/lib/env"
      ],
      "externalServices": []
    },
    {
      "name": "daily-brief",
      "description": "3 files, 1 functions",
      "files": [
        "apps/web/src/lib/daily-brief/data.ts",
        "apps/web/src/lib/daily-brief/index.ts",
        "apps/web/src/lib/daily-brief/types.ts"
      ],
      "exports": [
        {
          "name": "buildDailyBrief",
          "kind": "function",
          "file": "apps/web/src/lib/daily-brief/data.ts"
        },
        {
          "name": "DEFAULT_DAILY_BRIEF_CONFIG",
          "kind": "constant",
          "file": "apps/web/src/lib/daily-brief/types.ts"
        }
      ],
      "dependencies": [
        "@/lib/db/schema"
      ],
      "externalServices": []
    },
    {
      "name": "enrichment",
      "description": "3 files, 4 functions",
      "files": [
        "apps/web/src/lib/enrichment/books.ts",
        "apps/web/src/lib/enrichment/index.ts",
        "apps/web/src/lib/enrichment/places.ts"
      ],
      "exports": [
        {
          "name": "enrichBookMetadata",
          "kind": "function",
          "file": "apps/web/src/lib/enrichment/books.ts"
        },
        {
          "name": "enrichMetadata",
          "kind": "function",
          "file": "apps/web/src/lib/enrichment/index.ts"
        },
        {
          "name": "inferEnrichmentKindFromCollection",
          "kind": "function",
          "file": "apps/web/src/lib/enrichment/index.ts"
        },
        {
          "name": "enrichPlaceMetadata",
          "kind": "function",
          "file": "apps/web/src/lib/enrichment/places.ts"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "graph",
      "description": "2 files, 18 functions",
      "files": [
        "apps/web/src/lib/graph/index.ts",
        "apps/web/src/lib/graph/neo4j.ts"
      ],
      "exports": [
        {
          "name": "isNeo4jConfigured",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "getDriver",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "getSession",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "closeDriver",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "checkHealth",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "runQuery",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "runWriteTransaction",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "initializeSchema",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "upsertEntity",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "upsertEntities",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "upsertRelationship",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "upsertRelationships",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "getConnectedEntities",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "findShortestPath",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "getMostConnected",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "getNetworkAround",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "clearAllData",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        },
        {
          "name": "getSyncStatus",
          "kind": "function",
          "file": "apps/web/src/lib/graph/neo4j.ts"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "monitoring",
      "description": "2 files, 6 functions",
      "files": [
        "apps/web/src/lib/monitoring/helicone-api.ts",
        "apps/web/src/lib/monitoring/sentry-api.ts"
      ],
      "exports": [
        {
          "name": "queryHeliconeRequests",
          "kind": "function",
          "file": "apps/web/src/lib/monitoring/helicone-api.ts"
        },
        {
          "name": "getHeliconeCostStats",
          "kind": "function",
          "file": "apps/web/src/lib/monitoring/helicone-api.ts"
        },
        {
          "name": "isHeliconeConfigured",
          "kind": "function",
          "file": "apps/web/src/lib/monitoring/helicone-api.ts"
        },
        {
          "name": "getSentryIssues",
          "kind": "function",
          "file": "apps/web/src/lib/monitoring/sentry-api.ts"
        },
        {
          "name": "getSentryStats",
          "kind": "function",
          "file": "apps/web/src/lib/monitoring/sentry-api.ts"
        },
        {
          "name": "isSentryConfigured",
          "kind": "function",
          "file": "apps/web/src/lib/monitoring/sentry-api.ts"
        }
      ],
      "dependencies": [],
      "externalServices": [
        "helicone",
        "sentry"
      ]
    },
    {
      "name": "AIModelSelector.tsx",
      "description": "1 files, 1 functions",
      "files": [
        "apps/web/src/components/AIModelSelector.tsx"
      ],
      "exports": [
        {
          "name": "AIModelSelector",
          "kind": "component",
          "file": "apps/web/src/components/AIModelSelector.tsx"
        },
        {
          "name": "getSavedProviderPreference",
          "kind": "function",
          "file": "apps/web/src/components/AIModelSelector.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/select",
        "@/components/ui/label",
        "@/components/ui/badge"
      ],
      "externalServices": []
    },
    {
      "name": "ApprovalRequest.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/ApprovalRequest.tsx"
      ],
      "exports": [
        {
          "name": "ApprovalRequest",
          "kind": "component",
          "file": "apps/web/src/components/ApprovalRequest.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/components/ui/switch",
        "@/lib/utils"
      ],
      "externalServices": []
    },
    {
      "name": "CalendarClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/CalendarClient.tsx"
      ],
      "exports": [
        {
          "name": "CalendarClient",
          "kind": "component",
          "file": "apps/web/src/components/CalendarClient.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "ChatCapture.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/ChatCapture.tsx"
      ],
      "exports": [
        {
          "name": "ChatCapture",
          "kind": "component",
          "file": "apps/web/src/components/ChatCapture.tsx"
        }
      ],
      "dependencies": [
        "@/components/ChatInput",
        "@/components/ChatMessage",
        "@/components/EntityClarification",
        "@/components/ApprovalRequest",
        "@/lib/ai/approval",
        "@/components/work/CaptureReviewCard",
        "@/components/work/SessionActivityTray",
        "@/components/AIModelSelector"
      ],
      "externalServices": []
    },
    {
      "name": "ChatInput.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/ChatInput.tsx"
      ],
      "exports": [
        {
          "name": "ChatInput",
          "kind": "component",
          "file": "apps/web/src/components/ChatInput.tsx"
        }
      ],
      "dependencies": [
        "@/hooks/useGeolocation",
        "@/hooks/useWorkspaceId",
        "@/components/ui/button",
        "@/components/ui/dropdown-menu",
        "@/components/InlineVoiceRecorder",
        "@/lib/utils",
        "@/lib/supabase/upload-client"
      ],
      "externalServices": []
    },
    {
      "name": "ChatMessage.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/ChatMessage.tsx"
      ],
      "exports": [
        {
          "name": "ChatMessage",
          "kind": "component",
          "file": "apps/web/src/components/ChatMessage.tsx"
        }
      ],
      "dependencies": [
        "@/lib/utils",
        "@/components/work/QueryResultsCard",
        "@/lib/design-tokens"
      ],
      "externalServices": []
    },
    {
      "name": "collections",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/collections/CollectionItemsClient.tsx"
      ],
      "exports": [
        {
          "name": "CollectionItemsClient",
          "kind": "component",
          "file": "apps/web/src/components/collections/CollectionItemsClient.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/components/ui/input",
        "@/lib/utils"
      ],
      "externalServices": []
    },
    {
      "name": "EntityClarification.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/EntityClarification.tsx"
      ],
      "exports": [
        {
          "name": "EntityClarification",
          "kind": "component",
          "file": "apps/web/src/components/EntityClarification.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "GestureNavigation.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/GestureNavigation.tsx"
      ],
      "exports": [
        {
          "name": "GestureNavigation",
          "kind": "component",
          "file": "apps/web/src/components/GestureNavigation.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "GoalsClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/GoalsClient.tsx"
      ],
      "exports": [
        {
          "name": "GoalsClient",
          "kind": "component",
          "file": "apps/web/src/components/GoalsClient.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "HabitsClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/HabitsClient.tsx"
      ],
      "exports": [
        {
          "name": "HabitsClient",
          "kind": "component",
          "file": "apps/web/src/components/HabitsClient.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "InboxClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/InboxClient.tsx"
      ],
      "exports": [
        {
          "name": "InboxClient",
          "kind": "component",
          "file": "apps/web/src/components/InboxClient.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button"
      ],
      "externalServices": []
    },
    {
      "name": "InlineVoiceRecorder.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/InlineVoiceRecorder.tsx"
      ],
      "exports": [
        {
          "name": "InlineVoiceRecorder",
          "kind": "component",
          "file": "apps/web/src/components/InlineVoiceRecorder.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/lib/utils",
        "@/lib/ai/deepgram-streaming"
      ],
      "externalServices": [
        "deepgram"
      ]
    },
    {
      "name": "KeyboardShortcuts.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/KeyboardShortcuts.tsx"
      ],
      "exports": [
        {
          "name": "KeyboardShortcutsModal",
          "kind": "component",
          "file": "apps/web/src/components/KeyboardShortcuts.tsx"
        },
        {
          "name": "KeyboardShortcutsProvider",
          "kind": "component",
          "file": "apps/web/src/components/KeyboardShortcuts.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/hooks/useKeyboardShortcuts"
      ],
      "externalServices": []
    },
    {
      "name": "KnowledgeClarification.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/KnowledgeClarification.tsx"
      ],
      "exports": [
        {
          "name": "KnowledgeClarification",
          "kind": "component",
          "file": "apps/web/src/components/KnowledgeClarification.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/lib/utils"
      ],
      "externalServices": []
    },
    {
      "name": "LayoutContent.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/LayoutContent.tsx"
      ],
      "exports": [
        {
          "name": "LayoutContent",
          "kind": "component",
          "file": "apps/web/src/components/LayoutContent.tsx"
        }
      ],
      "dependencies": [
        "@/hooks/useSidebarChat",
        "@/lib/utils",
        "@/components/GestureNavigation",
        "@/components/PageTransition"
      ],
      "externalServices": []
    },
    {
      "name": "MarkdownCard.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/MarkdownCard.tsx"
      ],
      "exports": [
        {
          "name": "MarkdownCard",
          "kind": "component",
          "file": "apps/web/src/components/MarkdownCard.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "PageTransition.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/PageTransition.tsx"
      ],
      "exports": [
        {
          "name": "PageTransition",
          "kind": "component",
          "file": "apps/web/src/components/PageTransition.tsx"
        },
        {
          "name": "FadeIn",
          "kind": "component",
          "file": "apps/web/src/components/PageTransition.tsx"
        },
        {
          "name": "StaggeredList",
          "kind": "component",
          "file": "apps/web/src/components/PageTransition.tsx"
        }
      ],
      "dependencies": [
        "@/lib/utils"
      ],
      "externalServices": []
    },
    {
      "name": "PatternNotifications.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/PatternNotifications.tsx"
      ],
      "exports": [
        {
          "name": "PatternNotifications",
          "kind": "component",
          "file": "apps/web/src/components/PatternNotifications.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/components/ui/dropdown-menu",
        "@/lib/utils"
      ],
      "externalServices": []
    },
    {
      "name": "PlanEditorClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/PlanEditorClient.tsx"
      ],
      "exports": [
        {
          "name": "PlanEditorClient",
          "kind": "component",
          "file": "apps/web/src/components/PlanEditorClient.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "ProfileClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/ProfileClient.tsx"
      ],
      "exports": [
        {
          "name": "ProfileClient",
          "kind": "component",
          "file": "apps/web/src/components/ProfileClient.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/components/ui/card",
        "@/components/ui/textarea",
        "@/components/ui/input",
        "@/components/ui/label",
        "@/hooks/useSidebarChat"
      ],
      "externalServices": []
    },
    {
      "name": "PWARegistration.tsx",
      "description": "1 files, 1 functions",
      "files": [
        "apps/web/src/components/PWARegistration.tsx"
      ],
      "exports": [
        {
          "name": "PWARegistration",
          "kind": "component",
          "file": "apps/web/src/components/PWARegistration.tsx"
        },
        {
          "name": "useIsPWA",
          "kind": "hook",
          "file": "apps/web/src/components/PWARegistration.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button"
      ],
      "externalServices": []
    },
    {
      "name": "QueryProvider.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/QueryProvider.tsx"
      ],
      "exports": [
        {
          "name": "QueryProvider",
          "kind": "component",
          "file": "apps/web/src/components/QueryProvider.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "ReflectionsClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/ReflectionsClient.tsx"
      ],
      "exports": [
        {
          "name": "ReflectionsClient",
          "kind": "component",
          "file": "apps/web/src/components/ReflectionsClient.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "SearchClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/SearchClient.tsx"
      ],
      "exports": [
        {
          "name": "SearchClient",
          "kind": "component",
          "file": "apps/web/src/components/SearchClient.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "SearchFilters.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/SearchFilters.tsx"
      ],
      "exports": [
        {
          "name": "SearchFilters",
          "kind": "component",
          "file": "apps/web/src/components/SearchFilters.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "SettingsClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/SettingsClient.tsx"
      ],
      "exports": [
        {
          "name": "SettingsClient",
          "kind": "component",
          "file": "apps/web/src/components/SettingsClient.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button"
      ],
      "externalServices": [
        "deepgram"
      ]
    },
    {
      "name": "Sidebar.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/Sidebar.tsx"
      ],
      "exports": [
        {
          "name": "Sidebar",
          "kind": "component",
          "file": "apps/web/src/components/Sidebar.tsx"
        }
      ],
      "dependencies": [
        "@/lib/utils",
        "@/components/WorkspaceSwitcher",
        "@/hooks/useSidebarChat",
        "@/components/work/GlobalSearch",
        "@/components/work/KeyboardShortcuts",
        "@/components/ThemeToggle"
      ],
      "externalServices": []
    },
    {
      "name": "SidebarChat.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/SidebarChat.tsx"
      ],
      "exports": [
        {
          "name": "SidebarChat",
          "kind": "component",
          "file": "apps/web/src/components/SidebarChat.tsx"
        }
      ],
      "dependencies": [
        "@/lib/utils"
      ],
      "externalServices": []
    },
    {
      "name": "SidebarChatAutoOpen.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/SidebarChatAutoOpen.tsx"
      ],
      "exports": [
        {
          "name": "SidebarChatAutoOpen",
          "kind": "component",
          "file": "apps/web/src/components/SidebarChatAutoOpen.tsx"
        }
      ],
      "dependencies": [
        "@/hooks/useSidebarChat"
      ],
      "externalServices": []
    },
    {
      "name": "SidebarChatContainer.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/SidebarChatContainer.tsx"
      ],
      "exports": [
        {
          "name": "SidebarChatContainer",
          "kind": "component",
          "file": "apps/web/src/components/SidebarChatContainer.tsx"
        }
      ],
      "dependencies": [
        "@/hooks/useSidebarChat"
      ],
      "externalServices": []
    },
    {
      "name": "STTMetricsClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/STTMetricsClient.tsx"
      ],
      "exports": [
        {
          "name": "STTMetricsClient",
          "kind": "component",
          "file": "apps/web/src/components/STTMetricsClient.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button"
      ],
      "externalServices": []
    },
    {
      "name": "ThemeProvider.tsx",
      "description": "1 files, 1 functions",
      "files": [
        "apps/web/src/components/ThemeProvider.tsx"
      ],
      "exports": [
        {
          "name": "ThemeProvider",
          "kind": "component",
          "file": "apps/web/src/components/ThemeProvider.tsx"
        },
        {
          "name": "useTheme",
          "kind": "hook",
          "file": "apps/web/src/components/ThemeProvider.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "ThemeToggle.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/ThemeToggle.tsx"
      ],
      "exports": [
        {
          "name": "ThemeToggle",
          "kind": "component",
          "file": "apps/web/src/components/ThemeToggle.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/components/ui/dropdown-menu",
        "@/components/ThemeProvider"
      ],
      "externalServices": []
    },
    {
      "name": "TimelineClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/TimelineClient.tsx"
      ],
      "exports": [
        {
          "name": "TimelineClient",
          "kind": "component",
          "file": "apps/web/src/components/TimelineClient.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "TimelineFilters.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/TimelineFilters.tsx"
      ],
      "exports": [
        {
          "name": "TimelineFilters",
          "kind": "component",
          "file": "apps/web/src/components/TimelineFilters.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "VoiceRecorder.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/VoiceRecorder.tsx"
      ],
      "exports": [
        {
          "name": "VoiceRecorder",
          "kind": "component",
          "file": "apps/web/src/components/VoiceRecorder.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/lib/utils"
      ],
      "externalServices": []
    },
    {
      "name": "WorkActivityClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/WorkActivityClient.tsx"
      ],
      "exports": [
        {
          "name": "WorkActivityClient",
          "kind": "component",
          "file": "apps/web/src/components/WorkActivityClient.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/components/ui/card",
        "@/components/ui/input",
        "@/components/ui/label",
        "@/components/ui/textarea"
      ],
      "externalServices": []
    },
    {
      "name": "WorkEntitiesClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/WorkEntitiesClient.tsx"
      ],
      "exports": [
        {
          "name": "WorkEntitiesClient",
          "kind": "component",
          "file": "apps/web/src/components/WorkEntitiesClient.tsx"
        }
      ],
      "dependencies": [
        "@/components/ui/button",
        "@/components/ui/badge",
        "@/components/ui/card",
        "@/components/ui/input",
        "@/components/ui/dropdown-menu",
        "@/components/work/InlineSelectField",
        "@/components/work/InlineDateField",
        "@/components/work/InlineEditableField",
        "@/components/work/knowledge"
      ],
      "externalServices": []
    },
    {
      "name": "WorkoutLoggerClient.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/WorkoutLoggerClient.tsx"
      ],
      "exports": [
        {
          "name": "WorkoutLoggerClient",
          "kind": "component",
          "file": "apps/web/src/components/WorkoutLoggerClient.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "WorkspaceIndicator.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/WorkspaceIndicator.tsx"
      ],
      "exports": [
        {
          "name": "WorkspaceIndicator",
          "kind": "component",
          "file": "apps/web/src/components/WorkspaceIndicator.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "WorkspaceSwitcher.tsx",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/components/WorkspaceSwitcher.tsx"
      ],
      "exports": [
        {
          "name": "WorkspaceSwitcher",
          "kind": "component",
          "file": "apps/web/src/components/WorkspaceSwitcher.tsx"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "auth",
      "description": "1 files, 3 functions",
      "files": [
        "apps/web/src/lib/auth/admin.ts"
      ],
      "exports": [
        {
          "name": "getAdminLoginPath",
          "kind": "function",
          "file": "apps/web/src/lib/auth/admin.ts"
        },
        {
          "name": "getAdminUserIdAllowlist",
          "kind": "function",
          "file": "apps/web/src/lib/auth/admin.ts"
        },
        {
          "name": "isAdminUserId",
          "kind": "function",
          "file": "apps/web/src/lib/auth/admin.ts"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "design-tokens.ts",
      "description": "1 files, 3 functions",
      "files": [
        "apps/web/src/lib/design-tokens.ts"
      ],
      "exports": [
        {
          "name": "getConfidenceStatus",
          "kind": "function",
          "file": "apps/web/src/lib/design-tokens.ts"
        },
        {
          "name": "getTaskStatus",
          "kind": "function",
          "file": "apps/web/src/lib/design-tokens.ts"
        },
        {
          "name": "getDealStageStatus",
          "kind": "function",
          "file": "apps/web/src/lib/design-tokens.ts"
        },
        {
          "name": "entityTypeConfig",
          "kind": "constant",
          "file": "apps/web/src/lib/design-tokens.ts"
        },
        {
          "name": "eventTypeConfig",
          "kind": "constant",
          "file": "apps/web/src/lib/design-tokens.ts"
        },
        {
          "name": "statusConfig",
          "kind": "constant",
          "file": "apps/web/src/lib/design-tokens.ts"
        },
        {
          "name": "priorityConfig",
          "kind": "constant",
          "file": "apps/web/src/lib/design-tokens.ts"
        },
        {
          "name": "actionConfig",
          "kind": "constant",
          "file": "apps/web/src/lib/design-tokens.ts"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "env.ts",
      "description": "1 files, 0 functions",
      "files": [
        "apps/web/src/lib/env.ts"
      ],
      "exports": [
        {
          "name": "env",
          "kind": "constant",
          "file": "apps/web/src/lib/env.ts"
        }
      ],
      "dependencies": [],
      "externalServices": [
        "helicone",
        "deepgram"
      ]
    },
    {
      "name": "offline",
      "description": "1 files, 3 functions",
      "files": [
        "apps/web/src/lib/offline/queue.ts"
      ],
      "exports": [
        {
          "name": "queueOfflineCapture",
          "kind": "function",
          "file": "apps/web/src/lib/offline/queue.ts"
        },
        {
          "name": "getQueueSize",
          "kind": "function",
          "file": "apps/web/src/lib/offline/queue.ts"
        },
        {
          "name": "useOnlineStatus",
          "kind": "hook",
          "file": "apps/web/src/lib/offline/queue.ts"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "storage",
      "description": "1 files, 5 functions",
      "files": [
        "apps/web/src/lib/storage/documents.ts"
      ],
      "exports": [
        {
          "name": "uploadDocument",
          "kind": "function",
          "file": "apps/web/src/lib/storage/documents.ts"
        },
        {
          "name": "downloadDocument",
          "kind": "function",
          "file": "apps/web/src/lib/storage/documents.ts"
        },
        {
          "name": "getDocumentSignedUrl",
          "kind": "function",
          "file": "apps/web/src/lib/storage/documents.ts"
        },
        {
          "name": "deleteDocument",
          "kind": "function",
          "file": "apps/web/src/lib/storage/documents.ts"
        },
        {
          "name": "listDocuments",
          "kind": "function",
          "file": "apps/web/src/lib/storage/documents.ts"
        }
      ],
      "dependencies": [
        "@/lib/supabase/server"
      ],
      "externalServices": []
    },
    {
      "name": "tenancy",
      "description": "1 files, 3 functions",
      "files": [
        "apps/web/src/lib/tenancy/roles.ts"
      ],
      "exports": [
        {
          "name": "roleRank",
          "kind": "function",
          "file": "apps/web/src/lib/tenancy/roles.ts"
        },
        {
          "name": "hasMinRole",
          "kind": "function",
          "file": "apps/web/src/lib/tenancy/roles.ts"
        },
        {
          "name": "getActiveWorkspaceRole",
          "kind": "function",
          "file": "apps/web/src/lib/tenancy/roles.ts"
        }
      ],
      "dependencies": [
        "@/lib/db/schema"
      ],
      "externalServices": []
    },
    {
      "name": "utils",
      "description": "1 files, 2 functions",
      "files": [
        "apps/web/src/lib/utils/1rm.ts"
      ],
      "exports": [
        {
          "name": "calculate1RM",
          "kind": "function",
          "file": "apps/web/src/lib/utils/1rm.ts"
        },
        {
          "name": "calculate1RMAverage",
          "kind": "function",
          "file": "apps/web/src/lib/utils/1rm.ts"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "utils.ts",
      "description": "1 files, 1 functions",
      "files": [
        "apps/web/src/lib/utils.ts"
      ],
      "exports": [
        {
          "name": "cn",
          "kind": "function",
          "file": "apps/web/src/lib/utils.ts"
        }
      ],
      "dependencies": [],
      "externalServices": []
    },
    {
      "name": "workspace-guards.ts",
      "description": "1 files, 9 functions",
      "files": [
        "apps/web/src/lib/workspace-guards.ts"
      ],
      "exports": [
        {
          "name": "withActiveWorkspaceDbReadOnly",
          "kind": "function",
          "file": "apps/web/src/lib/workspace-guards.ts"
        },
        {
          "name": "withActiveWorkspaceDb",
          "kind": "function",
          "file": "apps/web/src/lib/workspace-guards.ts"
        },
        {
          "name": "isUnauthenticatedError",
          "kind": "function",
          "file": "apps/web/src/lib/workspace-guards.ts"
        },
        {
          "name": "getActiveWorkspaceDbSessionClient",
          "kind": "function",
          "file": "apps/web/src/lib/workspace-guards.ts"
        },
        {
          "name": "getActiveWorkspaceMeta",
          "kind": "function",
          "file": "apps/web/src/lib/workspace-guards.ts"
        },
        {
          "name": "isWorkLikeWorkspaceKind",
          "kind": "function",
          "file": "apps/web/src/lib/workspace-guards.ts"
        },
        {
          "name": "roleRank",
          "kind": "function",
          "file": "apps/web/src/lib/workspace-guards.ts"
        },
        {
          "name": "hasMinRole",
          "kind": "function",
          "file": "apps/web/src/lib/workspace-guards.ts"
        },
        {
          "name": "getActiveWorkspaceRole",
          "kind": "function",
          "file": "apps/web/src/lib/workspace-guards.ts"
        }
      ],
      "dependencies": [
        "@/lib/db",
        "@/lib/supabase/server",
        "@/lib/db/schema",
        "@/lib/workspace",
        "@/lib/env"
      ],
      "externalServices": []
    },
    {
      "name": "workspace.ts",
      "description": "1 files, 4 functions",
      "files": [
        "apps/web/src/lib/workspace.ts"
      ],
      "exports": [
        {
          "name": "getWorkspaceFromCookies",
          "kind": "function",
          "file": "apps/web/src/lib/workspace.ts"
        },
        {
          "name": "parseWorkspace",
          "kind": "function",
          "file": "apps/web/src/lib/workspace.ts"
        },
        {
          "name": "getWorkspaceIdFromCookies",
          "kind": "function",
          "file": "apps/web/src/lib/workspace.ts"
        },
        {
          "name": "getWorkspaceContextFromCookies",
          "kind": "function",
          "file": "apps/web/src/lib/workspace.ts"
        },
        {
          "name": "workspaceCookie",
          "kind": "constant",
          "file": "apps/web/src/lib/workspace.ts"
        },
        {
          "name": "workspaceIdCookie",
          "kind": "constant",
          "file": "apps/web/src/lib/workspace.ts"
        }
      ],
      "dependencies": [
        "@/lib/db/tenancy-constants"
      ],
      "externalServices": []
    }
  ],
  "external_services": [
    {
      "name": "openai",
      "usage_count": 29,
      "files": [
        "apps/web/src/app/api/profile/init-turn/route.ts",
        "apps/web/src/app/api/profile/process-initialization/route.ts",
        "apps/web/src/app/api/stt/route.ts",
        "apps/web/src/lib/ai/chat/collections-drafting.ts",
        "apps/web/src/lib/ai/chat/merge-intent.ts",
        "apps/web/src/lib/ai/digest-attachments.ts",
        "apps/web/src/lib/ai/embeddings.ts",
        "apps/web/src/lib/ai/emotion-extraction.ts",
        "apps/web/src/lib/ai/enterprise-context.ts",
        "apps/web/src/lib/ai/entity-resolver.ts",
        "apps/web/src/lib/ai/extract.ts",
        "apps/web/src/lib/ai/extraction/mention-detection.ts",
        "apps/web/src/lib/ai/extraction/multi-target-extract.ts",
        "apps/web/src/lib/ai/extraction/task-completion.ts",
        "apps/web/src/lib/ai/goals-extraction.ts",
        "apps/web/src/lib/ai/initialization-completion.ts",
        "apps/web/src/lib/ai/insights.ts",
        "apps/web/src/lib/ai/major-updates-detector.ts",
        "apps/web/src/lib/ai/memory-extractor.ts",
        "apps/web/src/lib/ai/model-router.ts",
        "apps/web/src/lib/ai/openai.ts",
        "apps/web/src/lib/ai/task-classifier.ts",
        "apps/web/src/lib/ai/thread-markers.ts",
        "apps/web/src/lib/ai/thread-router.ts",
        "apps/web/src/lib/ai/unified-streaming.ts",
        "apps/web/src/lib/track-anything/extract.ts",
        "apps/web/src/lib/work/extract-work.ts",
        "apps/web/src/lib/work/insights/nl-to-query.ts",
        "apps/web/src/lib/work/query-intelligence.ts"
      ]
    },
    {
      "name": "helicone",
      "usage_count": 15,
      "files": [
        "apps/web/src/app/admin/monitoring/page.tsx",
        "apps/web/src/lib/ai/anthropic.ts",
        "apps/web/src/lib/ai/digest-attachments.ts",
        "apps/web/src/lib/ai/entity-resolver.ts",
        "apps/web/src/lib/ai/extraction/mention-detection.ts",
        "apps/web/src/lib/ai/extraction/multi-target-extract.ts",
        "apps/web/src/lib/ai/extraction/task-completion.ts",
        "apps/web/src/lib/ai/model-router.ts",
        "apps/web/src/lib/ai/openai.ts",
        "apps/web/src/lib/ai/unified-streaming.ts",
        "apps/web/src/lib/env.ts",
        "apps/web/src/lib/monitoring/helicone-api.ts",
        "apps/web/src/lib/work/extract-work.ts",
        "apps/web/src/lib/work/insights/nl-to-query.ts",
        "apps/web/src/lib/work/query-intelligence.ts"
      ]
    },
    {
      "name": "deepgram",
      "usage_count": 12,
      "files": [
        "apps/web/src/app/admin/monitoring/page.tsx",
        "apps/web/src/app/api/settings/route.ts",
        "apps/web/src/app/api/stt/deepgram-key/route.ts",
        "apps/web/src/app/api/stt/keywords/route.ts",
        "apps/web/src/app/api/stt/route.ts",
        "apps/web/src/app/work/settings/WorkSettingsClient.tsx",
        "apps/web/src/components/InlineVoiceRecorder.tsx",
        "apps/web/src/components/SettingsClient.tsx",
        "apps/web/src/lib/ai/cost-tracking.ts",
        "apps/web/src/lib/ai/deepgram-streaming.ts",
        "apps/web/src/lib/env.ts",
        "apps/web/src/lib/tools/user-settings.ts"
      ]
    },
    {
      "name": "sentry",
      "usage_count": 2,
      "files": [
        "apps/web/src/app/global-error.tsx",
        "apps/web/src/lib/monitoring/sentry-api.ts"
      ]
    },
    {
      "name": "anthropic",
      "usage_count": 2,
      "files": [
        "apps/web/src/lib/ai/model-router.ts",
        "apps/web/src/lib/ai/unified-streaming.ts"
      ]
    },
    {
      "name": "openstreetmap.org",
      "usage_count": 1,
      "files": [
        "apps/web/src/hooks/useGeolocation.ts"
      ]
    }
  ],
  "dependency_edges": [
    {
      "from": "apps/web/src/app/admin/traces/page.tsx",
      "to": "apps/web/src/app/admin/traces/trace-list.tsx",
      "imports": [
        "TraceList"
      ]
    },
    {
      "from": "apps/web/src/app/admin/traces/trace-list.tsx",
      "to": "apps/web/src/app/admin/traces/actions.ts",
      "imports": [
        "getTraceCalls"
      ]
    },
    {
      "from": "apps/web/src/app/login/page.tsx",
      "to": "apps/web/src/app/login/login-client.tsx",
      "imports": [
        "LoginClient"
      ]
    },
    {
      "from": "apps/web/src/app/onboarding/page.tsx",
      "to": "apps/web/src/app/onboarding/ui.tsx",
      "imports": [
        "OnboardingClient"
      ]
    },
    {
      "from": "apps/web/src/app/pillar/health/page.tsx",
      "to": "apps/web/src/app/pillar/health/HealthDashboardClient.tsx",
      "imports": [
        "HealthDashboardClient"
      ]
    },
    {
      "from": "apps/web/src/app/pillar/wealth/page.tsx",
      "to": "apps/web/src/app/pillar/wealth/WealthDashboardClient.tsx",
      "imports": [
        "WealthDashboardClient"
      ]
    },
    {
      "from": "apps/web/src/app/work/dashboard/page.tsx",
      "to": "apps/web/src/app/work/dashboard/PriorityDashboardClient.tsx",
      "imports": [
        "PriorityDashboardClient"
      ]
    },
    {
      "from": "apps/web/src/app/work/deals/page.tsx",
      "to": "apps/web/src/app/work/_components/WorkEntityPillarPage.tsx",
      "imports": [
        "WorkEntityPillarPage"
      ]
    },
    {
      "from": "apps/web/src/app/work/duplicates/page.tsx",
      "to": "apps/web/src/app/work/duplicates/DuplicatesClient.tsx",
      "imports": [
        "DuplicatesClient"
      ]
    },
    {
      "from": "apps/web/src/app/work/network/page.tsx",
      "to": "apps/web/src/app/work/network/NetworkClient.tsx",
      "imports": [
        "NetworkClient"
      ]
    },
    {
      "from": "apps/web/src/app/work/settings/page.tsx",
      "to": "apps/web/src/app/work/settings/WorkSettingsClient.tsx",
      "imports": [
        "WorkSettingsClient"
      ]
    },
    {
      "from": "apps/web/src/app/workspaces/page.tsx",
      "to": "apps/web/src/app/workspaces/workspace-picker-client.tsx",
      "imports": [
        "WorkspacePickerClient"
      ]
    },
    {
      "from": "apps/web/src/components/intelligence/ContextualSuggestions.tsx",
      "to": "apps/web/src/components/intelligence/SuggestionCard.tsx",
      "imports": [
        "SuggestionCard"
      ]
    },
    {
      "from": "apps/web/src/components/intelligence/EntityIntelligenceCard.tsx",
      "to": "apps/web/src/components/intelligence/PriorityBadge.tsx",
      "imports": [
        "PriorityBadge"
      ]
    },
    {
      "from": "apps/web/src/components/intelligence/EntityIntelligenceCard.tsx",
      "to": "apps/web/src/components/intelligence/HealthBadge.tsx",
      "imports": [
        "HealthBadge"
      ]
    },
    {
      "from": "apps/web/src/components/intelligence/EntityIntelligenceCard.tsx",
      "to": "apps/web/src/components/intelligence/TargetBadge.tsx",
      "imports": [
        "TargetBadge"
      ]
    },
    {
      "from": "apps/web/src/components/intelligence/EntityIntelligenceCard.tsx",
      "to": "apps/web/src/components/intelligence/AttentionBadge.tsx",
      "imports": [
        "AttentionBadge"
      ]
    },
    {
      "from": "apps/web/src/components/intelligence/PriorityEntitiesList.tsx",
      "to": "apps/web/src/components/intelligence/EntityIntelligenceCard.tsx",
      "imports": [
        "EntityIntelligenceCard"
      ]
    },
    {
      "from": "apps/web/src/components/intelligence/SuggestionsList.tsx",
      "to": "apps/web/src/components/intelligence/SuggestionCard.tsx",
      "imports": [
        "SuggestionCard"
      ]
    },
    {
      "from": "apps/web/src/components/Sidebar.tsx",
      "to": "apps/web/src/components/ui/button.tsx",
      "imports": [
        "Button"
      ]
    },
    {
      "from": "apps/web/src/components/SidebarChat.tsx",
      "to": "apps/web/src/components/ChatCapture.tsx",
      "imports": [
        "ChatCapture"
      ]
    },
    {
      "from": "apps/web/src/components/SidebarChat.tsx",
      "to": "apps/web/src/components/ui/button.tsx",
      "imports": [
        "Button"
      ]
    },
    {
      "from": "apps/web/src/components/SidebarChatContainer.tsx",
      "to": "apps/web/src/components/SidebarChat.tsx",
      "imports": [
        "SidebarChat"
      ]
    },
    {
      "from": "apps/web/src/components/SidebarChatContainer.tsx",
      "to": "apps/web/src/components/SidebarChatAutoOpen.tsx",
      "imports": [
        "SidebarChatAutoOpen"
      ]
    },
    {
      "from": "apps/web/src/components/work/ContactsSearchWithInterests.tsx",
      "to": "apps/web/src/components/work/QuickCallButton.tsx",
      "imports": [
        "QuickCallButton"
      ]
    },
    {
      "from": "apps/web/src/components/work/MobileBottomNav.tsx",
      "to": "apps/web/src/components/work/VoiceCaptureModal.tsx",
      "imports": [
        "VoiceCaptureModal"
      ]
    },
    {
      "from": "apps/web/src/components/work/StaleContactsAlert.tsx",
      "to": "apps/web/src/components/work/QuickCallButton.tsx",
      "imports": [
        "QuickCallButton"
      ]
    },
    {
      "from": "apps/web/src/components/work/TargetContactsWidget.tsx",
      "to": "apps/web/src/components/work/QuickCallButton.tsx",
      "imports": [
        "QuickCallButton"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/intent.test.ts",
      "to": "apps/web/src/lib/ai/agent/intent.ts",
      "imports": [
        "detectIntent"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/harness.ts",
      "to": "apps/web/src/lib/ai/agent/runtime.ts",
      "imports": [
        "runAgentTurnToText"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/harness.ts",
      "to": "apps/web/src/lib/ai/agent/__tests__/test-helpers.ts",
      "imports": [
        "makeArgs"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/run-harness.test.ts",
      "to": "apps/web/src/lib/ai/agent/__tests__/harness.ts",
      "imports": [
        "runAllScenarios"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/run-harness.test.ts",
      "to": "apps/web/src/lib/ai/agent/__tests__/test-helpers.ts",
      "imports": [
        "getTestDb",
        "seedTestEntities",
        "cleanupTestData"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/run-harness.test.ts",
      "to": "apps/web/src/lib/ai/agent/__tests__/scenarios/work-capture.scenarios.ts",
      "imports": [
        "workCaptureScenarios"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/run-harness.test.ts",
      "to": "apps/web/src/lib/ai/agent/__tests__/scenarios/recall.scenarios.ts",
      "imports": [
        "recallScenarios"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/run-harness.test.ts",
      "to": "apps/web/src/lib/ai/agent/__tests__/scenarios/query.scenarios.ts",
      "imports": [
        "queryScenarios"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/run-harness.test.ts",
      "to": "apps/web/src/lib/ai/agent/__tests__/scenarios/edge-cases.scenarios.ts",
      "imports": [
        "edgeCaseScenarios"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/scratch.test.ts",
      "to": "apps/web/src/lib/ai/agent/runtime.ts",
      "imports": [
        "runAgentTurnToText"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/agent/__tests__/scratch.test.ts",
      "to": "apps/web/src/lib/ai/agent/__tests__/test-helpers.ts",
      "imports": [
        "getTestDb",
        "makeArgs"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/clarification.ts",
      "to": "apps/web/src/lib/ai/confidence-config.ts",
      "imports": [
        "CONFIDENCE"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/context-cache.ts",
      "to": "apps/web/src/lib/ai/confidence-config.ts",
      "imports": [
        "CACHE_TTL"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/context.ts",
      "to": "apps/web/src/lib/ai/vector-search.ts",
      "imports": [
        "searchEventsBySimilarity"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/context.ts",
      "to": "apps/web/src/lib/ai/trends.ts",
      "imports": [
        "getTrendSummaries",
        "formatTrendSummary",
        "getMetricKeys"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/deepgram-streaming.ts",
      "to": "apps/web/src/lib/ai/stt-performance.ts",
      "imports": [
        "sttPerformanceMonitor"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/digest-attachments.test.ts",
      "to": "apps/web/src/lib/ai/digest-attachments.ts",
      "imports": [
        "digestAttachments",
        "type Attachment"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/digest-attachments.ts",
      "to": "apps/web/src/lib/ai/openai.ts",
      "imports": [
        "openai",
        "heliconeHeaders"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/digest-attachments.ts",
      "to": "apps/web/src/lib/ai/router.ts",
      "imports": [
        "modelForTask"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/embeddings.ts",
      "imports": [
        "generateEmbedding"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/vector-search.ts",
      "imports": [
        "searchEventsBySimilarity",
        "searchEntitiesBySimilarity"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/fuzzy-matching.ts",
      "imports": [
        "scoreEntityMatch",
        "areNamesSimilar",
        "expandNickname"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/context-scoring.ts",
      "imports": [
        "scoreEntityContext",
        "scoreEventContext",
        "prioritizeContexts",
        "getTopContexts"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/temporal-context.ts",
      "imports": [
        "findTemporalPatterns",
        "formatTemporalContext",
        "type TemporalContext"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/goals-extraction.ts",
      "imports": [
        "getGoalsContext",
        "formatGoalsContext",
        "extractGoalsFromText"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/emotion-extraction.ts",
      "imports": [
        "getEmotionContext",
        "formatEmotionContext",
        "extractEmotionsFromText"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/cross-pillar-insights.ts",
      "imports": [
        "findCrossPillarCorrelations",
        "formatCrossPillarInsights",
        "type CrossPillarInsights"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/context-cache.ts",
      "imports": [
        "contextCache"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/enterprise-context.ts",
      "to": "apps/web/src/lib/ai/router.ts",
      "imports": [
        "modelForTask"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/entity-resolver.ts",
      "to": "apps/web/src/lib/ai/embeddings.ts",
      "imports": [
        "generateEntityEmbedding"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/entity-resolver.ts",
      "to": "apps/web/src/lib/ai/confidence-config.ts",
      "imports": [
        "CONFIDENCE"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/experience/selector.ts",
      "to": "apps/web/src/lib/ai/experience/packs.ts",
      "imports": [
        "experiencePacks"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/extraction-integration.test.ts",
      "to": "apps/web/src/lib/ai/extraction/mention-detection.ts",
      "imports": [
        "hasLikelyMentions"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/extraction-integration.test.ts",
      "to": "apps/web/src/lib/ai/extraction/integration.ts",
      "imports": [
        "shouldUseMultiTarget"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/extraction-simulation.test.ts",
      "to": "apps/web/src/lib/ai/extraction/mention-detection.ts",
      "imports": [
        "detectEntityMentions",
        "hasLikelyMentions"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/extraction-simulation.test.ts",
      "to": "apps/web/src/lib/ai/extraction/deduplication.ts",
      "imports": [
        "filterDuplicateOperations"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/extraction-simulation.test.ts",
      "to": "apps/web/src/lib/ai/extraction/context-fetch.ts",
      "imports": [
        "buildContextSummary"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/extraction.test.ts",
      "to": "apps/web/src/lib/ai/extraction/mention-detection.ts",
      "imports": [
        "hasLikelyMentions"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/extraction.test.ts",
      "to": "apps/web/src/lib/ai/extraction/deduplication.ts",
      "imports": [
        "analyzeFieldChange",
        "isInformationInNotes"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/index.ts",
      "to": "apps/web/src/lib/ai/extraction/mention-detection.ts",
      "imports": [
        "detectEntityMentions",
        "hasLikelyMentions"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/index.ts",
      "to": "apps/web/src/lib/ai/extraction/context-fetch.ts",
      "imports": [
        "fetchEntityContext"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/index.ts",
      "to": "apps/web/src/lib/ai/extraction/multi-target-extract.ts",
      "imports": [
        "extractMultiTarget"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/index.ts",
      "to": "apps/web/src/lib/ai/extraction/apply-operations.ts",
      "imports": [
        "applyOperations"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/index.ts",
      "to": "apps/web/src/lib/ai/extraction/deduplication.ts",
      "imports": [
        "classifyOperations",
        "filterDuplicateOperations"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/index.ts",
      "to": "apps/web/src/lib/ai/extraction/task-completion.ts",
      "imports": [
        "runTaskCompletionDetection",
        "type TaskCompletionResult"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/integration.ts",
      "to": "apps/web/src/lib/ai/extraction/index.ts",
      "imports": [
        "runMultiTargetExtraction",
        "buildExtractionSummary",
        "shouldAutoApply"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/integration.ts",
      "to": "apps/web/src/lib/ai/router.ts",
      "imports": [
        "modelForTask"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/mention-detection.ts",
      "to": "apps/web/src/lib/ai/cost-tracking.ts",
      "imports": [
        "trackOpenAIUsage"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/mention-detection.ts",
      "to": "apps/web/src/lib/ai/router.ts",
      "imports": [
        "modelForTask"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/multi-target-extract.ts",
      "to": "apps/web/src/lib/ai/extraction/context-fetch.ts",
      "imports": [
        "buildContextSummary",
        "matchMentionsToContext"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/multi-target-extract.ts",
      "to": "apps/web/src/lib/ai/cost-tracking.ts",
      "imports": [
        "trackOpenAIUsage"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/voice-scenario.test.ts",
      "to": "apps/web/src/lib/ai/extraction/mention-detection.ts",
      "imports": [
        "hasLikelyMentions"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/extraction/voice-scenario.test.ts",
      "to": "apps/web/src/lib/ai/extraction/deduplication.ts",
      "imports": [
        "analyzeFieldChange",
        "isInformationInNotes",
        "classifyOperations",
        "filterDuplicateOperations"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/initialization-completion.ts",
      "to": "apps/web/src/lib/ai/openai.ts",
      "imports": [
        "openai"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/initialization-completion.ts",
      "to": "apps/web/src/lib/ai/router.ts",
      "imports": [
        "modelForTask"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/memory-extractor.ts",
      "to": "apps/web/src/lib/ai/openai.ts",
      "imports": [
        "openai"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/memory-extractor.ts",
      "to": "apps/web/src/lib/ai/router.ts",
      "imports": [
        "modelForTask"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/memory-extractor.ts",
      "to": "apps/web/src/lib/ai/embeddings.ts",
      "imports": [
        "generateEmbedding"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/memory.ts",
      "to": "apps/web/src/lib/ai/embeddings.ts",
      "imports": [
        "generateEmbedding"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/model-catalog.ts",
      "to": "apps/web/src/lib/ai/openai.ts",
      "imports": [
        "openai"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/response-strategy.ts",
      "to": "apps/web/src/lib/ai/agent/intent.ts",
      "imports": [
        "AgentIntent"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/router.ts",
      "to": "apps/web/src/lib/ai/model-catalog.ts",
      "imports": [
        "getModelPool",
        "verifyModelAccess",
        "type ModelProvider"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/router.ts",
      "to": "apps/web/src/lib/ai/task-classifier.ts",
      "imports": [
        "classifyTask",
        "type TaskClassification",
        "type ThreadContext"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/router.ts",
      "to": "apps/web/src/lib/ai/openai.ts",
      "imports": [
        "openai"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/task-classifier.ts",
      "to": "apps/web/src/lib/ai/openai.ts",
      "imports": [
        "openai"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/task-classifier.ts",
      "to": "apps/web/src/lib/ai/router.ts",
      "imports": [
        "modelForTask"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/thread-context.ts",
      "to": "apps/web/src/lib/ai/embeddings.ts",
      "imports": [
        "generateEventEmbedding"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/thread-context.ts",
      "to": "apps/web/src/lib/ai/vector-utils.ts",
      "imports": [
        "cosineSimilarity"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/thread-context.ts",
      "to": "apps/web/src/lib/ai/confidence-config.ts",
      "imports": [
        "CONFIDENCE"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/thread-markers.ts",
      "to": "apps/web/src/lib/ai/openai.ts",
      "imports": [
        "openai"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/thread-markers.ts",
      "to": "apps/web/src/lib/ai/router.ts",
      "imports": [
        "modelForTask"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/thread-markers.ts",
      "to": "apps/web/src/lib/ai/embeddings.ts",
      "imports": [
        "generateEventEmbedding"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/thread-router.ts",
      "to": "apps/web/src/lib/ai/embeddings.ts",
      "imports": [
        "generateEventEmbedding"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/thread-router.ts",
      "to": "apps/web/src/lib/ai/openai.ts",
      "imports": [
        "openai"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/thread-router.ts",
      "to": "apps/web/src/lib/ai/router.ts",
      "imports": [
        "modelForTask"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/tools/executor.ts",
      "to": "apps/web/src/lib/ai/tools/registry.ts",
      "imports": [
        "toolRegistry",
        "type ToolName"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/tools/executor.ts",
      "to": "apps/web/src/lib/ai/tools/executor-intelligence.ts",
      "imports": [
        "handleGetEntityIntelligence",
        "handleGetTopPriorityEntities",
        "handleGetSmartSuggestions",
        "handleSetEntityTarget",
        "handleRemoveEntityTarget",
        "handleGetIntroductionChain",
        "handleRecordIntroduction"
      ]
    },
    {
      "from": "apps/web/src/lib/ai/vector-search.ts",
      "to": "apps/web/src/lib/ai/embeddings.ts",
      "imports": [
        "generateEmbedding"
      ]
    },
    {
      "from": "apps/web/src/lib/cron/scheduler.ts",
      "to": "apps/web/src/lib/cron/trends.ts",
      "imports": [
        "updateTrends"
      ]
    },
    {
      "from": "apps/web/src/lib/cron/scheduler.ts",
      "to": "apps/web/src/lib/cron/memory-extraction.ts",
      "imports": [
        "extractMemoryFromThreads"
      ]
    },
    {
      "from": "apps/web/src/lib/cron/scheduler.ts",
      "to": "apps/web/src/lib/cron/fitness-schedule.ts",
      "imports": [
        "processFitnessScheduleJobs"
      ]
    },
    {
      "from": "apps/web/src/lib/cron/scheduler.ts",
      "to": "apps/web/src/lib/cron/agent-tasks.ts",
      "imports": [
        "processAgentTasks"
      ]
    },
    {
      "from": "apps/web/src/lib/cron/scheduler.ts",
      "to": "apps/web/src/lib/cron/knowledge-maintenance.ts",
      "imports": [
        "runKnowledgeMaintenance",
        "runQuickMaintenance",
        "refreshPatterns",
        "resolveRelationships"
      ]
    },
    {
      "from": "apps/web/src/lib/cron/scheduler.ts",
      "to": "apps/web/src/lib/cron/intelligence-maintenance.ts",
      "imports": [
        "runIntelligenceMaintenance",
        "runQuickIntelligenceMaintenance",
        "generateProactiveSuggestions"
      ]
    },
    {
      "from": "apps/web/src/lib/daily-brief/data.ts",
      "to": "apps/web/src/lib/daily-brief/types.ts",
      "imports": [
        "DEFAULT_DAILY_BRIEF_CONFIG"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-collections.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-drafts.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-fitness-plan.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-fitness-v2.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-goals.ts",
      "to": "apps/web/src/lib/db/schema.ts",
      "imports": [
        "pillars"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-goals.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-habits.ts",
      "to": "apps/web/src/lib/db/schema-goals.ts",
      "imports": [
        "goals"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-habits.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-intelligence.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-intelligence.ts",
      "to": "apps/web/src/lib/db/schema.ts",
      "imports": [
        "entities",
        "events"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-knowledge.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-knowledge.ts",
      "to": "apps/web/src/lib/db/schema.ts",
      "imports": [
        "entities"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-knowledge.ts",
      "to": "apps/web/src/lib/db/schema.ts",
      "imports": [
        "events"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-reflections.ts",
      "to": "apps/web/src/lib/db/schema-goals.ts",
      "imports": [
        "goals"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-reflections.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-user-profiles.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema-work-config.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/schema.ts",
      "to": "apps/web/src/lib/db/tenancy-columns.ts",
      "imports": [
        "workspaceIdColumn"
      ]
    },
    {
      "from": "apps/web/src/lib/db/tenancy-columns.ts",
      "to": "apps/web/src/lib/db/tenancy-constants.ts",
      "imports": [
        "PERSONAL_WORKSPACE_ID"
      ]
    },
    {
      "from": "apps/web/src/lib/enrichment/index.ts",
      "to": "apps/web/src/lib/enrichment/books.ts",
      "imports": [
        "enrichBookMetadata"
      ]
    },
    {
      "from": "apps/web/src/lib/enrichment/index.ts",
      "to": "apps/web/src/lib/enrichment/places.ts",
      "imports": [
        "enrichPlaceMetadata"
      ]
    },
    {
      "from": "apps/web/src/lib/fitness/plan-generator.ts",
      "to": "apps/web/src/lib/fitness/plan-storage.ts",
      "imports": [
        "type FitnessPlan",
        "type GenerationCost"
      ]
    },
    {
      "from": "apps/web/src/lib/fitness/plan-generator.ts",
      "to": "apps/web/src/lib/fitness/plan-parser.ts",
      "imports": [
        "parseFitnessPlan",
        "getPlanStats"
      ]
    },
    {
      "from": "apps/web/src/lib/integrations/microsoft/calendar-sync.ts",
      "to": "apps/web/src/lib/integrations/microsoft/auth.ts",
      "imports": [
        "getValidAccessToken"
      ]
    },
    {
      "from": "apps/web/src/lib/integrations/microsoft/calendar-sync.ts",
      "to": "apps/web/src/lib/integrations/microsoft/graph-client.ts",
      "imports": [
        "fetchCalendarEvents",
        "type GraphCalendarEvent"
      ]
    },
    {
      "from": "apps/web/src/lib/integrations/microsoft/email-sync.ts",
      "to": "apps/web/src/lib/integrations/microsoft/auth.ts",
      "imports": [
        "getValidAccessToken"
      ]
    },
    {
      "from": "apps/web/src/lib/integrations/microsoft/email-sync.ts",
      "to": "apps/web/src/lib/integrations/microsoft/graph-client.ts",
      "imports": [
        "fetchRecentEmails"
      ]
    },
    {
      "from": "apps/web/src/lib/integrations/microsoft/email-sync.ts",
      "to": "apps/web/src/lib/integrations/microsoft/email-classification.ts",
      "imports": [
        "classifyEmail"
      ]
    },
    {
      "from": "apps/web/src/lib/knowledge/context-brief.ts",
      "to": "apps/web/src/lib/knowledge/memories.ts",
      "imports": [
        "getMemoriesForEntity",
        "trackMemorySurfaced",
        "calculateRelevanceScore"
      ]
    },
    {
      "from": "apps/web/src/lib/knowledge/context-brief.ts",
      "to": "apps/web/src/lib/knowledge/relationships.ts",
      "imports": [
        "getKeyRelationships",
        "getRelationshipsForEntity"
      ]
    },
    {
      "from": "apps/web/src/lib/knowledge/extraction.ts",
      "to": "apps/web/src/lib/knowledge/memories.ts",
      "imports": [
        "createMemory"
      ]
    },
    {
      "from": "apps/web/src/lib/knowledge/extraction.ts",
      "to": "apps/web/src/lib/knowledge/relationships.ts",
      "imports": [
        "createOrUpdateSoftRelationship"
      ]
    },
    {
      "from": "apps/web/src/lib/knowledge/integration.ts",
      "to": "apps/web/src/lib/knowledge/extraction.ts",
      "imports": [
        "extractMemories",
        "storeExtractedMemories",
        "moderateContent"
      ]
    },
    {
      "from": "apps/web/src/lib/knowledge/integration.ts",
      "to": "apps/web/src/lib/knowledge/relationships.ts",
      "imports": [
        "syncEntityRelationshipsToNeo4j"
      ]
    },
    {
      "from": "apps/web/src/lib/knowledge/integration.ts",
      "to": "apps/web/src/lib/knowledge/patterns.ts",
      "imports": [
        "detectEntityPatterns",
        "quickPatternUpdate"
      ]
    },
    {
      "from": "apps/web/src/lib/knowledge/lifecycle.ts",
      "to": "apps/web/src/lib/knowledge/patterns.ts",
      "imports": [
        "detectEntityPatterns"
      ]
    },
    {
      "from": "apps/web/src/lib/notifications/rules.ts",
      "to": "apps/web/src/lib/notifications/push-sender.ts",
      "imports": [
        "sendPushToAll",
        "type PushPayload"
      ]
    },
    {
      "from": "apps/web/src/lib/notifications/rules.ts",
      "to": "apps/web/src/lib/notifications/subscription-manager.ts",
      "imports": [
        "getWorkspaceSubscriptions",
        "removeExpiredSubscriptions"
      ]
    },
    {
      "from": "apps/web/src/lib/registry/introspection.ts",
      "to": "apps/web/src/lib/registry/work-registry.ts",
      "imports": [
        "workRegistry"
      ]
    },
    {
      "from": "apps/web/src/lib/supabase/upload-client.ts",
      "to": "apps/web/src/lib/supabase/client.ts",
      "imports": [
        "createSupabaseBrowserClient"
      ]
    },
    {
      "from": "apps/web/src/lib/track-anything/chat-integration.ts",
      "to": "apps/web/src/lib/track-anything/index.ts",
      "imports": [
        "detectQuickIntent",
        "extractUnified",
        "buildExtractionContext",
        "executeWithRouting",
        "type UnifiedExtraction",
        "type RoutingDecision",
        "type ExecutionResult"
      ]
    },
    {
      "from": "apps/web/src/lib/track-anything/executor.ts",
      "to": "apps/web/src/lib/track-anything/templates.ts",
      "imports": [
        "getTemplateBySlug",
        "COLLECTION_TEMPLATES"
      ]
    },
    {
      "from": "apps/web/src/lib/track-anything/extract.ts",
      "to": "apps/web/src/lib/track-anything/types.ts",
      "imports": [
        "type ExtractionContext",
        "type ExtractionIntent",
        "type UnifiedExtraction",
        "unifiedExtractionSchema",
        "DEFAULT_AUTO_APPLY_RULES"
      ]
    },
    {
      "from": "apps/web/src/lib/track-anything/extract.ts",
      "to": "apps/web/src/lib/track-anything/templates.ts",
      "imports": [
        "COLLECTION_TEMPLATES",
        "findMatchingTemplate"
      ]
    },
    {
      "from": "apps/web/src/lib/track-anything/router.ts",
      "to": "apps/web/src/lib/track-anything/executor.ts",
      "imports": [
        "executeExtraction"
      ]
    },
    {
      "from": "apps/web/src/lib/track-anything/track-anything.test.ts",
      "to": "apps/web/src/lib/track-anything/index.ts",
      "imports": [
        "detectQuickIntent",
        "findMatchingTemplate",
        "routeIntent",
        "detectObservations",
        "DEFAULT_AUTO_APPLY_RULES",
        "shouldAutoApply"
      ]
    },
    {
      "from": "apps/web/src/lib/work/core-fixtures/golden-flows.test.ts",
      "to": "apps/web/src/lib/work/core-fixtures/golden-flows.ts",
      "imports": [
        "WORK_GOLDEN_FLOWS"
      ]
    },
    {
      "from": "apps/web/src/lib/work/core-fixtures/golden-flows.test.ts",
      "to": "apps/web/src/lib/work/core-fixtures/runner.ts",
      "imports": [
        "runGoldenFlowDryRun"
      ]
    },
    {
      "from": "apps/web/src/lib/work/core-fixtures/work-full-pipeline.test.ts",
      "to": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts",
      "imports": [
        "getRequestCounts",
        "resetCounts",
        "printTelemetry"
      ]
    },
    {
      "from": "apps/web/src/lib/work/core-fixtures/work-io-csv.test.ts",
      "to": "apps/web/src/lib/work/core-fixtures/cache.ts",
      "imports": [
        "getCacheStats",
        "shouldUseCache"
      ]
    },
    {
      "from": "apps/web/src/lib/work/core-fixtures/work-io-csv.test.ts",
      "to": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts",
      "imports": [
        "getRequestCounts",
        "resetCounts",
        "printTelemetry",
        "assertWithinThreshold"
      ]
    },
    {
      "from": "apps/web/src/lib/work/core-fixtures/work-io-integration.test.ts",
      "to": "apps/web/src/lib/work/core-fixtures/cache.ts",
      "imports": [
        "getCacheStats",
        "shouldUseCache"
      ]
    },
    {
      "from": "apps/web/src/lib/work/core-fixtures/work-io-integration.test.ts",
      "to": "apps/web/src/lib/work/core-fixtures/test-telemetry.ts",
      "imports": [
        "getRequestCounts",
        "resetCounts",
        "printTelemetry",
        "assertWithinThreshold"
      ]
    },
    {
      "from": "apps/web/src/lib/work/duplicate-handler.ts",
      "to": "apps/web/src/lib/work/post-extraction.ts",
      "imports": [
        "scanForDuplicates"
      ]
    },
    {
      "from": "apps/web/src/lib/work/extract-work.test.ts",
      "to": "apps/web/src/lib/work/extract-work.ts",
      "imports": [
        "normalizeWorkExtraction"
      ]
    },
    {
      "from": "apps/web/src/lib/work/extraction-context.ts",
      "to": "apps/web/src/lib/work/vip-entities.ts",
      "imports": [
        "formatVipEntitiesForContext",
        "type VipEntity"
      ]
    },
    {
      "from": "apps/web/src/lib/work/extraction-recovery.ts",
      "to": "apps/web/src/lib/work/alias-dictionary.ts",
      "imports": [
        "expandAliases",
        "type AliasDictionary"
      ]
    },
    {
      "from": "apps/web/src/lib/work/field-registry-context.ts",
      "to": "apps/web/src/lib/work/extraction-examples.ts",
      "imports": [
        "DEAL_STAGES",
        "LISTING_STATUSES",
        "TASK_STATUSES",
        "ACTIVITY_RESULTS"
      ]
    },
    {
      "from": "apps/web/src/lib/work/grounding.test.ts",
      "to": "apps/web/src/lib/work/grounding.ts",
      "imports": [
        "needsWorkClarification",
        "rankWorkEntityCandidates"
      ]
    },
    {
      "from": "apps/web/src/lib/work/insights/index.ts",
      "to": "apps/web/src/lib/work/insights/nl-to-query.ts",
      "imports": [
        "detectInsightQuery",
        "classifyWithLLM",
        "buildQuery"
      ]
    },
    {
      "from": "apps/web/src/lib/work/insights/index.ts",
      "to": "apps/web/src/lib/work/insights/queries.ts",
      "imports": [
        "contactsInArea",
        "staleContacts",
        "dealsClosingSoon",
        "topTargets",
        "recentActivity",
        "relationshipGaps",
        "dealPipeline"
      ]
    },
    {
      "from": "apps/web/src/lib/work/multi-pass-extraction.ts",
      "to": "apps/web/src/lib/work/alias-dictionary.ts",
      "imports": [
        "formatAliasesForPrompt",
        "type AliasDictionary"
      ]
    },
    {
      "from": "apps/web/src/lib/work/proposal-shaping.test.ts",
      "to": "apps/web/src/lib/work/proposal-shaping.ts",
      "imports": [
        "shapeWorkExtractionForProposals"
      ]
    },
    {
      "from": "apps/web/src/lib/work/smart-extraction.ts",
      "to": "apps/web/src/lib/work/alias-dictionary.ts",
      "imports": [
        "expandAliases",
        "type AliasDictionary"
      ]
    },
    {
      "from": "apps/web/src/lib/work/smart-extraction.ts",
      "to": "apps/web/src/lib/work/extraction-cache.ts",
      "imports": [
        "getCached",
        "setCached",
        "getCacheStats",
        "type CacheStats"
      ]
    },
    {
      "from": "apps/web/src/lib/work/smart-extraction.ts",
      "to": "apps/web/src/lib/work/extraction-recovery.ts",
      "imports": [
        "extractWithRecovery",
        "isValidExtraction",
        "calculateConfidence",
        "isExtractableInput"
      ]
    },
    {
      "from": "apps/web/src/lib/work/smart-extraction.ts",
      "to": "apps/web/src/lib/work/multi-pass-extraction.ts",
      "imports": [
        "extractMultiPass",
        "shouldUseMultiPass",
        "type MultiPassResult"
      ]
    },
    {
      "from": "apps/web/src/lib/work/smart-extraction.ts",
      "to": "apps/web/src/lib/work/extract-work.ts",
      "imports": [
        "extractWorkFromText"
      ]
    },
    {
      "from": "apps/web/src/lib/work/smart-extraction.ts",
      "to": "apps/web/src/lib/work/extraction-validation.ts",
      "imports": [
        "validateExtraction",
        "getValidationSummary"
      ]
    }
  ]
}