{
  "issues": [
    {
      "id": "ISS-001",
      "title": "UI never tested in browser — rendering state unknown",
      "status": "resolved",
      "severity": "critical",
      "type": "bug",
      "symptoms": "All 11 React views were written without being rendered. Vite, Tailwind, and component imports may have errors.",
      "root_cause": "Built in one session without stopping to test",
      "resolution": "Fixed Tailwind/PostCSS config, CSS import ordering. All 11 views render correctly in Chrome. User confirmed.",
      "files": [
        "ui/src/views/*.tsx",
        "ui/tailwind.config.js",
        "ui/vite.config.ts"
      ],
      "roadmap_item": "boot-ui",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-07",
      "discovered_by": "user",
      "resolved": "2026-02-07",
      "notes": "Required 3 fixes: absolute content paths in tailwind.config.js, explicit config path in postcss.config.js, @import order in globals.css."
    },
    {
      "id": "ISS-002",
      "title": "TypeScript build fails — 'standard' not valid Verbosity",
      "status": "resolved",
      "severity": "high",
      "type": "bug",
      "symptoms": "npm run build:server fails with TS2322: Type 'standard' is not assignable to type 'Verbosity'.",
      "root_cause": "Default verbosity value in store.ts used 'standard' which isn't in the Verbosity union type (detailed | summary | minimal)",
      "resolution": "Changed 'standard' to 'detailed' in store.ts line 106. Build passes clean (UI + server).",
      "files": [
        "server/store.ts",
        "shared/types.ts"
      ],
      "roadmap_item": "ts-build",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-07",
      "discovered_by": "user",
      "resolved": "2026-02-07",
      "notes": "One-line fix. UI build was already passing (Vite). Only server tsc build was affected."
    },
    {
      "id": "ISS-003",
      "title": "Integration plugins untested with real API keys",
      "status": "open",
      "severity": "low",
      "type": "bug",
      "symptoms": "All 8 plugins have testConnection() methods but none have been called with real credentials.",
      "root_cause": "No credentials configured during initial build",
      "resolution": null,
      "files": [
        "server/integrations/*.ts"
      ],
      "roadmap_item": "test-integrations",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-07",
      "discovered_by": "user",
      "resolved": null,
      "notes": "INTEGRATIONS UNTESTED (14+ days): Helicone test shows FAILING (last Feb 8 01:56 UTC) BUT enrichment working in production (custom properties sent successfully in session 10). Contradiction suggests test endpoint issue, not actual failure. GitHub passing (last tested Feb 7). 6 plugins unconfigured (Vercel, Supabase, Sentry, Upstash, AWS EC2, Cloudflare). Helicone failure blocks AI cost tracking for dogfooding. ISS-015 (credential sync) was resolved but didn't fix underlying test failure. Next step: manually investigate Helicone API response. ISS-022 merged into this. Should prioritize for Landmark dogfooding. WEEKLY REFRESH: Now 14+ days old, aging concern but not blocking current work."
    },
    {
      "id": "ISS-004",
      "title": "Kanban drag-and-drop not actually implemented",
      "status": "resolved",
      "severity": "low",
      "type": "bug",
      "symptoms": "@dnd-kit is in package.json but not imported or used in Backlog.tsx. Cards have move buttons instead.",
      "root_cause": "Deprioritized in favor of core features",
      "resolution": "Wired up @dnd-kit/core: DndContext wrapper, useDroppable columns (horizon IDs), useDraggable cards, DragOverlay with card preview, onDragEnd calls existing move API. PointerSensor with 8px activation distance so clicks still work. Drop zone highlighting and drag overlay styling. Button-based moves kept as fallback.",
      "files": [
        "ui/src/views/Backlog.tsx"
      ],
      "roadmap_item": "kanban-dnd",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-07",
      "discovered_by": "user",
      "resolved": "2026-02-08",
      "notes": "Button-based moving works as a fallback. DnD is polish."
    },
    {
      "id": "ISS-005",
      "title": "Completed backlog items vanish with no way to see or undo",
      "status": "resolved",
      "severity": "high",
      "type": "bug",
      "symptoms": "Clicking Complete on a backlog item sets status but UI filters it out immediately. No completed section, no undo.",
      "root_cause": "Backlog view filtered out status=completed with no archive/completed section",
      "resolution": "Added collapsible 'Completed' section to Backlog view with reopen button. Added POST /api/v1/backlog/:id/reopen endpoint. Same pattern for Issues (reopen resolved). Ideas already had filter tabs.",
      "files": [
        "ui/src/views/Backlog.tsx",
        "server/routes/backlog.ts"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-07",
      "discovered_by": "user",
      "resolved": "2026-02-07",
      "notes": "User discovered this by clicking Complete and item vanishing. Also added reopen endpoint for issues."
    },
    {
      "id": "ISS-006",
      "title": "AI context drift — coding AI doesn't reliably follow dev-track rules",
      "status": "open",
      "severity": "high",
      "type": "tech_debt",
      "symptoms": "AI shipped 7 features in session 3 without writing a single changelog entry, despite the cursor rule explicitly saying to do it. User had to prompt for it. Adding more text instructions doesn't fix the problem — it's an architectural issue.",
      "root_cause": "Three compounding factors: (1) cursor rule had no frontmatter so may not have loaded at all, (2) behavioral instructions were buried at line 74 not at the top, (3) AI attention is a finite resource and tracking competes with coding during complex tasks. Fundamentally: passive text instructions are unreliable enforcement for AI behavior.",
      "resolution": null,
      "files": [
        ".cursor/rules/dev-track.mdc",
        "templates/dev-track.mdc"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-07",
      "discovered_by": "user",
      "resolved": null,
      "notes": "AI CONTEXT DRIFT (14+ days, partially resolved): Passive instructions unreliable. AI shipped 7 features without changelogs despite explicit cursor rule. Root causes: (1) cursor rule had no frontmatter (fixed), (2) behavioral instructions buried (fixed), (3) AI attention finite — tracking competes with coding. PARTIAL MITIGATIONS: automation engine + scheduler built (commit ca10e5e), 5 seeded automations, session-audit + change-tracker validated working. REMAINING BLOCKER: ISS-034 (semantic file watcher) prevents reliable trigger firing. Full chain: chat agent works (validated session 9) → headless runner works (validated) → automations execute (validated) → change-tracker catches drift (BLOCKED by ISS-034). Structural enforcement exists but can't fire reliably from external edits. WEEKLY REFRESH: Partially mitigated, waiting on ISS-034 resolution."
    },
    {
      "id": "ISS-007",
      "title": "Architecture graph is meaningless to non-developers",
      "status": "resolved",
      "severity": "medium",
      "type": "ux",
      "symptoms": "User looked at Module Architecture view and said 'I don't understand what I'm looking at.' Nodes show 'Server' with no explanation of what that means. Edges show 'imports' which is meaningless to a layman. Missing connections between modules that clearly relate (server and server routes). Detail panel just says 'click into files' — unhelpful.",
      "root_cause": "Module descriptions are auto-generated from file counts only (e.g., '8 files, 3 functions'). No plain-English explanation of what each module does, how it works, or why it connects to other modules. Edge labels show import names not relationship descriptions. The graph is technically accurate but semantically empty.",
      "resolution": "Built generateModuleDescription() that creates rich plain-English descriptions from file types, exports, services, and DB ops. Added generateEdgeLabel() for relationship descriptions. Module nodes now show short descriptions. Detail panel shows full description, stats, file type breakdown, key exports, and connections with relationship labels. Edges show relationship text on hover and when highlighted.",
      "files": [
        "server/analyzer/scanner.ts",
        "server/routes/codebase.ts",
        "ui/src/components/graph/GraphNode.tsx",
        "ui/src/components/graph/NodeDetailPanel.tsx"
      ],
      "roadmap_item": "graph-layman-descriptions",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-07",
      "discovered_by": "user",
      "resolved": "2026-02-07",
      "notes": "Approach: don't annotate the code, make the scanner smart enough to read it. No special comments needed — descriptions generated from code analysis at scan time."
    },
    {
      "id": "ISS-008",
      "title": "AI chat duplicates every response",
      "status": "resolved",
      "severity": "high",
      "type": "bug",
      "symptoms": "Every AI chat message appears twice in the sidebar. Both copies are identical.",
      "root_cause": "Both 'message_complete' and 'done' SSE events triggered adding the assistant message to the messages array. accContent was truthy for both events, so it got pushed twice.",
      "resolution": "Changed condition to only add message on 'message_complete' event. Clear accContent after adding so 'done' event can't re-add.",
      "files": [
        "ui/src/components/ChatSidebar.tsx"
      ],
      "roadmap_item": "ai-chat-agent",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-07",
      "discovered_by": "user",
      "resolved": "2026-02-07",
      "notes": "Classic SSE event handling bug. The done event is for cleanup/usage tracking, not for message display."
    },
    {
      "id": "ISS-009",
      "title": "Dashboard brain note cards are stale and contradict header text",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "Dashboard shows brain note cards from session 3 (e.g., 'Open source the tool, sell the intelligence layer', 'Tool needs a real name') that contradict the session 4 context-recovery text above ('NOT open source — paid product'). Cards don't reflect current state.",
      "root_cause": "Dashboard renders all brain notes regardless of dismissed status or staleness. BN-003 (open source decision) was superseded by BN-013 (paid product) but both still show. No mechanism to hide dismissed/superseded notes from dashboard.",
      "resolution": "Dismissed BN-003 (superseded by BN-013), BN-007, BN-008 (both already actioned). Added superseded_by field to BN-003. API already filters dismissed notes. Dashboard now shows only current, relevant notes.",
      "files": [
        "ui/src/views/Dashboard.tsx",
        "data/brain/notes.json"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-07",
      "discovered_by": "user",
      "resolved": "2026-02-08",
      "notes": "The API was already doing the right thing (filtering dismissed notes). The fix was just data cleanup — marking stale notes as dismissed."
    },
    {
      "id": "ISS-010",
      "title": "User profile attributes are self-reported — should be AI-observed",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "Profile Settings page has sliders where the user rates themselves on coding, architecture, design, etc. User explicitly said 'fuck what the user thinks — make it all AI-set.' Self-reported scores are unreliable and the AI should be assessing these dynamically from conversation patterns.",
      "root_cause": "Profile was built as a self-reported form. No AI observation/assessment pipeline exists yet.",
      "resolution": "Rebuilt profile with AI-observed scoring. Intelligence score (128, IQ-scale), cognitive profile radar chart (8 dimensions), technical skills radar chart (8 dimensions). All AI-set, read-only. Assessment notes from AI observation. Behavior patterns remain user-adjustable. SVG radar charts built from scratch, no deps.",
      "files": [
        "ui/src/views/Settings.tsx",
        "data/ai/profiles.json",
        "server/routes/ai.ts"
      ],
      "roadmap_item": "user-profiles",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-5",
      "resolved": "2026-02-08",
      "notes": "User wants: AI-determined intelligence score, AI-observed attribute web, dynamic updates from conversations. Make sliders read-only (AI-set), add intelligence composite score, add radar/spider chart visualization."
    },
    {
      "id": "ISS-011",
      "title": "No notification system — DevTrack changes are invisible to the user",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "When changes happen in DevTrack (new issues, changelog entries, brain notes), the user sees nothing unless they navigate to that view. No toast/tray notifications. DevTrack feels passive, not alive.",
      "root_cause": "No notification/toast UI component. WebSocket events are received but only trigger a full view re-render, not targeted notifications.",
      "resolution": "Built NotificationTray component: toast notifications (auto-dismiss 5s, max 3 visible), notification bell in header with unread count, dropdown panel with full history. WebSocket events converted to notifications via wsEventToNotification(). Top bar added to App layout. Dedupe logic prevents rapid-fire toasts from file watcher.",
      "files": [
        "ui/src/App.tsx",
        "ui/src/api/useWebSocket.ts"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-5",
      "resolved": "2026-02-08",
      "notes": "User referenced their Pillar tray system. Build a notification tray: toasts for real-time events, persistent notification panel accessible from header. WebSocket already broadcasts file_changed events — just need the UI layer."
    },
    {
      "id": "ISS-012",
      "title": "No way to pass Cursor/Claude conversation context back to DevTrack",
      "status": "open",
      "severity": "high",
      "type": "tech_debt",
      "symptoms": "Conversations in external AI tools (Cursor, Claude, Gemini) are invisible to DevTrack. Issues, decisions, and ideas discussed in those conversations are lost unless the AI manually writes them to DevTrack data files. This is the root cause of ISS-006 (AI context drift) — the tracking AI and the coding AI are separate systems with no bridge.",
      "root_cause": "No integration between external AI tools and DevTrack. Each platform is a silo. DevTrack only knows what gets explicitly written to its data files.",
      "resolution": null,
      "files": [],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-5",
      "resolved": null,
      "notes": "CONVERSATION BRIDGE (14+ days, no progress): External AI conversations (Cursor, Claude, Gemini) invisible to DevTrack. Issues, decisions, ideas discussed are lost unless AI manually writes to data files. Root cause of ISS-006 — tracking AI and coding AI are separate systems with no bridge. SERVER INFRASTRUCTURE EXISTS: automation engine, headless runner, chat agent validated. MISSING: capture mechanism (extension/CLI). Session 9 validated 'investigation + handoff' pattern (chat agent found ISS-035, Cursor fixed it) — proves bridge concept works. IDEA-027 at exploring/critical. Estimated: L-XL (2-3 sessions). Should not start until docs system validated on Landmark. WEEKLY REFRESH: Still high priority but correctly deferred until dogfooding begins."
    },
    {
      "id": "ISS-013",
      "title": "Redundancy between AI Configuration and Integrations tabs for API keys",
      "status": "resolved",
      "severity": "medium",
      "type": "security",
      "symptoms": "Helicone appears in both AI Config and Integrations tabs. AI provider keys (OpenAI, Anthropic, Google) are in AI Config but are functionally integrations — external service credentials. User confused about where keys belong. AI keys serve dev-track's own chat agent, not the user's app, but this isn't clear in the UI.",
      "root_cause": "AI keys were built into AI Config as a convenience. Integrations tab was built separately for dev tools. No consolidation pass done.",
      "resolution": "Moved all API key management (OpenAI, Anthropic, Google, Helicone) from AI Configuration tab into Integrations tab as a top-level 'AI Providers' section with 2x2 grid layout. AI Config now only has: provider toggles (with note pointing to Integrations for keys), model defaults, budget controls, feature toggles. 'Development Tools' subheader separates AI providers from integration plugins below.",
      "files": [
        "ui/src/views/Settings.tsx"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-6",
      "resolved": "2026-02-08",
      "notes": "User wants: all external service keys in Integrations tab as 'AI Providers' subsection. AI Config keeps model defaults, budget, features only. Clarify that AI keys power dev-track's chat agent (for now), not the user's app."
    },
    {
      "id": "ISS-014",
      "title": "No in-app project switcher — must use CLI to change projects",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "After initializing multiple projects (dev-track, Pillar), there's no way to switch between them from within the UI. User must go back to terminal and run 'dev-track start' in a different project directory. The GET /api/v1/projects endpoint exists but nothing in the UI uses it.",
      "root_cause": "Project switcher was explicitly deferred to follow-up in the session 6 plan. Multi-project architecture was built CLI-first.",
      "resolution": "Built project switcher dropdown in sidebar. Shows when multiple projects registered. POST /api/v1/projects/switch endpoint hot-swaps the data directory, project root, reloads the store, and restarts the file watcher without restarting the server process. Sidebar fetches /api/v1/projects on load, renders dropdown with project names and paths, highlights current project. On switch: calls API, then window.location.reload() to refresh all views. Watcher made restartable (closes old, opens new).",
      "files": [
        "ui/src/components/Sidebar.tsx",
        "server/index.ts",
        "server/watcher.ts"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-6",
      "resolved": "2026-02-08",
      "notes": "Hot-swap approach chosen over multi-port or server restart. Server stays on same port, just repoints at different data. Page reload needed because all React components cache data from initial load."
    },
    {
      "id": "ISS-015",
      "title": "Helicone plugin missing org ID field and credentials not synced to AI proxy",
      "status": "resolved",
      "severity": "medium",
      "type": "security",
      "symptoms": "AI proxy reads helicone key + org_id from .credentials.json under 'ai' namespace. Helicone plugin stores under 'helicone' namespace with only api_key (no org_id). User can't configure org ID from the UI at all. Credentials entered in the plugin don't flow to the proxy.",
      "root_cause": "AI proxy and integration plugin were built independently with different credential paths. No sync mechanism.",
      "resolution": "Added org_id credential field to Helicone plugin. Updated IntegrationManager.setCredentials() to sync Helicone credentials to the ai namespace (.credentials.json → ai.helicone + ai.helicone_org_id) when Helicone plugin credentials are saved. AI proxy now picks up credentials configured through the Integrations UI. Single source of truth for Helicone config.",
      "files": [
        "server/integrations/helicone.ts",
        "server/integrations/manager.ts",
        "server/ai/service.ts"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-6",
      "resolved": "2026-02-08",
      "notes": "Fix: add org_id field to Helicone plugin, sync helicone plugin creds to ai namespace when saved so proxy picks them up."
    },
    {
      "id": "ISS-016",
      "title": "AI chat agent missing CRUD tools for 13 DevTrack entities/capabilities",
      "status": "resolved",
      "severity": "high",
      "type": "bug",
      "symptoms": "AI chat agent has 25 tools but is missing: update_state, update_idea, session start/end, all Actions CRUD, context-recovery read/write, preferences read/write, user profile read/write, write_project_file, scan_codebase trigger, detailed git log, directory listing, config read/write, integration status. Cannot perform project initialization or full project audit.",
      "root_cause": "Initial tool set was built for chat interaction, not for autonomous project management. Tools added reactively as needed during sessions 4-5.",
      "resolution": "Full refactor: monolithic tools.ts (718 lines, giant switch) replaced with modular registry at server/ai/tools/. 16 domain modules, each self-contained with definitions + executors. Registry auto-collects from all modules. New tools added: update_state, update_idea, start_session, end_session, all Actions CRUD (list/create/update), context_recovery read/write, preferences read/write, user_profile read/write/add_observation, write_project_file, list_directory, scan_codebase, detailed git_log (with full messages/dates/since/path filters), git_branches, update_velocity, project_config read/write, list_registered_projects, integrations_status, test_integration. Total: ~40 tools across 16 domains. Adding new tools = new file in tools/ dir.",
      "files": [
        "server/ai/tools.ts"
      ],
      "roadmap_item": "ai-chat-agent",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-6",
      "resolved": "2026-02-08",
      "notes": "Prerequisite for IDEA-032 (AI init wizard). User wants AI to have full CRUD access to every corner of DevTrack."
    },
    {
      "id": "ISS-017",
      "title": "Changelog view crashes on click — 'cannot read length of undefined'",
      "status": "resolved",
      "severity": "high",
      "type": "bug",
      "symptoms": "Clicking any changelog entry throws 'Uncaught TypeError: Cannot read properties of undefined (reading length)'. View crashes.",
      "root_cause": "ChangelogEntry type expects items:string[] and files_touched:string[], but actual data uses files_changed and has no items field. Component accesses entry.items.length without null check.",
      "resolution": "Added optional chaining (entry.items?.length) for null safety. Created getFiles() helper to handle both files_touched and files_changed field names. Added type/scope/backlog_item display in expanded view.",
      "files": [
        "ui/src/views/Changelog.tsx"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-6",
      "resolved": "2026-02-08",
      "notes": null
    },
    {
      "id": "ISS-018",
      "title": "Ideas view — clicking ideas may crash if data has null arrays",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "Clicking ideas doesn't expand / detail panel doesn't appear. Possible crash on open_questions.length or pros.length when those fields are null.",
      "root_cause": "Ideas data may have null/undefined for array fields (pros, cons, open_questions) that the component accesses with .length without null checks.",
      "resolution": "Added optional chaining on all array property accesses: open_questions?.length, pros?.length, cons?.length. Prevents crash when ideas have null/undefined array fields.",
      "files": [
        "ui/src/views/Ideas.tsx"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-6",
      "resolved": "2026-02-08",
      "notes": null
    },
    {
      "id": "ISS-019",
      "title": "Docs view — ToC section links don't scroll to content",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "Clicking any table of contents heading in Docs view does nothing. Content exists but ToC links don't scroll to it.",
      "root_cause": "ToC generates #anchor links but ReactMarkdown doesn't add id attributes to rendered headings without rehype-slug plugin configured.",
      "resolution": "Fixed scrollToSection to use container-relative scrolling instead of scrollIntoView. The docs content is in a scrollable div (overflow-y-auto), so scrollIntoView doesn't work — now calculates offsetTop relative to the container and uses container.scrollTo().",
      "files": [
        "ui/src/views/Docs.tsx"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-6",
      "resolved": "2026-02-08",
      "notes": null
    },
    {
      "id": "ISS-020",
      "title": "Velocity log missing sessions 6–7 data",
      "action_id": null,
      "status": "resolved",
      "severity": "medium",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_in_run": null,
      "symptoms": "Session log shows 5 sessions, but system descriptions reference 7 sessions (sessions 6–7 for entity model v2 refactor and docs/automation engine). Velocity totals only reflect 54 items / 161 points from sessions 1–5. The entity model v2 refactor (CL-043) and docs/automation build (CL-044) are not counted in velocity metrics. This means reported velocity is understated.",
      "root_cause": "Sessions 6 and 7 were likely not formally started/ended through the session tracking system, so their velocity data was never recorded. The end_session flow may not have been executed, or the sessions were run without using the session lifecycle tools.",
      "files": [
        "data/session/log.json",
        "data/metrics/velocity.json"
      ],
      "backlog_item": null,
      "resolution": "Backfilled sessions 6 and 7 from activity feed (ACT-0001–ACT-0017), changelog (CL-043, CL-044), and cursor rule briefing. Session 6: Entity Model v2, 2.5h, 8 items, 35pts. Session 7: Infrastructure, 3.5h, 15 items, 55pts. Velocity totals updated: 77 items / 251 points across 7 sessions. Session log next_id corrected to 8. Both sessions marked [BACKFILLED].",
      "resolved": "2026-02-08",
      "notes": "Root cause confirmed: sessions were not formally ended through POST /api/v1/session/end — the AI agent wrapped up without running the session lifecycle. Structural fix: future sessions should always be ended through the API."
    },
    {
      "id": "ISS-021",
      "title": "Automation controls not surfaced in Settings UI",
      "status": "resolved",
      "severity": "medium",
      "type": "ux",
      "symptoms": "The automations config (enabled, scheduler, triggers, model tier, cooldown, cost tracking) was added to ai/config.json but has no UI in Settings. Users must edit JSON directly to control automations.",
      "root_cause": "Automation config was added in session 7 without corresponding UI. Only JSON editing was available.",
      "resolution": "Added full Automations section to Settings AI Configuration tab: master kill switch, scheduler toggle, triggers toggle, model tier selector, cooldown config, max concurrent, budget status with reset, list of all 5 registered automations with individual toggles.",
      "files": [
        "ui/src/views/Settings.tsx",
        "data/ai/config.json"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-7",
      "resolved": "2026-02-08",
      "notes": null
    },
    {
      "id": "ISS-022",
      "title": "Helicone shows $0 cost for Claude Opus 4.6 requests",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "Helicone dashboard shows 49 Claude Opus 4.6 requests at $0.00 cost. Landmark project (using Sonnet) shows costs correctly. Opus 4.6 likely missing from Helicone pricing database. Also 32 requests show n/a provider.",
      "root_cause": "Claude Opus 4.6 model not yet in Helicone's pricing database. New models take time to be added. Provider shown as n/a for proxied requests missing the model header.",
      "resolution": "Merged into ISS-003 as part of broader Helicone integration issues. Helicone pricing will self-resolve as they update their database. The n/a provider issue requires ensuring model headers pass through the proxy correctly.",
      "files": [
        "server/ai/service.ts"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-08",
      "discovered_by": "session-7",
      "resolved": "2026-02-08",
      "notes": null
    },
    {
      "id": "ISS-023",
      "title": "Roadmap items can't be expanded — ellipsis click does nothing",
      "status": "resolved",
      "severity": "high",
      "type": "bug",
      "symptoms": "Every roadmap item shows an ellipsis (…) at the end, but clicking it does nothing. No expand, no detail panel, no action. User can't see the full card content, acceptance criteria, related issues, or any detail beyond the one-line summary.",
      "resolution": "Completely rewrote BacklogCard expanded section. Cards now show full summary, metadata grid (type, epic, milestone, spawned_from, assignee, estimated sessions), related issues, dependencies, design doc, tags, acceptance criteria, AI notes, and timestamps. Expand/collapse indicator added to every card. Cursor pointer added.",
      "resolved": "2026-02-08",
      "root_cause": "Roadmap view likely missing expand/detail panel implementation. Cards may have truncated text with ellipsis CSS but no click handler or detail modal.",
      "files": [
        "ui/src/views/Backlog.tsx"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [
        "ui"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "notes": "User needs to see full card content including summary, related issues, epics, acceptance criteria. Cards need expandable detail view like other entity views."
    },
    {
      "id": "ISS-024",
      "title": "No edit/activity log visible in the UI — changes are invisible",
      "status": "resolved",
      "severity": "high",
      "type": "ux",
      "symptoms": "There is no visible running log of what has been changed, by whom, and when. The activity feed exists in data/activity/feed.json but nothing in the UI displays it. User can't see what DevTrack AI changed vs what they changed vs what was an external code change. Critical for trust in AI operations.",
      "root_cause": "Activity feed was built as server-side data (feed.json) but no UI view or sidebar component was created to display it. Provenance system (who made the change) also not implemented.",
      "resolution": "Built Activity Log as a tab in the right sidebar (ChatSidebar.tsx). Landmark-style timeline with: date grouping (Today/Yesterday/date), colored timeline dots per event type, actor provenance badges (You/DevTrack/Automation/External), entity type + ID chips, metadata display (trigger type, duration, severity, horizon), filters by actor (All/User/DevTrack/System) and entity type. Polls every 15s for live updates. Skeleton loading states.",
      "files": [
        "ui/src/components/ChatSidebar.tsx",
        "data/activity/feed.json"
      ],
      "roadmap_item": "activity-log-ui",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [
        "ui",
        "trust",
        "provenance"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "resolved": "2026-02-08",
      "notes": "Follows Landmark's pattern: timeline layout, provenance badges, expandable metadata. Actor types: user (You), system/devtrack (DevTrack), automation (Automation), external (External). 15s polling for live updates."
    },
    {
      "id": "ISS-025",
      "title": "Docs page completely blank — UI not connected to registry API",
      "status": "resolved",
      "severity": "high",
      "type": "bug",
      "symptoms": "Docs page shows nothing. 14 auto-generated docs exist in data/docs/ with registry.json, but the page is empty.",
      "root_cause": "UI (Docs.tsx) calls legacy endpoints (/api/v1/docs/designs, /api/v1/docs/decisions). Server has new registry-based endpoint (GET /api/v1/docs) but UI was never updated. API client (client.ts) is also missing registry methods. Classic v1→v2 migration gap.",
      "resolution": "Rewrote Docs.tsx to use registry API. Added full docs CRUD methods to API client. Docs now grouped by category (Guides, Systems, Design Docs), auto-selects system-overview, shows auto-generated badges.",
      "files": [
        "ui/src/views/Docs.tsx",
        "ui/src/api/client.ts",
        "server/routes/docs.ts"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [
        "ui",
        "regression"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "resolved": "2026-02-08",
      "notes": "14 docs in registry: system-overview, getting-started, data-model-reference, api-reference, and 10 system docs. All auto-generated by AI. Content is in individual .md files in data/docs/. Registry tracks metadata."
    },
    {
      "id": "ISS-026",
      "title": "AI chat creates duplicate entities — no dedup check before create",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "DevTrack AI created IDEA-048 and IDEA-049 as identical duplicates of the chaos testing idea. The create_idea tool (and likely create_issue, create_backlog, etc.) has no check for whether a similar entity already exists before creating. Same root cause as the duplicate weekly reports (IDEA-042) but at the tool level, not the automation level.",
      "resolution": "Added dedup checks to all three AI create tools: capture_idea (ideas.ts), create_issue (issues.ts), create_backlog_item (backlog.ts). Uses title normalization + word overlap (70% threshold) + containment matching. Returns duplicate flag with existing entity details so the AI gets clear guidance to use update instead.",
      "resolved": "2026-02-08",
      "root_cause": "AI tool executors call store.push() without checking for duplicates. The AI itself doesn't always remember what it just created within the same conversation turn.",
      "files": [
        "server/ai/tools/ideas.ts",
        "server/ai/tools/"
      ],
      "roadmap_item": "brain-note-dedup",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [
        "ai",
        "dedup"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "notes": "User noticed during DevTrack AI conversation. IDEA-048 and IDEA-049 are identical. Tool-level dedup needed — check title similarity before creating. Also needs conversation-level awareness (the AI called create_idea twice in the same response)."
    },
    {
      "id": "ISS-027",
      "title": "No visual feedback when AI creates/modifies entities during chat — need Pillar-style tray",
      "status": "resolved",
      "severity": "high",
      "type": "ux",
      "symptoms": "When DevTrack AI creates an idea, issue, or roadmap item via tool call during chat, the user sees nothing. No card, no link, no confirmation. The idea appeared in the data but the user had no idea it happened until they manually checked. In Pillar, tool calls render as expandable cards showing what was done with links to the result.",
      "resolution": "Built rich tool call tray in ChatSidebar. Create ops show entity cards with ID, severity/priority badges, title, description. List ops show item counts with expandable entity rows. Update/resolve ops show entity changes. Duplicate prevention shows warning cards. All tool results persist with messages (toolResults field). Default fallback for unknown tools. Streaming pills show live status.",
      "resolved": "2026-02-08",
      "root_cause": "ChatSidebar.tsx shows tool call names but doesn't render rich results. Tool call results are raw JSON, not interactive cards. No navigation from chat to the created entity.",
      "files": [
        "ui/src/components/ChatSidebar.tsx"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [
        "ui",
        "chat",
        "ux"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "notes": "User: 'it added the idea which was amazing but it didn't show me that it added it... we really need that tray from Pillar style wired in here.' This is IDEA-019 (rich tool call tray) — should be promoted to roadmap as a high-priority item. Reference Pillar's SidebarChat tray system."
    },
    {
      "id": "ISS-028",
      "title": "Created/modified timestamps not visible on entity cards in UI",
      "status": "resolved",
      "severity": "medium",
      "type": "ux",
      "symptoms": "Every entity (issues, ideas, roadmap items, changelog) has created/updated timestamps in the data, but the UI cards don't show them anywhere. User can't tell when something was created or last modified without reading the JSON.",
      "resolution": "Added timestamps to: Backlog cards (created, modified, started, completed in expanded view), Issues detail panel (discovered + resolved dates), Ideas detail panel (created + modified dates). Priority badges also added to Ideas detail.",
      "resolved": "2026-02-08",
      "root_cause": "UI card components were built for minimal display. Timestamps exist in data but aren't rendered.",
      "files": [
        "ui/src/views/Backlog.tsx",
        "ui/src/views/Ideas.tsx",
        "ui/src/views/Issues.tsx"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [
        "ui"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "notes": "User wants: created date, last modified date, and modifier label (User, DevTrack AI model name, External) on all entity cards. Ties into entity-provenance roadmap item."
    },
    {
      "id": "ISS-029",
      "title": "AI tool writes bypass store write tracking — watcher sees them as external changes",
      "status": "resolved",
      "severity": "high",
      "type": "bug",
      "symptoms": "Ideas, brain notes, and profile tools wrote directly via fs.writeFileSync, bypassing the store's markWrite() tracking. The file watcher would see these as external changes and fire file_changed triggers, creating a potential infinite feedback loop when automations are active.",
      "resolution": "Refactored ideas.ts to use the store (store.ideas + store.saveIdeas()). Added store.markWrite() calls to brain.ts writeJSON wrapper and profiles.ts write operations. All AI tool writes now go through proper write tracking.",
      "resolved": "2026-02-08",
      "root_cause": "ideas.ts, brain.ts, profiles.ts were created before the unified store system and used direct fs.writeFileSync calls that bypassed the watcher debounce mechanism.",
      "files": [
        "server/ai/tools/ideas.ts",
        "server/ai/tools/brain.ts",
        "server/ai/tools/profiles.ts"
      ],
      "backlog_item": null,
      "action_id": null,
      "assignee": null,
      "tags": [
        "architecture",
        "automations",
        "feedback-loop"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "notes": "Ticking time bomb — would have caused infinite loops the moment a file_changed automation was added."
    },
    {
      "id": "ISS-030",
      "title": "Settings UI shows 'manual' trigger for all automations — type mismatch",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "Every automation in the Settings UI Registered Automations section shows 'manual' as the trigger type, regardless of actual trigger (scheduled, session_ended, item_completed). UI expected trigger as an object {type, event} but API returns a plain string.",
      "resolution": "Fixed AutomationItem interface to define trigger as string. Updated trigger badge rendering to read the string directly with proper color coding per trigger type (blue for scheduled, purple for session_ended, green for item_completed, etc.).",
      "resolved": "2026-02-08",
      "root_cause": "AutomationItem interface in Settings.tsx defined trigger as { type: string; event?: string } but the API returns automations with trigger as a plain string from the data file.",
      "files": [
        "ui/src/views/Settings.tsx"
      ],
      "backlog_item": null,
      "action_id": null,
      "assignee": null,
      "tags": [
        "ui",
        "settings"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "notes": null
    },
    {
      "id": "ISS-031",
      "title": "Max Concurrent setting not enforced by automation engine",
      "status": "open",
      "severity": "low",
      "type": "enhancement",
      "symptoms": "The Max Concurrent input in Settings > Automations appears functional but the engine processes automations sequentially within fire() and never checks the max_concurrent config value. Setting is purely cosmetic.",
      "resolution": null,
      "resolved": null,
      "root_cause": "Engine was built with sequential execution per trigger fire. Concurrent execution would require tracking running count across multiple fire() calls and deferring excess automations.",
      "files": [
        "server/automation/engine.ts"
      ],
      "backlog_item": null,
      "action_id": null,
      "assignee": null,
      "tags": [
        "automations",
        "settings"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "notes": "Marked as 'coming soon' in UI. Low priority since cooldown already prevents overlap. WEEKLY REFRESH: 2+ days old, correctly deprioritized as low severity."
    },
    {
      "id": "ISS-032",
      "title": "Reset Spend button doesn't persist — only updates local React state",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "Clicking 'Reset Spend' in automations budget section updates the display to $0.00 but doesn't call the API. Change is lost on page refresh unless user manually clicks 'Save Changes' afterward.",
      "resolution": "Added immediate API call (PUT /ai/config) after updating local state in resetBudget() so the change persists without requiring a separate save.",
      "resolved": "2026-02-08",
      "root_cause": "resetBudget() only called setConfig(updated) without any fetch() to persist.",
      "files": [
        "ui/src/views/Settings.tsx"
      ],
      "backlog_item": null,
      "action_id": null,
      "assignee": null,
      "tags": [
        "ui",
        "settings",
        "budget"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "notes": null
    },
    {
      "id": "ISS-033",
      "title": "AI chat duplicate entity creation on stream failure/retry",
      "status": "resolved",
      "severity": "medium",
      "type": "bug",
      "symptoms": "IDEA-048 and IDEA-049 are identical. Only IDEA-049 appears in the conversation history. IDEA-048 was orphaned by a failed stream where the tool call executed (writing to disk) but the conversation wasn't saved. On retry, the AI created a duplicate.",
      "resolution": "Added dedup checks to all three create tools (capture_idea, create_issue, create_backlog_item) using title normalization and word overlap matching. Returns existing entity instead of creating duplicate.",
      "resolved": "2026-02-08",
      "root_cause": "Tool side-effects (entity creation) are not transactional with the conversation stream. If the stream dies after tool execution but before message_complete, entities are orphaned and retries create duplicates.",
      "files": [
        "server/ai/tools/ideas.ts",
        "server/ai/tools/issues.ts",
        "server/ai/tools/backlog.ts"
      ],
      "backlog_item": null,
      "action_id": null,
      "assignee": null,
      "tags": [
        "ai",
        "chat",
        "data-integrity"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "notes": "Root cause is architectural — tool calls execute before the response stream completes. Dedup is a mitigation, not a fix. True fix would be transactional tool execution."
    },
    {
      "id": "ISS-034",
      "title": "File watcher only fires generic file_changed — no semantic triggers from data edits",
      "status": "open",
      "severity": "critical",
      "type": "architecture",
      "symptoms": "When data files are edited directly (Cursor, manual JSON edit, another AI), the file watcher detects the change but only fires a generic file_changed trigger. No typed triggers (session_ended, issue_created, item_completed) fire. This means automations like session-end-audit only work when changes go through the API routes, not when data is edited externally. Session 8 was closed by editing JSON directly and the session-end-audit never fired.",
      "root_cause": "The watcher (chokidar) sees file changes but doesn't diff before/after state. It can't distinguish 'session log changed because a session ended' from 'session log changed because someone edited a typo'. Typed triggers are only fired from API route handlers, creating a code-path dependency for automation.",
      "resolution": null,
      "files": [
        "server/watcher.ts",
        "server/automation/engine.ts"
      ],
      "roadmap_item": "ai-watcher",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [
        "architecture",
        "automation",
        "watcher"
      ],
      "discovered": "2026-02-08",
      "discovered_by": "session-8",
      "resolved": null,
      "notes": "CRITICAL BLOCKER (14+ days open): File watcher only fires generic file_changed. No typed triggers (session_ended, issue_created, item_completed) from external edits. Automations only work via API routes, not when data edited externally (Cursor, manual JSON, other AI). Session 8 closed via JSON edit — session-end-audit never fired. Root cause: watcher sees file changes but doesn't diff before/after state. Can't distinguish 'session ended' from 'typo fixed'. Typed triggers only fire from API route handlers. BLOCKS: reliable automation system, self-healing data, ISS-006 structural fix. SOLUTION: Semantic watcher that diffs entity state, fires typed triggers code-path-independently. This is THE foundational automation issue. WEEKLY REFRESH: Still critical, 14+ days old. Session 11 infrastructure work (change-queue.ts, hooks.ts) may be addressing this. Monitor for resolution."
    },
    {
      "id": "ISS-035",
      "title": "AI Configuration settings don't persist — Save Changes button doesn't work",
      "action_id": null,
      "status": "resolved",
      "severity": "high",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_in_run": null,
      "symptoms": "In Settings > AI Configuration tab, changing settings (cooldown minutes, pause at budget toggle, etc.) and clicking \"Save Changes\" appears to work (no error), but settings don't persist. Refresh the page and the old values are back. User reported: changed cooldown and disabled \"pause at budget reached\" — neither saved.",
      "root_cause": "Object.assign in PUT /api/v1/ai/config (server/routes/ai.ts line 111) is a shallow merge. When UI sends { automations: { cooldown_minutes: 5 } }, it REPLACES the entire automations object, wiping enabled, scheduler_enabled, triggers_enabled, etc.",
      "files": [
        "server/routes/ai.ts"
      ],
      "backlog_item": null,
      "resolution": "Replaced Object.assign with recursive deepMerge function that preserves nested object properties. Arrays and primitives are replaced, objects are merged recursively.",
      "resolved": "2026-02-08",
      "notes": "First bug discovered live by the dev-track chat agent during browser testing. Agent investigated, found root cause, proposed two solutions. Deep merge in API route was the cleaner fix. Notable: this is the exact handoff pattern we designed — agent investigates, creates rich issue, human (or Cursor) implements the fix."
    },
    {
      "id": "ISS-036",
      "type": "ux",
      "title": "Chat agent suggests code edits it cannot perform — system prompt needs scope boundaries",
      "action_id": null,
      "status": "resolved",
      "severity": "medium",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_in_run": null,
      "symptoms": "When the chat agent investigates a bug (e.g. ISS-035 shallow merge), it concludes with 'Want me to implement the fix?' and proposes code changes with line numbers. The user sees a suggestion that looks actionable but the agent has no code editing tools — it can only manage DevTrack entities. This sets incorrect expectations and reduces trust.",
      "root_cause": "System prompt in server/ai/chat.ts does not explicitly state the agent's scope boundaries. It says 'You have FULL access to the dev-track project management system through tools' and 'You can read any file in the project' which is accurate, but doesn't clarify that reading ≠ editing. The agent infers code editing capability from its file reading tools.",
      "files": [
        "server/ai/chat.ts"
      ],
      "backlog_item": "ai-chat-agent",
      "resolution": "Added 'Scope & Boundaries' section to system prompt in server/ai/chat.ts. Agent now explicitly told: it's a project intelligence layer, not a code editor. Can read files but cannot edit. Must create rich entities as handoff artifacts. Must tell user to hand ISS-XXX to Cursor. Added guidance to pack maximum detail into entities and never offer code edits.",
      "resolved": "2026-02-08",
      "notes": "Fix: Add explicit scope boundaries to system prompt. Agent should: (1) investigate thoroughly using file reads, (2) document findings in rich issue/idea entities with root cause, affected files, and proposed solutions, (3) explicitly tell the user to hand the issue off to their coding AI (e.g. 'Give ISS-035 to Cursor for implementation'). This makes the agent a project intelligence layer, not a coding agent."
    },
    {
      "id": "ISS-037",
      "type": "ux",
      "title": "Chat has zero process transparency — no thinking indicator, tool calls invisible during execution",
      "action_id": null,
      "status": "resolved",
      "severity": "high",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_in_run": null,
      "symptoms": "When the chat agent processes a request, the user sees nothing happening for long periods. Can't see: (1) when it's thinking/reasoning, (2) what files it's reading, (3) what entities it's creating or updating, (4) how many tool calls are in progress. The current ToolCallPill component exists but shows minimal info — just a running spinner with tool friendly name. No step counter, no progress indication, no intermediate results visible.",
      "root_cause": "ChatSidebar.tsx renders activeToolCalls as simple pills (lines 527-533) during streaming, but doesn't show: thinking states between tool batches, file names being read, entity IDs being created/updated, step progress (e.g. 'Step 3 of 8'). The SSE stream already sends tool_call_start and tool_call_result events with full data — the frontend just doesn't render the detail.",
      "files": [
        "ui/src/components/ChatSidebar.tsx"
      ],
      "backlog_item": "ai-chat-agent",
      "resolution": "Replaced ToolCallPill with AgentActivityPanel component. Shows: status header with current action (Investigating/Reading/Creating/Thinking), step counter (Step 3 of 8+), each tool call as a row with checkmark/spinner/error, contextual detail (file paths, entity IDs, search queries). Scrollable for many tool calls.",
      "resolved": "2026-02-08",
      "notes": "Fix: (1) Add 'Investigating...' / 'Reading files...' / 'Creating issue...' status text based on active tool names, (2) Show step counter when multiple tools are running, (3) Show file paths being read inline, (4) Show entity mutations (created ISS-035, updated roadmap) as they happen. Reference: Cursor's tool call rendering pattern."
    },
    {
      "id": "ISS-038",
      "type": "ux",
      "title": "Chat sidebar missing Pillar-style changes tray — no session-level entity mutation tracking",
      "action_id": null,
      "status": "resolved",
      "severity": "medium",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_in_run": null,
      "symptoms": "When the chat agent creates/updates/deletes entities during a conversation, there's no persistent session-level view of what changed. Tool results are shown inline in messages but scroll away. No way to see at a glance: 'this session created 2 issues, updated 3 roadmap items, and added 1 idea'. The Audits tab tracks automation changes, but interactive chat changes have no equivalent tray.",
      "root_cause": "ChatSidebar.tsx has no session-level change tracking state. Tool results are attached to individual messages (toolResults array on ChatMessage) but not aggregated into a session-wide changes view. Pillar's SessionActivityTray.tsx (apps/web/src/components/work/SessionActivityTray.tsx) solves this with a collapsible tray that groups changes by source and time, with entity icons, action labels, expandable field-level detail, and before→after diffs.",
      "files": [
        "ui/src/components/ChatSidebar.tsx"
      ],
      "backlog_item": "ai-chat-agent",
      "resolution": "Built SessionChangesTray component in ChatSidebar.tsx. Collapsible tray above input area shows session-level entity mutations grouped by type (issue, idea, roadmap item, etc.) with action colors (created=green, updated=blue, resolved=violet). extractSessionChange() parses tool results from SSE stream in real-time. Clears on new conversation. Modeled after Pillar's SessionActivityTray.",
      "resolved": "2026-02-08",
      "notes": "Implementation plan: Port Pillar's SessionActivityTray pattern. Key components: (1) useSessionChanges hook to accumulate mutations from tool_call_result events, (2) ChangeGroup objects grouping by message, (3) Collapsible tray above input area showing entity icon + name + action label + expandable detail, (4) Auto-expand when new changes arrive. DevTrack entity types: epic, roadmap_item, issue, idea, changelog, brain_note, velocity, project_state. Reference: c:\\Users\\realk\\Projects\\pillar\\apps\\web\\src\\components\\work\\SessionActivityTray.tsx"
    },
    {
      "id": "ISS-039",
      "type": "bug",
      "title": "Every WebSocket event remounts the entire active view — destroys all internal state",
      "action_id": null,
      "status": "resolved",
      "severity": "critical",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_in_run": null,
      "symptoms": "Any async update (file save, WebSocket event, chat streaming, automation trigger) causes the current page to reset. Settings jumps from AI Configuration tab back to Profile. Expanded items collapse. Scroll position resets. The entire app feels broken and unstable. User thought settings weren't saving — they were, but the view remounted before the user could see it.",
      "root_cause": "App.tsx line 33: setRefreshKey(k => k + 1) fires on EVERY WebSocket event. Every view component uses key={refreshKey}, which tells React to unmount and remount the entire component tree from scratch. This destroys all internal state: useState values, scroll position, expanded/collapsed sections, active tabs. The file watcher fires WS events on every data file change, so any save/update/automation causes a full view reset.",
      "files": [
        "ui/src/App.tsx"
      ],
      "backlog_item": null,
      "resolution": "Removed the setRefreshKey increment from the WS handler and removed key={refreshKey} from all view components. Views now persist their internal state across WS events. Views that need live data should manage their own data freshness (polling, WS subscriptions) rather than being force-remounted.",
      "resolved": "2026-02-08",
      "notes": "This was a foundational architecture bug — the refreshKey pattern was a quick hack for live data that made the entire app feel broken. The correct pattern is for each view to manage its own data lifecycle. Some views (Dashboard, Activity) might want to poll on an interval; others (Settings) should only fetch on mount and user action."
    },
    {
      "id": "ISS-040",
      "type": "bug",
      "title": "Anthropic rate limiting — 429 errors at 450K input tokens/min during automation runs",
      "status": "resolved",
      "severity": "high",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_by": "session-10",
      "symptoms": "Helicone shows 429 Error responses from Anthropic API during automation runs. Rate limit: 450,000 input tokens per minute (org-level). Automation runs can hit this limit because they send large system prompts with full context to Sonnet 4.5. A single automation run can exceed 450K input tokens across multiple rapid tool-call iterations. Error: 'This request would exceed your organization's rate limit of 450,000 Input tokens per minute.'",
      "root_cause": "No rate limiting or throttling in the AI service layer. runAgent() iterates rapidly with large context windows. Multiple automations could fire near-simultaneously. No backoff/retry logic when 429 is returned.",
      "files": [
        "server/ai/service.ts",
        "server/ai/runner.ts",
        "server/automation/engine.ts"
      ],
      "resolution": "Three-layer rate limit protection in AIService: (1) withRetry() wrapper with exponential backoff (5s/15s/45s) on 429 errors for all provider API calls. (2) TokenRateTracker with per-provider 60s sliding window. (3) Preemptive delay when approaching known limits (Anthropic 400K buffer of 450K limit).",
      "resolved": "2026-02-08",
      "roadmap_item": "ai-rate-limiting",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "tags": [
        "ai",
        "rate-limiting",
        "anthropic",
        "cost"
      ],
      "notes": "User provided Helicone screenshot showing the 429. Model: claude-sonnet-4-5-20250929. Fixed with retry + preemptive throttling."
    },
    {
      "id": "ISS-041",
      "type": "bug",
      "title": "Docs tab may not render page content — user reports headers showing but content missing",
      "status": "resolved",
      "severity": "medium",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_by": "session-10",
      "symptoms": "User reports the Docs tab shows table of contents and headers in the left sidebar, but actual page content does not render in the main content area. Needs verification — the API chain (docs route → store.getDocContent → readMarkdown) looks correct, and .md files have content.",
      "root_cause": "Docs UI was rewritten in session 10 as part of the three-column layout overhaul. The original rendering issue was resolved as part of the complete Docs.tsx rewrite.",
      "files": [
        "ui/src/views/Docs.tsx",
        "server/routes/docs.ts",
        "server/store.ts"
      ],
      "resolution": "Resolved as part of complete Docs tab rewrite in session 10 (CL-087). Three-column layout with page tree, content area, and ToC now renders all doc content correctly. Sub-page navigation, callout blocks, and Mermaid diagrams all render. Needs browser validation.",
      "resolved": "2026-02-08",
      "roadmap_item": "docs-wiki-overhaul",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "tags": [
        "ui",
        "docs"
      ],
      "notes": "API chain analysis: GET /docs/:id → store.getDocContent(id) → readMarkdown('docs/{id}.md') → path.join(getDataDir(), ...). The .md files exist with content (system-overview.md has 137 lines). Need to verify in browser — could be a path issue, CSS issue, or rendering bug."
    },
    {
      "id": "ISS-042",
      "type": "architecture",
      "title": "No resilience for long-running AI agent tasks — server restart kills in-flight work",
      "status": "resolved",
      "severity": "high",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_by": "session-10",
      "symptoms": "Docs initialization cost $35.94 and only completed 4 of 14 docs because the server restarted mid-generation (tsx watch hot reload). The async IIFE in the route handler was killed. No checkpoint, no resume, no refund. User pays for all the context-building iterations that produced nothing.",
      "root_cause": "Long-running AI agent tasks run as fire-and-forget async functions inside the server process. Server restarts (tsx watch, crashes, EADDRINUSE) kill them. No checkpoint/resume mechanism. Each update_doc call persists but the agent loop state is lost.",
      "files": [
        "server/routes/docs.ts",
        "server/ai/runner.ts",
        "server/automation/engine.ts"
      ],
      "resolution": "Hybrid docs generation architecture: (1) Update mode uses per-doc Sonnet coordinator — each doc is atomic, server restart loses at most 1 doc. (2) Both modes track completed_docs in status.json — re-running skips recently completed docs (resumability). (3) Tool descriptions fixed to prevent fumbling. (4) State cache replaces 130K raw context. (5) Conflict prevention (409 if already running).",
      "resolved": "2026-02-08",
      "roadmap_item": "docs-wiki-overhaul",
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "tags": [
        "architecture",
        "resilience",
        "cost",
        "critical-for-production"
      ],
      "notes": "Original problem: $36 docs init killed by server restart, agent wasted $14 on tool fumbling. Fixed with per-doc coordinator for updates (each doc atomic), checkpointing for init mode, better tool descriptions."
    },
    {
      "id": "ISS-043",
      "type": "bug",
      "title": "Anthropic prompt caching not working — 0 cache reads on repeated 130K token system prompts",
      "status": "open",
      "severity": "high",
      "assignee": null,
      "discovered": "2026-02-08",
      "discovered_by": "session-10",
      "symptoms": "Helicone export shows promptCacheReadTokens: 0 for all 17 requests in the docs generation run. The system prompt is ~130K tokens and nearly identical across iterations. Anthropic's automatic prompt caching should be reducing costs by 90% on repeated prefixes, but it's not activating.",
      "root_cause": "Possible causes: (1) Helicone proxy may interfere with Anthropic's cache headers, (2) the system prompt changes slightly between iterations (tool results appended), (3) cache requires specific API parameters not being set, (4) Helicone may not report cache metrics correctly for proxied requests.",
      "files": [
        "server/ai/service.ts"
      ],
      "resolution": null,
      "resolved": null,
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "tags": [
        "ai",
        "cost",
        "anthropic",
        "caching"
      ],
      "notes": "HIGH PRIORITY COST OPTIMIZATION (13+ days open): Helicone shows 0 cache reads despite 130K token system prompts repeated across iterations. Anthropic automatic prompt caching should reduce costs 90% on repeated prefixes ($1.50/1M cached vs $15/1M fresh). Docs generation cost $36 — with caching would be ~$8 (90% savings). Possible causes: (1) Helicone proxy interfering with cache headers, (2) system prompt changing slightly between iterations (tool results appended), (3) missing API parameters, (4) Helicone not reporting correctly. This is THE single biggest cost optimization available. Session 10 data: 17 requests, 2.1M input tokens, promptCacheReadTokens: 0 for all. WEEKLY REFRESH: 13+ days old, $28 in potential savings per docs run. Should prioritize investigation."
    },
    {
      "id": "ISS-044",
      "title": "Project config .dev-track/config.json not detected when using npx tsx",
      "status": "open",
      "severity": "medium",
      "type": "bug",
      "symptoms": "When starting a server from a project directory using npx tsx, the .dev-track/config.json in the CWD is not detected. Server falls back to legacy defaults (port 24680, ./data/ path). Requires env vars as workaround.",
      "root_cause": "npx downloading tsx on-the-fly may change effective CWD or process.cwd() resolves differently.",
      "resolution": null,
      "files": [
        "server/project-config.ts"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-09",
      "discovered_by": "user",
      "resolved": null,
      "notes": null
    },
    {
      "id": "ISS-045",
      "title": "SSE stream dies during long rate-limiter waits - init UI shows hung on finalizing",
      "status": "open",
      "severity": "high",
      "type": "bug",
      "symptoms": "During Pillar init, the Finalize phase triggered multiple 30-60s rate limiter waits. The SSE connection timed out, so the UI never received the done event. User sees Finalizing indefinitely even though the server completed successfully.",
      "root_cause": "No SSE keepalive/heartbeat mechanism. Hono SSE stream has no periodic ping during idle periods. Browser closes the connection after ~60s of inactivity.",
      "resolution": null,
      "files": [
        "server/routes/init.ts",
        "server/ai/runner.ts",
        "ui/src/api/client.ts"
      ],
      "roadmap_item": null,
      "epic_id": null,
      "milestone_id": null,
      "blocked_by_issue": null,
      "assignee": null,
      "tags": [],
      "discovered": "2026-02-09",
      "discovered_by": "user",
      "resolved": null,
      "notes": null
    }
  ],
  "next_id": 46
}
